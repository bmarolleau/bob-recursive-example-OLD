>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtsqlrpgi obj(TEST/ART200) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/ART200-Work_with_article.PGM.SQLRPGLE') COMMIT(*NONE) OBJTYPE(*MODULE) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('Work with article.PGM') TGTRLS() DBGVIEW(*SOURCE) RPGPPOPT(*LVL2) COMPILEOPT('TGTCCSID(297)')
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.36.348592000

CPD000D: Command QSYS/CRTSQLRPGI not safe for a multithreaded job.
SQL9001: SQL precompile failed.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   ART200
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :   Work with article.PGM
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/ART20
                                       0-Work_with_article.PGM.SQLRPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R3M0
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NORMVCOMMENT *EXPINCLUDE   *NOSEQSRC
  Output source file . . . . . . . :   QSQLPRE
    Library  . . . . . . . . . . . :     QTEMP
  Output source member . . . . . . :   ART200
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1                                                                                                                      000001
     2 h dftactgrp(*no) bnddir('SAMPLE')                                                                                    000002
     3                                                                                                                      000003
     4 farticle2  if   e           k disk    rename(farti:farti2)                                                           000004
     5 farticle1  uf a e           k disk                                                                                   000005
     6 fart200d   cf   e             workstn                                                                                000006
     7 F                                     indds(indds)                                                                   000007
     8 F                                     sfile(sfl01:rrn01)                                                             000008
     9 F                                     Infds(Info)                                                                    000009
    10                                                                                                                      000010
    11  /copy qprotosrc/familly                                                                                             000011
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  familly.r+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/familly.rpgleinc                                 *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    12+ *=============================================                                                                     1000001
    13+ * Get FAMILLY DESCRIPTION                                                                                          1000002
    14+ *=============================================                                                                     1000003
    15+DGetArtFamDesc    PR            50                                                                                  1000004
    16+D FAID                           3     value                                                                        1000005
    17+ *=============================================                                                                     1000006
    18+ * Ckeck if familly exist                                                                                           1000007
    19+ *=============================================                                                                     1000008
    20+D ExistArtFam     PR              n                                                                                 1000009
    21+D P_FAID                         3     value                                                                        1000010
    22+ *=============================================                                                                     1000011
    23+ * Get DELETE CODE X=DELETED                                                                                        1000012
    24+ *=============================================                                                                     1000013
    25+DIsArtFamDeleted  PR              n                                                                                 1000014
    26+D FAID                           3     value                                                                        1000015
    27+ *=============================================                                                                     1000016
    28+ * Close FAMILLY                                                                                                    1000017
    29+ *=============================================                                                                     1000018
    30+D CloseFAMILLY    PR                                                                                                1000019
    31+ *=============================================                                                                     1000020
    32+ * Select a Failly code                                                                                             1000021
    33+ *=============================================                                                                     1000022
    34+d SltArtFam       pr             3                                                                                  1000023
    35+d pcod                           3                                                                                  1000024
    36+                                                                                                                    1000025
    37                                                                                                                      000012
    38 d providers       pr                  extpgm('ART201')                                                               000013
    39 d  id                                 like(arid)                                                                     000014
    40                                                                                                                      000015
    41 D indds           ds                                                                                                 000016
    42 D  help                   1      1n                                                                                  000017
    43 D  exit                   3      3n                                                                                  000018
    44 D  prompt                 4      4n                                                                                  000019
    45 D  refresh                5      5n                                                                                  000020
    46 D  Create                 6      6n                                                                                  000021
    47 D  cancel                12     12n                                                                                  000022
    48 D  morekeys              24     24n                                                                                  000023
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    49 D  pagedown              25     25n                                                                                  000024
    50 D  sflclr                30     30n                                                                                  000025
    51 D  sfldsp                31     31n                                                                                  000026
    52 D  sfldspctl             32     32n                                                                                  000027
    53 D  sflnxtchg             33     33n                                                                                  000028
    54 D  dspatr_ri             34     34n                                                                                  000029
    55 D  sflmsg                35     35n                                                                                  000030
    56 D  errFamilly            40     40n                                                                                  000031
    57 D  errDesc               41     41n                                                                                  000032
    58 D  sflend                80     80n                                                                                  000033
    59                                                                                                                      000034
    60 D info            ds                                                                                                 000035
    61 D  lrrn                 378    379i 0                                                                                000036
    62                                                                                                                      000037
    63 D rrn01           s              5i 0                                                                                000038
    64 D rrs01           s              5i 0                                                                                000039
    65 D err01           s               n                                                                                  000040
    66                                                                                                                      000041
    67 D panel           S              3i 0 INZ(1)                                                                         000042
    68 D step01          S              3    inz(prp)                                                                       000043
    69 D step02          S              3    inz(prp)                                                                       000044
    70 D step03          S              3    inz(prp)                                                                       000045
    71 d savId           s                   like(arid)                                                                     000046
    72 d savDesc         s                   like(ardesc)                                                                   000047
    73 d NewId           s              6  0                                                                                000048
    74 d User            s             10    inz(*user)                                                                     000049
    75 d count           s              3i 0                                                                                000050
    76 d mode            s              3                                                                                   000051
    77                                                                                                                      000052
    78 d crt             c                   'CRT'                                                                          000053
    79 d upd             c                   'UPD'                                                                          000054
    80 d prp             c                   'prp'                                                                          000055
    81 d lod             c                   'lod'                                                                          000056
    82 d dsp             c                   'dsp'                                                                          000057
    83 d key             c                   'key'                                                                          000058
    84 d chk             c                   'chk'                                                                          000059
    85 d act             c                   'act'                                                                          000060
    86  /free                                                                                                               000061
    87                                                                                                                      000062
    88   select;                                                                                                            000063
    89   when panel = 1;                                                                                                    000064
    90     exsr pnl01;                                                                                                      000065
    91   when panel = 2;                                                                                                    000066
    92     exsr pnl02;                                                                                                      000067
    93   when panel = 3;                                                                                                    000068
    94     exsr pnl03;                                                                                                      000069
    95   other;                                                                                                             000070
    96     exsr pnl00;                                                                                                      000071
    97   endsl;                                                                                                             000072
    98   //- Subfiles  01 Subroutines --------------------------------------  ---                                           000073
    99   begsr pnl01;                                                                                                       000074
   100     select ;                                                                                                         000075
   101     when step01 = prp ;                                                                                              000076
   102       exsr s01prp;                                                                                                   000077
   103     when step01 = lod ;                                                                                              000078
   104       exsr s01lod;                                                                                                   000079
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   105     when step01 = dsp ;                                                                                              000080
   106       exsr s01dsp;                                                                                                   000081
   107     when step01 = key ;                                                                                              000082
   108       exsr s01key;                                                                                                   000083
   109     when step01 = chk ;                                                                                              000084
   110       exsr s01chk;                                                                                                   000085
   111     when step01 = act ;                                                                                              000086
   112       exsr s01act ;                                                                                                  000087
   113     endsl;                                                                                                           000088
   114   endsr;                                                                                                             000089
   115   //--- Clear Subfile  ----------------------------------------------------                                          000090
   116   begsr s01prp;                                                                                                      000091
   117     RRn01 = 0;                                                                                                       000092
   118     sflclr = *on;                                                                                                    000093
   119     write ctl01;                                                                                                     000094
   120     sflclr = *off;                                                                                                   000095
   121     step01 = lod;                                                                                                    000096
   122     clear savid;                                                                                                     000097
   123     savDesc = posTo;                                                                                                 000098
   124     clear posTo;                                                                                                     000099
   125     rrs01 = 0;                                                                                                       000100
   126   endsr;                                                                                                             000101
   127   //--- Load Subfile  -----------------------------------------------------                                          000102
   128   begsr s01lod;                                                                                                      000103
   129     exsr s01rst;                                                                                                     000104
   130     RRb01 = RRn01 + 1;                                                                                               000105
   131     opt01 = 0;                                                                                                       000106
   132     count = 0;                                                                                                       000107
   133     read article2;                                                                                                   000108
   134     dow not %eof(article2) and count < 14;                                                                           000109
   135       RRN01 += 1;                                                                                                    000110
   136       count += 1;                                                                                                    000111
   137       write sfl01;                                                                                                   000112
   138       read article2;                                                                                                 000113
   139     enddo;                                                                                                           000114
   140     sflend = %eof(article1);                                                                                         000115
   141     step01 = dsp;                                                                                                    000116
   142     exsr s01sav;                                                                                                     000117
   143   endsr;                                                                                                             000118
   144   //--- restore last read -------------------------------------------------                                          000119
   145   begsr s01rst;                                                                                                      000120
   146     setll (savdesc:savid)  article2;                                                                                 000121
   147     rrn01 = rrs01;                                                                                                   000122
   148   endsr;                                                                                                             000123
   149   //--- Save last read -------------------------------------------------                                             000124
   150   begsr s01sav;                                                                                                      000125
   151     savid = arid;                                                                                                    000126
   152     savdesc = ardesc;                                                                                                000127
   153     rrs01 = rrn01;                                                                                                   000128
   154   endsr;                                                                                                             000129
   155   //--- Display Subfile  --------------------------------------------------                                          000130
   156   begsr s01dsp;                                                                                                      000131
   157     sfldspctl = *on;                                                                                                 000132
   158     sfldsp = RRn01 > 0;                                                                                              000133
   159                                                                                                                      000134
   160     write key01;                                                                                                     000135
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   161     exfmt ctl01;                                                                                                     000136
   162     if LRRN <>0;                                                                                                     000137
   163       RRb01 = LRRN;                                                                                                  000138
   164     endif;                                                                                                           000139
   165     step01 = key;                                                                                                    000140
   166   endsr;                                                                                                             000141
   167   //--- Command Keys  -----------------------------------------------------                                          000142
   168   begsr s01key;                                                                                                      000143
   169     select;                                                                                                          000144
   170     when exit;                                                                                                       000145
   171       panel  = 0;                                                                                                    000146
   172       step01 = prp;                                                                                                  000147
   173     when cancel;                                                                                                     000148
   174       step01 = prp;                                                                                                  000149
   175       panel  = panel  - 1;                                                                                           000150
   176     when create;                                                                                                     000151
   177       step01 = prp;                                                                                                  000152
   178       panel  = 2 ;                                                                                                   000153
   179       step02 = prp;                                                                                                  000154
   180       mode = crt;                                                                                                    000155
   181     when pagedown;                                                                                                   000156
   182       step01 = lod;                                                                                                  000157
   183     other;                                                                                                           000158
   184       step01 = chk;                                                                                                  000159
   185     endsl;                                                                                                           000160
   186   endsr;                                                                                                             000161
   187   //--- Check Subfile  ----------------------------------------------------                                          000162
   188   begsr s01chk;                                                                                                      000163
   189     step01 = act;                                                                                                    000164
   190     err01 = *off;                                                                                                    000165
   191     sflnxtchg = *on;                                                                                                 000166
   192     readc(e) sfl01;                                                                                                  000167
   193     dow not %error and not %eof;                                                                                     000168
   194       if opt01  > 6 or opt01 = 1 or opt01 = 5;                                                                       000169
   195         step01 = dsp;                                                                                                000170
   196         dspatr_ri = *on;                                                                                             000171
   197         sflmsg = *on;                                                                                                000172
   198         if not err01;                                                                                                000173
   199           rrb01 = rrn01;                                                                                             000174
   200           err01 = *on;                                                                                               000175
   201         endif;                                                                                                       000176
   202       endif;                                                                                                         000177
   203       update sfl01;                                                                                                  000178
   204       dspatr_ri = *off;                                                                                              000179
   205       readc(e) sfl01;                                                                                                000180
   206     enddo;                                                                                                           000181
   207     sflnxtchg = *off;                                                                                                000182
   208   endsr;                                                                                                             000183
   209   //--- action Subfile  ---------------------------------------------------                                          000184
   210   begsr s01act;                                                                                                      000185
   211     readc(e) sfl01;                                                                                                  000186
   212     select;                                                                                                          000187
   213     when %error or %eof;                                                                                             000188
   214       if posto > ' ';                                                                                                000189
   215         step01 = prp;                                                                                                000190
   216       else;                                                                                                          000191
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   217         step01 = dsp;                                                                                                000192
   218       endif;                                                                                                         000193
   219     when opt01 = 2;                                                                                                  000194
   220       panel = 2;                                                                                                     000195
   221       step02 = prp;                                                                                                  000196
   222       opt01 = 0;                                                                                                     000197
   223       update sfl01;                                                                                                  000198
   224       mode = upd;                                                                                                    000199
   225     when opt01 = 3;                                                                                                  000200
   226       panel = 3;                                                                                                     000201
   227       step02 = prp;                                                                                                  000202
   228       opt01 = 0;                                                                                                     000203
   229       update sfl01;                                                                                                  000204
   230     when opt01 = 4;                                                                                                  000205
   231       chain arid article1;                                                                                           000206
   232       ardel = 'X';                                                                                                   000207
   233       armod = %timestamp();                                                                                          000208
   234       armodid = user;                                                                                                000209
   235       update farti;                                                                                                  000210
   236       step02 = dsp;                                                                                                  000211
   237       opt01 = 0;                                                                                                     000212
   238       update sfl01;                                                                                                  000213
   239     when opt01 = 6;                                                                                                  000214
   240       providers(arid);                                                                                               000215
   241       opt01 = 0;                                                                                                     000216
   242       update sfl01;                                                                                                  000217
   243     other;                                                                                                           000218
   244                                                                                                                      000219
   245     endsl;                                                                                                           000220
   246   endsr;                                                                                                             000221
   247                                                                                                                      000222
   248                                                                                                                      000223
   249   //--- Format 02 Subroutines ------------------------------------     ---                                           000224
   250   begsr pnl02;                                                                                                       000225
   251     select ;                                                                                                         000226
   252     when step02 = prp ;                                                                                              000227
   253       exsr s02prp;                                                                                                   000228
   254     when step02 = dsp ;                                                                                              000229
   255       exsr s02dsp;                                                                                                   000230
   256     when step02 = key ;                                                                                              000231
   257       exsr s02key;                                                                                                   000232
   258     when step02 = chk ;                                                                                              000233
   259       exsr s02chk;                                                                                                   000234
   260     when step02 = act ;                                                                                              000235
   261       exsr s02act ;                                                                                                  000236
   262     endsl;                                                                                                           000237
   263                                                                                                                      000238
   264   endsr;                                                                                                             000239
   265   //--- clear & Load ------------------------------------------------------                                          000240
   266   begsr S02prp;                                                                                                      000241
   267     if mode = crt;                                                                                                   000242
   268       setgt *hival article1;                                                                                         000243
   269       readp article1;                                                                                                000244
   270       Newid = %dec(arid :6: 0)  +1;                                                                                  000245
   271       reset farti;                                                                                                   000246
   272       arid = %editc(NewId:'X');                                                                                      000247
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   273     else;                                                                                                            000248
   274       chain arid article1;                                                                                           000249
   275       famdesc = getArtFamDesc(artifa);                                                                               000250
   276     endif;                                                                                                           000251
   277     step02 = dsp;                                                                                                    000252
   278   endsr;                                                                                                             000253
   279   //--- Display  ----------------------------------------------------------                                          000254
   280   begsr S02dsp;                                                                                                      000255
   281     exfmt fmt02;                                                                                                     000256
   282     step02 = key;                                                                                                    000257
   283   endsr;                                                                                                             000258
   284   //--- command Keys  -----------------------------------------------------                                          000259
   285   begsr S02key;                                                                                                      000260
   286     select;                                                                                                          000261
   287     when exit;                                                                                                       000262
   288       panel  = 1;                                                                                                    000263
   289       step02 = prp;                                                                                                  000264
   290     when cancel;                                                                                                     000265
   291       step02 = prp;                                                                                                  000266
   292       panel  = panel  - 1;                                                                                           000267
   293     when prompt;                                                                                                     000268
   294       artifa = sltArtFam(artifa);                                                                                    000269
   295       famdesc = getArtFamDesc(artifa);                                                                               000270
   296       step02 = dsp;                                                                                                  000271
   297     other;                                                                                                           000272
   298       step02 = chk;                                                                                                  000273
   299     endsl;                                                                                                           000274
   300   endsr;                                                                                                             000275
   301   //--- check -------------------------------------------------------------                                          000276
   302   begsr S02chk;                                                                                                      000277
   303     step02 = act;                                                                                                    000278
   304     if ardesc = ' ';                                                                                                 000279
   305       errDesc = *on;                                                                                                 000280
   306       step02 = dsp;                                                                                                  000281
   307     endif;                                                                                                           000282
   308     if not existArtFam(artifa);                                                                                      000283
   309       errFamilly = *on;                                                                                              000284
   310       step02 = dsp;                                                                                                  000285
   311     endif;                                                                                                           000286
   312                                                                                                                      000287
   313   endsr;                                                                                                             000288
   314   //--- Action ------------------------------------------------------------                                          000289
   315   begsr S02act;                                                                                                      000290
   316     step02 = prp;                                                                                                    000291
   317     armod = %timestamp();                                                                                            000292
   318     armodid = user;                                                                                                  000293
   319     if mode = upd;                                                                                                   000294
   320       update farti;                                                                                                  000295
   321     else;                                                                                                            000296
   322       arcrea = %date();                                                                                              000297
   323       write(e) farti;                                                                                                000298
   324       dow %error;                                                                                                    000299
   325         Newid += 1;                                                                                                  000300
   326         arid = %editc(NewId:'X');                                                                                    000301
   327         write(e) farti;                                                                                              000302
   328       enddo;                                                                                                         000303
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      8
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   329       savdesc = ardesc;                                                                                              000304
   330       savId = arid;                                                                                                  000305
   331       step01 = lod;                                                                                                  000306
   332     endif;                                                                                                           000307
   333     panel = 1;                                                                                                       000308
   334   endsr;                                                                                                             000309
   335                                                                                                                      000310
   336   //--- Format 03 Subroutines ------------------------------------     ---                                           000311
   337   begsr pnl03;                                                                                                       000312
   338     select ;                                                                                                         000313
   339     when step03 = prp ;                                                                                              000314
   340       exsr s03prp;                                                                                                   000315
   341     when step03 = dsp ;                                                                                              000316
   342       exsr s03dsp;                                                                                                   000317
   343     when step03 = key ;                                                                                              000318
   344       exsr s03key;                                                                                                   000319
   345     when step03 = chk ;                                                                                              000320
   346       exsr s03chk;                                                                                                   000321
   347     when step03 = act ;                                                                                              000322
   348       exsr s03act ;                                                                                                  000323
   349     endsl;                                                                                                           000324
   350                                                                                                                      000325
   351   endsr;                                                                                                             000326
   352   //--- clear & Load ------------------------------------------------------                                          000327
   353   begsr S03prp;                                                                                                      000328
   354     exec sql set option commit = *none;                                                                              000329
   355     exec sql select ARTICLE_INFORMATION into :text                                                                   000330
   356              FROM artiinf                                                                                            000331
   357              WHERE ARTICLE_INFO_ID = :arid;                                                                          000332
   358     if sqlcod <> 0;                                                                                                  000333
   359       mode = crt;                                                                                                    000334
   360       clear text;                                                                                                    000335
   361     else;                                                                                                            000336
   362       mode = upd;                                                                                                    000337
   363     endif;                                                                                                           000338
   364     step03 = dsp;                                                                                                    000339
   365   endsr;                                                                                                             000340
   366   //--- Display  ----------------------------------------------------------                                          000341
   367   begsr S03dsp;                                                                                                      000342
   368     exfmt fmt03;                                                                                                     000343
   369     step03 = key;                                                                                                    000344
   370   endsr;                                                                                                             000345
   371   //--- command Keys  -----------------------------------------------------                                          000346
   372   begsr S03key;                                                                                                      000347
   373     select;                                                                                                          000348
   374     when exit;                                                                                                       000349
   375       panel  = 1;                                                                                                    000350
   376       step03 = prp;                                                                                                  000351
   377     when cancel;                                                                                                     000352
   378       step03 = prp;                                                                                                  000353
   379       panel  = 1;                                                                                                    000354
   380     other;                                                                                                           000355
   381       step03 = chk;                                                                                                  000356
   382     endsl;                                                                                                           000357
   383   endsr;                                                                                                             000358
   384   //--- check -------------------------------------------------------------                                          000359
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page      9
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   385   begsr S03chk;                                                                                                      000360
   386     step03 = act;                                                                                                    000361
   387   endsr;                                                                                                             000362
   388   //--- Action ------------------------------------------------------------                                          000363
   389   begsr S03act;                                                                                                      000364
   390     step03 = prp;                                                                                                    000365
   391     panel = 1;                                                                                                       000366
   392     if mode = upd;                                                                                                   000367
   393       exec sql update artiinf                                                                                        000368
   394              set ARTICLE_INFORMATION = trim(:text)                                                                   000369
   395              WHERE ARTICLE_INFO_ID = :arid;                                                                          000370
   396     else;                                                                                                            000371
   397       exec sql insert into artiinf                                                                                   000372
   398                Values(:arid, trim(:text));                                                                           000373
   399     endif;                                                                                                           000374
   400   endsr;                                                                                                             000375
   401   //--------INITIALIZATION ----------------------------------                                                        000376
   402   begsr *inzsr;                                                                                                      000377
   403   endsr;                                                                                                             000378
   404   //--------END SUBROUTINE ----------------------------------                                                        000379
   405   begsr pnl00;                                                                                                       000380
   406     *inlr = *on;                                                                                                     000381
   407   endsr;                                                                                                             000382
   408  /end-free                                                                                                           000383
       * * * * *   E N D   O F   S O U R C E   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
    11    1 familly.r+ ./qprotosrc/familly.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page     10
Line   <---------------------- Data Records -------------------------------------------------------------->      Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Id  Number
                       C o m p i l e   T i m e   D a t a
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page     11
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART200              BENOIT     07/11/22 16:42:36        Page     12
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        0
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        0
  Source Totals:
    Records . . . . . . . . . . . . :      408
    Specifications  . . . . . . . . :      348
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       38
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Diagnostic check of source is complete. Highest severity is 00.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     1
Source type...............RPG
Object name...............TEST/ART200
Source file...............QTEMP/QSQLPRE
Member....................*OBJ
To source file............QTEMP/QSQLTEMP1
Options...................*LSTDBG
RPG preprocessor options..*LVL2
Listing option............*PRINT
Target release............V7R3M0
INCLUDE file..............*LIBL/QRPGLESRC
Commit....................*NONE
Allow copy of data........*OPTIMIZE
Close SQL cursor..........*ENDACTGRP
Allow blocking............*ALLREAD
Delay PREPARE.............*NO
Concurrent access
  resolution..............*DFT
Generation level..........10
Printer file..............*LIBL/QSYSPRT
Date format...............*JOB
Date separator............*JOB
Time format...............*HMS
Time separator ...........*JOB
Replace...................*YES
Relational database.......*LOCAL
User .....................*CURRENT
RDB connect method........*DUW
Default collection........*NONE
Dynamic default
  collection..............*NO
Package name..............*OBJLIB/*OBJ
Path......................*NAMING
SQL rules.................*DB2
Created object type.......*MODULE
Debugging view............*SOURCE
Debugging encryption key..*NONE
User profile .............*NAMING
Dynamic user profile......*USER
Sort sequence.............*JOB
Language ID...............*JOB
IBM SQL flagging..........*NOFLAG
ANS flagging..............*NONE
Text......................Work with article.PGM
Source file CCSID.........297
Job CCSID.................37
Decimal result options:
  Maximum precision.......31
  Maximum scale...........31
  Minimum divide scale....0
DECFLOAT rounding mode....*HALFEVEN
Compiler options..........TGTCCSID(297)
Source member changed on 07/11/22  16:42:36
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     2
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
    1                                                                                      000001   07/11/22
    2        h dftactgrp(*no) bnddir('SAMPLE')                                             000002   07/11/22
    3                                                                                      000003   07/11/22
    4        farticle2  if   e           k disk    rename(farti:farti2)                    000004   07/11/22
    5        farticle1  uf a e           k disk                                            000005   07/11/22
    6        fart200d   cf   e             workstn                                         000006   07/11/22
    7        F                                     indds(indds)                            000007   07/11/22
    8        F                                     sfile(sfl01:rrn01)                      000008   07/11/22
    9        F                                     Infds(Info)                             000009   07/11/22
   10                                                                                      000010   07/11/22
   11         * /copy qprotosrc/familly                                                    000011   07/11/22
   12         *=============================================                               000001   07/11/22
   13         * Get FAMILLY DESCRIPTION                                                    000002   07/11/22
   14         *=============================================                               000003   07/11/22
   15        DGetArtFamDesc    PR            50                                            000004   07/11/22
   16        D FAID                           3     value                                  000005   07/11/22
   17         *=============================================                               000006   07/11/22
   18         * Ckeck if familly exist                                                     000007   07/11/22
   19         *=============================================                               000008   07/11/22
   20        D ExistArtFam     PR              n                                           000009   07/11/22
   21        D P_FAID                         3     value                                  000010   07/11/22
   22         *=============================================                               000011   07/11/22
   23         * Get DELETE CODE X=DELETED                                                  000012   07/11/22
   24         *=============================================                               000013   07/11/22
   25        DIsArtFamDeleted  PR              n                                           000014   07/11/22
   26        D FAID                           3     value                                  000015   07/11/22
   27         *=============================================                               000016   07/11/22
   28         * Close FAMILLY                                                              000017   07/11/22
   29         *=============================================                               000018   07/11/22
   30        D CloseFAMILLY    PR                                                          000019   07/11/22
   31         *=============================================                               000020   07/11/22
   32         * Select a Failly code                                                       000021   07/11/22
   33         *=============================================                               000022   07/11/22
   34        d SltArtFam       pr             3                                            000023   07/11/22
   35        d pcod                           3                                            000024   07/11/22
   36                                                                                      000025   07/11/22
   37                                                                                      000012   07/11/22
   38        d providers       pr                  extpgm('ART201')                        000013   07/11/22
   39        d  id                                 like(arid)                              000014   07/11/22
   40                                                                                      000015   07/11/22
   41        D indds           ds                                                          000016   07/11/22
   42        D  help                   1      1n                                           000017   07/11/22
   43        D  exit                   3      3n                                           000018   07/11/22
   44        D  prompt                 4      4n                                           000019   07/11/22
   45        D  refresh                5      5n                                           000020   07/11/22
   46        D  Create                 6      6n                                           000021   07/11/22
   47        D  cancel                12     12n                                           000022   07/11/22
   48        D  morekeys              24     24n                                           000023   07/11/22
   49        D  pagedown              25     25n                                           000024   07/11/22
   50        D  sflclr                30     30n                                           000025   07/11/22
   51        D  sfldsp                31     31n                                           000026   07/11/22
   52        D  sfldspctl             32     32n                                           000027   07/11/22
   53        D  sflnxtchg             33     33n                                           000028   07/11/22
   54        D  dspatr_ri             34     34n                                           000029   07/11/22
   55        D  sflmsg                35     35n                                           000030   07/11/22
   56        D  errFamilly            40     40n                                           000031   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     3
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
   57        D  errDesc               41     41n                                           000032   07/11/22
   58        D  sflend                80     80n                                           000033   07/11/22
   59                                                                                      000034   07/11/22
   60        D info            ds                                                          000035   07/11/22
   61        D  lrrn                 378    379i 0                                         000036   07/11/22
   62                                                                                      000037   07/11/22
   63        D rrn01           s              5i 0                                         000038   07/11/22
   64        D rrs01           s              5i 0                                         000039   07/11/22
   65        D err01           s               n                                           000040   07/11/22
   66                                                                                      000041   07/11/22
   67        D panel           S              3i 0 INZ(1)                                  000042   07/11/22
   68        D step01          S              3    inz(prp)                                000043   07/11/22
   69        D step02          S              3    inz(prp)                                000044   07/11/22
   70        D step03          S              3    inz(prp)                                000045   07/11/22
   71        d savId           s                   like(arid)                              000046   07/11/22
   72        d savDesc         s                   like(ardesc)                            000047   07/11/22
   73        d NewId           s              6  0                                         000048   07/11/22
   74        d User            s             10    inz(*user)                              000049   07/11/22
   75        d count           s              3i 0                                         000050   07/11/22
   76        d mode            s              3                                            000051   07/11/22
   77                                                                                      000052   07/11/22
   78        d crt             c                   'CRT'                                   000053   07/11/22
   79        d upd             c                   'UPD'                                   000054   07/11/22
   80        d prp             c                   'prp'                                   000055   07/11/22
   81        d lod             c                   'lod'                                   000056   07/11/22
   82        d dsp             c                   'dsp'                                   000057   07/11/22
   83        d key             c                   'key'                                   000058   07/11/22
   84        d chk             c                   'chk'                                   000059   07/11/22
   85        d act             c                   'act'                                   000060   07/11/22
   86         /free                                                                        000061   07/11/22
   87                                                                                      000062   07/11/22
   88          select;                                                                     000063   07/11/22
   89          when panel = 1;                                                             000064   07/11/22
   90            exsr pnl01;                                                               000065   07/11/22
   91          when panel = 2;                                                             000066   07/11/22
   92            exsr pnl02;                                                               000067   07/11/22
   93          when panel = 3;                                                             000068   07/11/22
   94            exsr pnl03;                                                               000069   07/11/22
   95          other;                                                                      000070   07/11/22
   96            exsr pnl00;                                                               000071   07/11/22
   97          endsl;                                                                      000072   07/11/22
   98          //- Subfiles  01 Subroutines --------------------------------------  ---    000073   07/11/22
   99          begsr pnl01;                                                                000074   07/11/22
  100            select ;                                                                  000075   07/11/22
  101            when step01 = prp ;                                                       000076   07/11/22
  102              exsr s01prp;                                                            000077   07/11/22
  103            when step01 = lod ;                                                       000078   07/11/22
  104              exsr s01lod;                                                            000079   07/11/22
  105            when step01 = dsp ;                                                       000080   07/11/22
  106              exsr s01dsp;                                                            000081   07/11/22
  107            when step01 = key ;                                                       000082   07/11/22
  108              exsr s01key;                                                            000083   07/11/22
  109            when step01 = chk ;                                                       000084   07/11/22
  110              exsr s01chk;                                                            000085   07/11/22
  111            when step01 = act ;                                                       000086   07/11/22
  112              exsr s01act ;                                                           000087   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     4
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  113            endsl;                                                                    000088   07/11/22
  114          endsr;                                                                      000089   07/11/22
  115          //--- Clear Subfile  ----------------------------------------------------   000090   07/11/22
  116          begsr s01prp;                                                               000091   07/11/22
  117            RRn01 = 0;                                                                000092   07/11/22
  118            sflclr = *on;                                                             000093   07/11/22
  119            write ctl01;                                                              000094   07/11/22
  120            sflclr = *off;                                                            000095   07/11/22
  121            step01 = lod;                                                             000096   07/11/22
  122            clear savid;                                                              000097   07/11/22
  123            savDesc = posTo;                                                          000098   07/11/22
  124            clear posTo;                                                              000099   07/11/22
  125            rrs01 = 0;                                                                000100   07/11/22
  126          endsr;                                                                      000101   07/11/22
  127          //--- Load Subfile  -----------------------------------------------------   000102   07/11/22
  128          begsr s01lod;                                                               000103   07/11/22
  129            exsr s01rst;                                                              000104   07/11/22
  130            RRb01 = RRn01 + 1;                                                        000105   07/11/22
  131            opt01 = 0;                                                                000106   07/11/22
  132            count = 0;                                                                000107   07/11/22
  133            read article2;                                                            000108   07/11/22
  134            dow not %eof(article2) and count < 14;                                    000109   07/11/22
  135              RRN01 += 1;                                                             000110   07/11/22
  136              count += 1;                                                             000111   07/11/22
  137              write sfl01;                                                            000112   07/11/22
  138              read article2;                                                          000113   07/11/22
  139            enddo;                                                                    000114   07/11/22
  140            sflend = %eof(article1);                                                  000115   07/11/22
  141            step01 = dsp;                                                             000116   07/11/22
  142            exsr s01sav;                                                              000117   07/11/22
  143          endsr;                                                                      000118   07/11/22
  144          //--- restore last read -------------------------------------------------   000119   07/11/22
  145          begsr s01rst;                                                               000120   07/11/22
  146            setll (savdesc:savid)  article2;                                          000121   07/11/22
  147            rrn01 = rrs01;                                                            000122   07/11/22
  148          endsr;                                                                      000123   07/11/22
  149          //--- Save last read -------------------------------------------------      000124   07/11/22
  150          begsr s01sav;                                                               000125   07/11/22
  151            savid = arid;                                                             000126   07/11/22
  152            savdesc = ardesc;                                                         000127   07/11/22
  153            rrs01 = rrn01;                                                            000128   07/11/22
  154          endsr;                                                                      000129   07/11/22
  155          //--- Display Subfile  --------------------------------------------------   000130   07/11/22
  156          begsr s01dsp;                                                               000131   07/11/22
  157            sfldspctl = *on;                                                          000132   07/11/22
  158            sfldsp = RRn01 > 0;                                                       000133   07/11/22
  159                                                                                      000134   07/11/22
  160            write key01;                                                              000135   07/11/22
  161            exfmt ctl01;                                                              000136   07/11/22
  162            if LRRN <>0;                                                              000137   07/11/22
  163              RRb01 = LRRN;                                                           000138   07/11/22
  164            endif;                                                                    000139   07/11/22
  165            step01 = key;                                                             000140   07/11/22
  166          endsr;                                                                      000141   07/11/22
  167          //--- Command Keys  -----------------------------------------------------   000142   07/11/22
  168          begsr s01key;                                                               000143   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     5
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  169            select;                                                                   000144   07/11/22
  170            when exit;                                                                000145   07/11/22
  171              panel  = 0;                                                             000146   07/11/22
  172              step01 = prp;                                                           000147   07/11/22
  173            when cancel;                                                              000148   07/11/22
  174              step01 = prp;                                                           000149   07/11/22
  175              panel  = panel  - 1;                                                    000150   07/11/22
  176            when create;                                                              000151   07/11/22
  177              step01 = prp;                                                           000152   07/11/22
  178              panel  = 2 ;                                                            000153   07/11/22
  179              step02 = prp;                                                           000154   07/11/22
  180              mode = crt;                                                             000155   07/11/22
  181            when pagedown;                                                            000156   07/11/22
  182              step01 = lod;                                                           000157   07/11/22
  183            other;                                                                    000158   07/11/22
  184              step01 = chk;                                                           000159   07/11/22
  185            endsl;                                                                    000160   07/11/22
  186          endsr;                                                                      000161   07/11/22
  187          //--- Check Subfile  ----------------------------------------------------   000162   07/11/22
  188          begsr s01chk;                                                               000163   07/11/22
  189            step01 = act;                                                             000164   07/11/22
  190            err01 = *off;                                                             000165   07/11/22
  191            sflnxtchg = *on;                                                          000166   07/11/22
  192            readc(e) sfl01;                                                           000167   07/11/22
  193            dow not %error and not %eof;                                              000168   07/11/22
  194              if opt01  > 6 or opt01 = 1 or opt01 = 5;                                000169   07/11/22
  195                step01 = dsp;                                                         000170   07/11/22
  196                dspatr_ri = *on;                                                      000171   07/11/22
  197                sflmsg = *on;                                                         000172   07/11/22
  198                if not err01;                                                         000173   07/11/22
  199                  rrb01 = rrn01;                                                      000174   07/11/22
  200                  err01 = *on;                                                        000175   07/11/22
  201                endif;                                                                000176   07/11/22
  202              endif;                                                                  000177   07/11/22
  203              update sfl01;                                                           000178   07/11/22
  204              dspatr_ri = *off;                                                       000179   07/11/22
  205              readc(e) sfl01;                                                         000180   07/11/22
  206            enddo;                                                                    000181   07/11/22
  207            sflnxtchg = *off;                                                         000182   07/11/22
  208          endsr;                                                                      000183   07/11/22
  209          //--- action Subfile  ---------------------------------------------------   000184   07/11/22
  210          begsr s01act;                                                               000185   07/11/22
  211            readc(e) sfl01;                                                           000186   07/11/22
  212            select;                                                                   000187   07/11/22
  213            when %error or %eof;                                                      000188   07/11/22
  214              if posto > ' ';                                                         000189   07/11/22
  215                step01 = prp;                                                         000190   07/11/22
  216              else;                                                                   000191   07/11/22
  217                step01 = dsp;                                                         000192   07/11/22
  218              endif;                                                                  000193   07/11/22
  219            when opt01 = 2;                                                           000194   07/11/22
  220              panel = 2;                                                              000195   07/11/22
  221              step02 = prp;                                                           000196   07/11/22
  222              opt01 = 0;                                                              000197   07/11/22
  223              update sfl01;                                                           000198   07/11/22
  224              mode = upd;                                                             000199   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     6
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  225            when opt01 = 3;                                                           000200   07/11/22
  226              panel = 3;                                                              000201   07/11/22
  227              step02 = prp;                                                           000202   07/11/22
  228              opt01 = 0;                                                              000203   07/11/22
  229              update sfl01;                                                           000204   07/11/22
  230            when opt01 = 4;                                                           000205   07/11/22
  231              chain arid article1;                                                    000206   07/11/22
  232              ardel = 'X';                                                            000207   07/11/22
  233              armod = %timestamp();                                                   000208   07/11/22
  234              armodid = user;                                                         000209   07/11/22
  235              update farti;                                                           000210   07/11/22
  236              step02 = dsp;                                                           000211   07/11/22
  237              opt01 = 0;                                                              000212   07/11/22
  238              update sfl01;                                                           000213   07/11/22
  239            when opt01 = 6;                                                           000214   07/11/22
  240              providers(arid);                                                        000215   07/11/22
  241              opt01 = 0;                                                              000216   07/11/22
  242              update sfl01;                                                           000217   07/11/22
  243            other;                                                                    000218   07/11/22
  244                                                                                      000219   07/11/22
  245            endsl;                                                                    000220   07/11/22
  246          endsr;                                                                      000221   07/11/22
  247                                                                                      000222   07/11/22
  248                                                                                      000223   07/11/22
  249          //--- Format 02 Subroutines ------------------------------------     ---    000224   07/11/22
  250          begsr pnl02;                                                                000225   07/11/22
  251            select ;                                                                  000226   07/11/22
  252            when step02 = prp ;                                                       000227   07/11/22
  253              exsr s02prp;                                                            000228   07/11/22
  254            when step02 = dsp ;                                                       000229   07/11/22
  255              exsr s02dsp;                                                            000230   07/11/22
  256            when step02 = key ;                                                       000231   07/11/22
  257              exsr s02key;                                                            000232   07/11/22
  258            when step02 = chk ;                                                       000233   07/11/22
  259              exsr s02chk;                                                            000234   07/11/22
  260            when step02 = act ;                                                       000235   07/11/22
  261              exsr s02act ;                                                           000236   07/11/22
  262            endsl;                                                                    000237   07/11/22
  263                                                                                      000238   07/11/22
  264          endsr;                                                                      000239   07/11/22
  265          //--- clear & Load ------------------------------------------------------   000240   07/11/22
  266          begsr S02prp;                                                               000241   07/11/22
  267            if mode = crt;                                                            000242   07/11/22
  268              setgt *hival article1;                                                  000243   07/11/22
  269              readp article1;                                                         000244   07/11/22
  270              Newid = %dec(arid :6: 0)  +1;                                           000245   07/11/22
  271              reset farti;                                                            000246   07/11/22
  272              arid = %editc(NewId:'X');                                               000247   07/11/22
  273            else;                                                                     000248   07/11/22
  274              chain arid article1;                                                    000249   07/11/22
  275              famdesc = getArtFamDesc(artifa);                                        000250   07/11/22
  276            endif;                                                                    000251   07/11/22
  277            step02 = dsp;                                                             000252   07/11/22
  278          endsr;                                                                      000253   07/11/22
  279          //--- Display  ----------------------------------------------------------   000254   07/11/22
  280          begsr S02dsp;                                                               000255   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     7
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  281            exfmt fmt02;                                                              000256   07/11/22
  282            step02 = key;                                                             000257   07/11/22
  283          endsr;                                                                      000258   07/11/22
  284          //--- command Keys  -----------------------------------------------------   000259   07/11/22
  285          begsr S02key;                                                               000260   07/11/22
  286            select;                                                                   000261   07/11/22
  287            when exit;                                                                000262   07/11/22
  288              panel  = 1;                                                             000263   07/11/22
  289              step02 = prp;                                                           000264   07/11/22
  290            when cancel;                                                              000265   07/11/22
  291              step02 = prp;                                                           000266   07/11/22
  292              panel  = panel  - 1;                                                    000267   07/11/22
  293            when prompt;                                                              000268   07/11/22
  294              artifa = sltArtFam(artifa);                                             000269   07/11/22
  295              famdesc = getArtFamDesc(artifa);                                        000270   07/11/22
  296              step02 = dsp;                                                           000271   07/11/22
  297            other;                                                                    000272   07/11/22
  298              step02 = chk;                                                           000273   07/11/22
  299            endsl;                                                                    000274   07/11/22
  300          endsr;                                                                      000275   07/11/22
  301          //--- check -------------------------------------------------------------   000276   07/11/22
  302          begsr S02chk;                                                               000277   07/11/22
  303            step02 = act;                                                             000278   07/11/22
  304            if ardesc = ' ';                                                          000279   07/11/22
  305              errDesc = *on;                                                          000280   07/11/22
  306              step02 = dsp;                                                           000281   07/11/22
  307            endif;                                                                    000282   07/11/22
  308            if not existArtFam(artifa);                                               000283   07/11/22
  309              errFamilly = *on;                                                       000284   07/11/22
  310              step02 = dsp;                                                           000285   07/11/22
  311            endif;                                                                    000286   07/11/22
  312                                                                                      000287   07/11/22
  313          endsr;                                                                      000288   07/11/22
  314          //--- Action ------------------------------------------------------------   000289   07/11/22
  315          begsr S02act;                                                               000290   07/11/22
  316            step02 = prp;                                                             000291   07/11/22
  317            armod = %timestamp();                                                     000292   07/11/22
  318            armodid = user;                                                           000293   07/11/22
  319            if mode = upd;                                                            000294   07/11/22
  320              update farti;                                                           000295   07/11/22
  321            else;                                                                     000296   07/11/22
  322              arcrea = %date();                                                       000297   07/11/22
  323              write(e) farti;                                                         000298   07/11/22
  324              dow %error;                                                             000299   07/11/22
  325                Newid += 1;                                                           000300   07/11/22
  326                arid = %editc(NewId:'X');                                             000301   07/11/22
  327                write(e) farti;                                                       000302   07/11/22
  328              enddo;                                                                  000303   07/11/22
  329              savdesc = ardesc;                                                       000304   07/11/22
  330              savId = arid;                                                           000305   07/11/22
  331              step01 = lod;                                                           000306   07/11/22
  332            endif;                                                                    000307   07/11/22
  333            panel = 1;                                                                000308   07/11/22
  334          endsr;                                                                      000309   07/11/22
  335                                                                                      000310   07/11/22
  336          //--- Format 03 Subroutines ------------------------------------     ---    000311   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     8
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  337          begsr pnl03;                                                                000312   07/11/22
  338            select ;                                                                  000313   07/11/22
  339            when step03 = prp ;                                                       000314   07/11/22
  340              exsr s03prp;                                                            000315   07/11/22
  341            when step03 = dsp ;                                                       000316   07/11/22
  342              exsr s03dsp;                                                            000317   07/11/22
  343            when step03 = key ;                                                       000318   07/11/22
  344              exsr s03key;                                                            000319   07/11/22
  345            when step03 = chk ;                                                       000320   07/11/22
  346              exsr s03chk;                                                            000321   07/11/22
  347            when step03 = act ;                                                       000322   07/11/22
  348              exsr s03act ;                                                           000323   07/11/22
  349            endsl;                                                                    000324   07/11/22
  350                                                                                      000325   07/11/22
  351          endsr;                                                                      000326   07/11/22
  352          //--- clear & Load ------------------------------------------------------   000327   07/11/22
  353          begsr S03prp;                                                               000328   07/11/22
  354            exec sql set option commit = *none;                                       000329   07/11/22
  355            exec sql select ARTICLE_INFORMATION into :text                            000330   07/11/22
  356                     FROM artiinf                                                     000331   07/11/22
  357                     WHERE ARTICLE_INFO_ID = :arid;                                   000332   07/11/22
  358            if sqlcod <> 0;                                                           000333   07/11/22
  359              mode = crt;                                                             000334   07/11/22
  360              clear text;                                                             000335   07/11/22
  361            else;                                                                     000336   07/11/22
  362              mode = upd;                                                             000337   07/11/22
  363            endif;                                                                    000338   07/11/22
  364            step03 = dsp;                                                             000339   07/11/22
  365          endsr;                                                                      000340   07/11/22
  366          //--- Display  ----------------------------------------------------------   000341   07/11/22
  367          begsr S03dsp;                                                               000342   07/11/22
  368            exfmt fmt03;                                                              000343   07/11/22
  369            step03 = key;                                                             000344   07/11/22
  370          endsr;                                                                      000345   07/11/22
  371          //--- command Keys  -----------------------------------------------------   000346   07/11/22
  372          begsr S03key;                                                               000347   07/11/22
  373            select;                                                                   000348   07/11/22
  374            when exit;                                                                000349   07/11/22
  375              panel  = 1;                                                             000350   07/11/22
  376              step03 = prp;                                                           000351   07/11/22
  377            when cancel;                                                              000352   07/11/22
  378              step03 = prp;                                                           000353   07/11/22
  379              panel  = 1;                                                             000354   07/11/22
  380            other;                                                                    000355   07/11/22
  381              step03 = chk;                                                           000356   07/11/22
  382            endsl;                                                                    000357   07/11/22
  383          endsr;                                                                      000358   07/11/22
  384          //--- check -------------------------------------------------------------   000359   07/11/22
  385          begsr S03chk;                                                               000360   07/11/22
  386            step03 = act;                                                             000361   07/11/22
  387          endsr;                                                                      000362   07/11/22
  388          //--- Action ------------------------------------------------------------   000363   07/11/22
  389          begsr S03act;                                                               000364   07/11/22
  390            step03 = prp;                                                             000365   07/11/22
  391            panel = 1;                                                                000366   07/11/22
  392            if mode = upd;                                                            000367   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page     9
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  393              exec sql update artiinf                                                 000368   07/11/22
  394                     set ARTICLE_INFORMATION = trim(:text)                            000369   07/11/22
  395                     WHERE ARTICLE_INFO_ID = :arid;                                   000370   07/11/22
  396            else;                                                                     000371   07/11/22
  397              exec sql insert into artiinf                                            000372   07/11/22
  398                       Values(:arid, trim(:text));                                    000373   07/11/22
  399            endif;                                                                    000374   07/11/22
  400          endsr;                                                                      000375   07/11/22
  401          //--------INITIALIZATION ----------------------------------                 000376   07/11/22
  402          begsr *inzsr;                                                               000377   07/11/22
  403          endsr;                                                                      000378   07/11/22
  404          //--------END SUBROUTINE ----------------------------------                 000379   07/11/22
  405          begsr pnl00;                                                                000380   07/11/22
  406            *inlr = *on;                                                              000381   07/11/22
  407          endsr;                                                                      000382   07/11/22
  408         /end-free                                                                    000383   07/11/22
                                * * * * *  E N D  O F  S O U R C E  * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page    10
                                               CROSS REFERENCE
Data Names                    Define    Reference
ACT                              85       CHARACTER(3) CONSTANT
ARID                             ****     357 395 398
ARTICLE_INFO_ID                  ****     COLUMN
                                          357 395
ARTICLE_INFORMATION              ****     COLUMN
                                          355 394
ARTIINF                          ****     TABLE
                                          356 393 397
CANCEL                           47       CHARACTER(1) IN INDDS
CHK                              84       CHARACTER(3) CONSTANT
CLOSEFAMILLY                     30
COUNT                            75       SMALL INTEGER PRECISION(4,0)
CREATE                           46       CHARACTER(1) IN INDDS
CRT                              78       CHARACTER(3) CONSTANT
DSP                              82       CHARACTER(3) CONSTANT
DSPATR_RI                        54       CHARACTER(1) IN INDDS
ERRDESC                          57       CHARACTER(1) IN INDDS
ERRFAMILLY                       56       CHARACTER(1) IN INDDS
ERR01                            65       CHARACTER(1)
EXISTARTFAM                      20       CHARACTER(1)
EXIT                             43       CHARACTER(1) IN INDDS
GETARTFAMDESC                    15       CHARACTER(50)
HELP                             42       CHARACTER(1) IN INDDS
INDDS                            41       STRUCTURE
INFO                             60       STRUCTURE
ISARTFAMDELETED                  25       CHARACTER(1)
KEY                              83       CHARACTER(3) CONSTANT
LOD                              81       CHARACTER(3) CONSTANT
LRRN                             61       SMALL INTEGER PRECISION(4,0) IN INFO
MODE                             76       CHARACTER(3)
MOREKEYS                         48       CHARACTER(1) IN INDDS
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page    11
                                               CROSS REFERENCE
NEWID                            73       DECIMAL(6,0)
PAGEDOWN                         49       CHARACTER(1) IN INDDS
PANEL                            67       SMALL INTEGER PRECISION(4,0)
PROMPT                           44       CHARACTER(1) IN INDDS
PROVIDERS                        38
PRP                              80       CHARACTER(3) CONSTANT
REFRESH                          45       CHARACTER(1) IN INDDS
RRN01                            63       SMALL INTEGER PRECISION(4,0)
RRS01                            64       SMALL INTEGER PRECISION(4,0)
SAVDESC                          72
SAVID                            71
SFLCLR                           50       CHARACTER(1) IN INDDS
SFLDSP                           51       CHARACTER(1) IN INDDS
SFLDSPCTL                        52       CHARACTER(1) IN INDDS
SFLEND                           58       CHARACTER(1) IN INDDS
SFLMSG                           55       CHARACTER(1) IN INDDS
SFLNXTCHG                        53       CHARACTER(1) IN INDDS
SLTARTFAM                        34       CHARACTER(3)
STEP01                           68       CHARACTER(3)
STEP02                           69       CHARACTER(3)
STEP03                           70       CHARACTER(3)
TEXT                             ****     355
TEXT                             ****     394 398
UPD                              79       CHARACTER(3) CONSTANT
USER                             74       CHARACTER(10)
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART200                      07/11/22 16:42:36          Page    12
                                             DIAGNOSTIC MESSAGES
MSG ID  SEV  RECORD  TEXT
SQL1001  30       4  External file definition for ARTICLE2 not found.
SQL1001  30       5  External file definition for ARTICLE1 not found.
SQL1001  30       6  External file definition for ART200D not found.
SQL5066   0     354  Precompile option COMMIT changed by SET OPTION statement.
SQL0312  30     355  Position 52 Variable TEXT not defined or not usable.
                     Reason: No declaration for the variable exists, the
                     declaration is not within the current scope, or the
                     variable does not have an equivalent SQL data type.
SQL0312  30     357  Position 44 Variable ARID not defined or not usable.
                     Reason: No declaration for the variable exists, the
                     declaration is not within the current scope, or the
                     variable does not have an equivalent SQL data type.
SQL0312  30     394  Position 51 Variable TEXT not defined or not usable.
                     Reason: No declaration for the variable exists, the
                     declaration is not within the current scope, or the
                     variable does not have an equivalent SQL data type.
SQL0312  30     395  Position 44 Variable ARID not defined or not usable.
                     Reason: No declaration for the variable exists, the
                     declaration is not within the current scope, or the
                     variable does not have an equivalent SQL data type.
SQL0312  30     398  Position 29 Variable ARID not defined or not usable.
                     Reason: No declaration for the variable exists, the
                     declaration is not within the current scope, or the
                     variable does not have an equivalent SQL data type.
SQL0312  30     398  Position 41 Variable TEXT not defined or not usable.
                     Reason: No declaration for the variable exists, the
                     declaration is not within the current scope, or the
                     variable does not have an equivalent SQL data type.
                    Message Summary
  Total     Info   Warning      Error   Severe  Terminal
     10        1         0          0        9         0
30 level severity errors found in source
  408 Source records processed
                               * * * * *  E N D  O F  L I S T I N G  * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/COU301) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/COU301.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.37.986712000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module COU301 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   COU301
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/COU30
                                       1.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 Fcountry   IF   E           K DISK                                                                                   000003
======> aaaaaaa
*RNF2120 40 a      000003  External descriptions for file COUNTRY not found; file is
                           ignored.
     4 Fcountr1   IF   E           K DISK                                                                                   000004
     5 F                                     RENAME(fcoun   :REC52)                                                         000005
*RNF2120 40      4 000004  External descriptions for file COUNTR1 not found; file is
                           ignored.
     6 Fcou301d   CF   E             WORKSTN                                                                                000006
     7 F                                     INFDS(INFO)                                                                    000007
     8 F                                     SFILE(SFL01:RRN01)                                                             000008
*RNF2120 40      6 000006  External descriptions for file COU301D not found; file is
                           ignored.
     9 F                                     indds(indds)                                                                   000009
======>                                      aaaaa
*RNF2565 20 a      000009  Keyword INDDS is not allowed with this file.
    10 D INFO            DS                                                                                                 000010
    11 D  LRRN                 378    379B 0                                                                                000011
    12                                                                                                                      000012
    13  /copy qprotosrc/country                                                                                             000013
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  country.r+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/country.rpgleinc                                 *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    14+ *=============================================                                                                     1000001
    15+ * Get COUNTRY NAME                                                                                                 1000002
    16+ *=============================================                                                                     1000003
    17+DGetCountryName   PR            30A                                                                                 1000004
    18+D COID                           2A    value                                                                        1000005
    19+ *=============================================                                                                     1000006
    20+ * Get Iso Code alpha-3                                                                                             1000007
    21+ *=============================================                                                                     1000008
    22+DGetCountryIso3   PR             3A                                                                                 1000009
    23+D COID                           2A    value                                                                        1000010
    24+ *=============================================                                                                     1000011
    25+ * Check if country code exist                                                                                      1000012
    26+ *=============================================                                                                     1000013
    27+D ExistCountry    PR              n                                                                                 1000014
    28+D COID                           2A    value                                                                        1000015
    29+ *=============================================                                                                     1000016
    30+ * Select a country code                                                                                            1000017
    31+ *=============================================                                                                     1000018
    32+D SltCountry      PR             2a                                                                                 1000019
    33+D COID                           2A                                                                                 1000020
    34+ *=============================================                                                                     1000021
    35+ * Close COUNTRY                                                                                                    1000022
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    36+ *=============================================                                                                     1000023
    37+D CloseCOUNTRY    PR                                                                                                1000024
    38                                                                                                                      000014
    39 D indds           ds                                                                                                 000015
    40 D  help                   1      1n                                                                                  000016
    41 D  exit                   3      3n                                                                                  000017
    42 D  prompt                 4      4n                                                                                  000018
    43 D  refresh                5      5n                                                                                  000019
    44 D  create                 6      6n                                                                                  000020
    45 D  cf08                   8      8n                                                                                  000021
    46 D  cancel                12     12n                                                                                  000022
    47 D  morekeys              24     24n                                                                                  000023
    48 D  pagedown              25     25n                                                                                  000024
    49 D  sflclr                30     30n                                                                                  000025
    50 D  sfldsp                31     31n                                                                                  000026
    51 D  sfldspctl             32     32n                                                                                  000027
    52 D  sflnxtchg             33     33n                                                                                  000028
    53 D  dspatrri              34     34n                                                                                  000029
    54 D  InvalidOpt            35     35n                                                                                  000030
    55 D  OneSelect             36     36n                                                                                  000031
    56 D  bydesc                40     40n                                                                                  000032
    57 D  InvalidOptC           41     41n                                                                                  000033
    58 D  NotAvail              42     42n                                                                                  000034
    59 D  sflend                80     80n                                                                                  000035
    60                                                                                                                      000036
    61 D rrn01           s              5i 0                                                                                000037
    62                                                                                                                      000038
    63 d prp             c                   'prp'                                                                          000039
    64 d lod             c                   'lod'                                                                          000040
    65 d dsp             c                   'dsp'                                                                          000041
    66 d key             c                   'key'                                                                          000042
    67 d chk             c                   'chk'                                                                          000043
    68 d chkctl          c                   'chc'                                                                          000044
    69 d actctl          c                   'acc'                                                                          000045
    70 d act             c                   'act'                                                                          000046
    71                                                                                                                      000047
    72                                                                                                                      000048
    73  *=============================================                                                                      000049
    74 P sltcountry      B                   export                                                                         000050
    75 D sltcountry      PI                  like(coid      )                                                               000051
    76 d pcod                                like(coid      )                                                               000052
    77 D dft             S                   like(coid      )                                                               000053
    78 D step01          S              3    inz(prp)                                                                       000054
    79 d in08            s               n                                                                                  000055
    80 d sts01           s               n                                                                                  000056
    81 D rrs01           s              5i 0                                                                                000057
    82 D teller          s              5i 0                                                                                000058
    83 D err01           s               n                                                                                  000059
    84 D slt01           s               n                                                                                  000060
    85 d keycod          s                    like(coid       )                                                             000061
    86 d savcod          s                    like(coid       )                                                             000062
    87 d pdes            s                    like(countr     )                                                             000063
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    88 d keydes          s                    like(countr     )                                                             000064
    89 d savdes          s                    like(countr     )                                                             000065
    90  /free                                                                                                               000066
    91   if not %open(cou301d   );                                                                     B01                  000067
    92     open cou301d    ;                                                                            01                  000068
    93   endif;                                                                                        E01                  000069
    94   keycod = pcod;                                                                                                     000070
    95   dft = pcod;                                                                                                        000071
    96   bydesc = *off;                                                                                                     000072
    97   dow step01 <> ' ';                                                                            B01                  000073
    98     select ;                                                                                    B02                  000074
    99     when step01 = prp ;                                                                         X02                  000075
   100       exsr s01prp;                                                                               02                  000076
   101     when step01 = lod ;                                                                         X02                  000077
   102       exsr s01lod;                                                                               02                  000078
   103     when step01 = dsp ;                                                                         X02                  000079
   104       exsr s01dsp;                                                                               02                  000080
   105     when step01 = key ;                                                                         X02                  000081
   106       exsr s01key;                                                                               02                  000082
   107     when step01 = chk ;                                                                         X02                  000083
   108       exsr s01chk;                                                                               02                  000084
   109     when step01 = act ;                                                                         X02                  000085
   110       exsr s01act ;                                                                              02                  000086
   111     endsl;                                                                                      E02                  000087
   112   enddo;                                                                                        E01                  000088
   113   return dft;                                                                                                        000089
   114   //--- Clear Subfile  -----------------------------------------------------                                         000090
   115                                                                                                                      000091
   116   begsr s01prp;                                                                                                      000092
   117     RRS01 = 0;                                                                                                       000093
   118     clear CTL01;                                                                                                     000094
   119     sflclr = *on;                                                                                                    000095
   120     sfldsp = *off;                                                                                                   000096
   121     sfldspctl = *off;                                                                                                000097
   122     write CTL01;                                                                                                     000098
   123     sflclr = *off;                                                                                                   000099
   124     if not bydesc;                                                                              B01                  000100
   125       setll KEYCOD country   ;                                                                   01                  000101
   126       read country;                                                                              01                  000102
   127       sflend = %EOF;                                                                             01                  000103
   128     else;                                                                                       X01                  000104
   129       setll KEYDES countr1   ;                                                                   01                  000105
   130       read countr1    ;                                                                          01                  000106
   131       SflEnd = %EOF;                                                                             01                  000107
   132     endif;                                                                                      E01                  000108
   133     SAVCOD = coid  ;                                                                                                 000109
   134     SAVDES = countr;                                                                                                 000110
   135     Step01 = lod;                                                                                                    000111
   136   endsr;                                                                                                             000112
   137   //--- Load Subfile  -----------------------------------------------------                                          000113
   138   begsr S01lod;                                                                                                      000114
   139     RRN01 = RRS01;                                                                                                   000115
   140     RRB01 = RRS01 + 1;                                                                                               000116
   141     TELLER = 0;                                                                                                      000117
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   142     OPT01 = 0;                                                                                                       000118
   143     SflNxtChg = *OFF;                                                                                                000119
   144     coid   = SAVCOD;                                                                                                 000120
   145     countr = SAVDES;                                                                                                 000121
   146     dow not sflend                                                                              B01                  000122
   147           and TELLER < 20;                                                                      B01                  000123
   148       RRN01 = RRN01 + 1;                                                                         01                  000124
   149       TELLER = TELLER + 1;                                                                       01                  000125
   150       write SFL01;                                                                               01                  000126
   151       if not bydesc;                                                                            B02                  000127
   152         read country   ;                                                                         02                  000128
   153       else;                                                                                     X02                  000129
   154         read countr1   ;                                                                         02                  000130
   155       endif;                                                                                    E02                  000131
   156       SflEnd = %EOF;                                                                             01                  000132
   157     enddo;                                                                                      E01                  000133
   158     SAVCOD = coid  ;                                                                                                 000134
   159     SAVDES = countr;                                                                                                 000135
   160     RRS01 = RRN01;                                                                                                   000136
   161     Step01 = dsp;                                                                                                    000137
   162   endsr;                                                                                                             000138
   163   //--- Display Subfile  --------------------------------------------------                                          000139
   164   begsr S01dsp;                                                                                                      000140
   165     sfldsp = rrs01 > 0;                                                                                              000141
   166     sfldspctl = *on;                                                                                                 000142
   167     write KEY01;                                                                                                     000143
   168     exfmt CTL01;                                                                                                     000144
   169     IN08 = CF08;                                                                                                     000145
   170     RRB01 = LRRN;                                                                                                    000146
   171     Step01 = key;                                                                                                    000147
   172   endsr;                                                                                                             000148
   173   //--- Command Keys  -----------------------------------------------------                                          000149
   174   begsr S01key;                                                                                                      000150
   175     select;                                                                                     B01                  000151
   176     when exit;                                                                                  X01                  000152
   177       step01 = ' ';                                                                              01                  000153
   178     when cancel ;                                                                               X01                  000154
   179       Step01 = ' ';                                                                              01                  000155
   180     when PageDown;                                                                              X01                  000156
   181       Step01 = lod;                                                                              01                  000157
   182     other;                                                                                      X01                  000158
   183       Step01 = chk;                                                                              01                  000159
   184     endsl;                                                                                      E01                  000160
   185   endsr;                                                                                                             000161
   186   //--- Check Subfile  ----------------------------------------------------                                          000162
   187   begsr S01chk;                                                                                                      000163
   188     // SET FLAG SELECTION MADE OFF                                                                                   000164
   189     SLT01 = *OFF;                                                                                                    000165
   190     // SET FLAG OPTION  MADE OFF                                                                                     000166
   191     STS01 = *OFF;                                                                                                    000167
   192     // SET FLAG ERROR   MADE OFF                                                                                     000168
   193     ERR01 = *OFF;                                                                                                    000169
   194     Step01 = act;                                                                                                    000170
   195     readc(E) SFL01;                                                                                                  000171
   196     SflNxtChg = *ON;                                                                                                 000172
   197     dow not %error and not %eof;                                                                B01                  000173
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   198       select;                                                                                   B02                  000174
   199       when OPT01 = 0;                                                                           X02                  000175
   200         // NO ERROR                                                                                                  000176
   201       when OPT01 <>1;                                                                           X02                  000177
   202         STS01 = *ON;                                                                             02                  000178
   203         Step01 = dsp;                                                                            02                  000179
   204         dspatrRi = *on;                                                                          02                  000180
   205         InvalidOpt= *on;                                                                         02                  000181
   206         if ERR01 = *OFF;                                                                        B03                  000182
   207           RRB01 = RRN01;                                                                         03                  000183
   208           ERR01 = *ON;                                                                           03                  000184
   209         endif;                                                                                  E03                  000185
   210         //OPTION = 1 BUT SELECTION ALREADY MADE                                                                      000186
   211       when SLT01 = *ON;                                                                         X02                  000187
   212         Step01 = dsp;                                                                            02                  000188
   213         dspatrRi = *on;                                                                          02                  000189
   214         OneSelect = *on;                                                                         02                  000190
   215         if ERR01 = *OFF;                                                                        B03                  000191
   216           RRB01 = RRN01;                                                                         03                  000192
   217           ERR01 = *ON;                                                                           03                  000193
   218         endif;                                                                                  E03                  000194
   219       other;                                                                                    X02                  000195
   220         //OPTION = 1                                                                                                 000196
   221         SLT01 = *ON;                                                                             02                  000197
   222         STS01 = *ON;                                                                             02                  000198
   223       endsl;                                                                                    E02                  000199
   224       update SFL01;                                                                              01                  000200
   225       dspatrRi = *off;                                                                           01                  000201
   226       readc SFL01;                                                                               01                  000202
   227     enddo;                                                                                      E01                  000203
   228     select;                                                                                     B01                  000204
   229     when OPTC1 <>8                                                                              X01                  000205
   230           and OPTC1 <>0;                                                                        X01                  000206
   231       InvalidOptC = *ON;                                                                         01                  000207
   232       Step01 = dsp;                                                                              01                  000208
   233     when SLT01 = *ON                                                                            X01                  000209
   234           and OPTC1 <>0;                                                                        X01                  000210
   235       NotAvail = *ON;                                                                            01                  000211
   236       Step01 = dsp;                                                                              01                  000212
   237     when STS01 = *ON                                                                            X01                  000213
   238           and IN08 = *ON;                                                                       X01                  000214
   239       Step01 = dsp;                                                                              01                  000215
   240     endsl;                                                                                      E01                  000216
   241   endsr;                                                                                                             000217
   242   //--- Write Subfile  ----------------------------------------------------                                          000218
   243   begsr S01act;                                                                                                      000219
   244     Step01 = dsp;                                                                                                    000220
   245     select;                                                                                     B01                  000221
   246     when IN08 ;                                                                                 X01                  000222
   247       Step01 = prp;                                                                              01                  000223
   248       bydesc = not bydesc;                                                                       01                  000224
   249       if bydesc;                                                                                B02                  000225
   250         clear KEYdes;                                                                            02                  000226
   251       else;                                                                                     X02                  000227
   252         clear KEYcod;                                                                            02                  000228
   253       endif;                                                                                    E02                  000229
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   254     when OPTC1 = 8;                                                                             X01                  000230
   255       Step01 = prp;                                                                              01                  000231
   256       if not bydesc;                                                                            B02                  000232
   257         KEYCOD = POSCOD;                                                                         02                  000233
   258       else;                                                                                     X02                  000234
   259         KEYDES = POSDES;                                                                         02                  000235
   260       endif;                                                                                    E02                  000236
   261     other;                                                                                      X01                  000237
   262       readc(E) SFL01;                                                                            01                  000238
   263       dow not %error and not %eof;                                                              B02                  000239
   264         if OPT01 = 1;                                                                           B03                  000240
   265           return coid      ;                                                                     03                  000241
   266         endif;                                                                                  E03                  000242
   267         readc SFL01;                                                                             02                  000243
   268       enddo;                                                                                    E02                  000244
   269     endsl;                                                                                      E01                  000245
   270   endsr;                                                                                                             000246
   271  /end-free                                                                                                           000247
   272                                                                                                                      000248
   273 p sltcountry      e                                                                                                  000249
   274                                                                                                                      000250
   275                                                                                                                      000251
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      8
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30     75 000051  The name or indicator COID is not defined.
*RNF7030 30     87 000063  The name or indicator COUNTR is not defined.
*RNF7089 00      6 000006  RPG provides Separate-Indicator area for file COU301D.
*RNF7030 30    118 000094  The name or indicator CTL01 is not defined.
*RNF7030 30     77 000053  The name or indicator DFT is not defined.
*RNF7030 30     85 000061  The name or indicator KEYCOD is not defined.
*RNF7030 30     88 000064  The name or indicator KEYDES is not defined.
*RNF7030 30    167 000143  The name or indicator KEY01 is not defined.
*RNF7030 30    229 000205  The name or indicator OPTC1 is not defined.
*RNF7030 30    142 000118  The name or indicator OPT01 is not defined.
*RNF7030 30     76 000052  The name or indicator PCOD is not defined.
*RNF7030 30     87 000063  The name or indicator PDES is not defined.
*RNF7030 30    257 000233  The name or indicator POSCOD is not defined.
*RNF7030 30    259 000235  The name or indicator POSDES is not defined.
*RNF7030 30    140 000116  The name or indicator RRB01 is not defined.
*RNF7030 30     86 000062  The name or indicator SAVCOD is not defined.
*RNF7030 30     89 000065  The name or indicator SAVDES is not defined.
*RNF7030 30    150 000126  The name or indicator SFL01 is not defined.
*RNF7503 30     94 000070  Expression contains an operand that is not defined.
*RNF7503 30     95 000071  Expression contains an operand that is not defined.
*RNF7503 30    113 000089  Expression contains an operand that is not defined.
*RNF7503 30    118 000094  Expression contains an operand that is not defined.
*RNF7503 30    122 000098  Expression contains an operand that is not defined.
*RNF7503 30    125 000101  Expression contains an operand that is not defined.
*RNF7503 30    126 000102  Expression contains an operand that is not defined.
*RNF7503 30    129 000105  Expression contains an operand that is not defined.
*RNF7503 30    130 000106  Expression contains an operand that is not defined.
*RNF7503 30    133 000109  Expression contains an operand that is not defined.
*RNF7503 30    134 000110  Expression contains an operand that is not defined.
*RNF7503 30    140 000116  Expression contains an operand that is not defined.
*RNF7503 30    142 000118  Expression contains an operand that is not defined.
*RNF7503 30    144 000120  Expression contains an operand that is not defined.
*RNF7503 30    145 000121  Expression contains an operand that is not defined.
*RNF7503 30    150 000126  Expression contains an operand that is not defined.
*RNF7503 30    152 000128  Expression contains an operand that is not defined.
*RNF7503 30    154 000130  Expression contains an operand that is not defined.
*RNF7503 30    158 000134  Expression contains an operand that is not defined.
*RNF7503 30    159 000135  Expression contains an operand that is not defined.
*RNF7503 30    167 000143  Expression contains an operand that is not defined.
*RNF7503 30    168 000144  Expression contains an operand that is not defined.
*RNF7503 30    170 000146  Expression contains an operand that is not defined.
*RNF7503 30    195 000171  Expression contains an operand that is not defined.
*RNF7503 30    199 000175  Expression contains an operand that is not defined.
*RNF7503 30    201 000177  Expression contains an operand that is not defined.
*RNF7503 30    207 000183  Expression contains an operand that is not defined.
*RNF7503 30    216 000192  Expression contains an operand that is not defined.
*RNF7503 30    224 000200  Expression contains an operand that is not defined.
*RNF7503 30    226 000202  Expression contains an operand that is not defined.
*RNF7503 30    229 000205  Expression contains an operand that is not defined.
*RNF7503 30    234 000210  Expression contains an operand that is not defined.
*RNF7503 30    250 000226  Expression contains an operand that is not defined.
*RNF7503 30    252 000228  Expression contains an operand that is not defined.
*RNF7503 30    254 000230  Expression contains an operand that is not defined.
*RNF7503 30    257 000233  Expression contains an operand that is not defined.
*RNF7503 30    259 000235  Expression contains an operand that is not defined.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page      9
*RNF7503 30    262 000238  Expression contains an operand that is not defined.
*RNF7503 30    264 000240  Expression contains an operand that is not defined.
*RNF7503 30    265 000241  Expression contains an operand that is not defined.
*RNF7503 30    267 000243  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
    13    1 country.r+ ./qprotosrc/country.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page     10
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         COUNTRY           DISK                    3D    125     126     152
         COUNTR1           DISK                    4D    129     130     154
         COU301D           WORKSTN                 6D     91      92
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         ACT               CONST                  70D    109     194
*RNF7031 ACTCTL            CONST                  69D
         BYDESC            N(1)                   56D     96M    124     151
                                                 248M    248     249     256
         CANCEL            N(1)                   46D    178
         CF08              N(1)                   45D    169
         CHK               CONST                  67D    107     183
*RNF7031 CHKCTL            CONST                  68D
*RNF7031 CLOSECOUNTRY      PROTOTYPE              37D
*RNF7030 COID              **UNDEF**              75      76      77      85
                                                  86     133     144M    158
                                                 265
*RNF7030 COUNTR            **UNDEF**              87      88      89     134
                                                 145M    159
*RNF7031 CREATE            N(1)                   44D
*RNF7030 CTL01             **UNDEF**             118M    122     168
         DSP               CONST                  65D    103     161     203
                                                 212     232     236     239
                                                 244
         DSPATRRI          N(1)                   53D    204M    213M    225M
*RNF7031 EXISTCOUNTRY      N(1)                   27D
                           PROTOTYPE
         EXIT              N(1)                   41D    176
*RNF7031 GETCOUNTRYISO3    A(3)                   22D
                           PROTOTYPE
*RNF7031 GETCOUNTRYNAME    A(30)                  17D
                           PROTOTYPE
*RNF7031 HELP              N(1)                   40D
         INDDS             DS(80)                  9      39D
         INFO              DS(379)                 7      10D
         INVALIDOPT        N(1)                   54D    205M
         INVALIDOPTC       N(1)                   57D    231M
         KEY               CONST                  66D    105     171
*RNF7030 KEY01             **UNDEF**             167
         LOD               CONST                  64D    101     135     181
         LRRN              B(4,0)                 11D    170
*RNF7031 MOREKEYS          N(1)                   47D
         NOTAVAIL          N(1)                   58D    235M
         ONESELECT         N(1)                   55D    214M
*RNF7030 OPTC1             **UNDEF**             229     230     234     254
*RNF7030 OPT01             **UNDEF**             142M    199     201     264
         PAGEDOWN          N(1)                   48D    180
*RNF7030 POSCOD            **UNDEF**             257
*RNF7030 POSDES            **UNDEF**             259
*RNF7031 PROMPT            N(1)                   42D
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page     11
         PRP               CONST                  63D     78      99     247
                                                 255
*RNF7031 REFRESH           N(1)                   43D
*RNF7030 RRB01             **UNDEF**             140M    170M    207M    216M
         RRN01             I(5,0)                 61D    139M    148M    148
                                                 160     207     216
         SFLCLR            N(1)                   49D    119M    123M
         SFLDSP            N(1)                   50D    120M    165M
         SFLDSPCTL         N(1)                   51D    121M    166M
         SFLEND            N(1)                   59D    127M    131M    146
                                                 156M
         SFLNXTCHG         N(1)                   52D    143M    196M
*RNF7030 SFL01             **UNDEF**             150     195     224     226
                                                 262     267
         SLTCOUNTRY        A(2)                   32D     74      75     273
                           PROTOTYPE
      Field References for subprocedure SLTCOUNTRY
         Field             Attributes         References (D=Defined M=Modified)
*RNF7030 DFT               **UNDEF**              77D     95M    113
         ERR01             N(1)                   83D    193M    206     208M
                                                 215     217M
         IN08              N(1)                   79D    169M    238     246
*RNF7030 KEYCOD            **UNDEF**              85D     94M    125     252M
                                                 257M
*RNF7030 KEYDES            **UNDEF**              88D    129     250M    259M
*RNF7030 PCOD              **UNDEF**              76D     94      95
*RNF7030 PDES              **UNDEF**              87D
         RRS01             I(5,0)                 81D    117M    139     140
                                                 160M    165
*RNF7030 SAVCOD            **UNDEF**              86D    133M    144     158M
*RNF7030 SAVDES            **UNDEF**              89D    134M    145     159M
         SLT01             N(1)                   84D    189M    211     221M
                                                 233
         STEP01            A(3)                   78D     97      99     101
                                                 103     105     107     109
                                                 135M    161M    171M    177M
                                                 179M    181M    183M    194M
                                                 203M    212M    232M    236M
                                                 239M    244M    247M    255M
         STS01             N(1)                   80D    191M    202M    222M
                                                 237
         S01ACT            BEGSR                 110     243D
         S01CHK            BEGSR                 108     187D
         S01DSP            BEGSR                 104     164D
         S01KEY            BEGSR                 106     174D
         S01LOD            BEGSR                 102     138D
         S01PRP            BEGSR                 100     116D
         TELLER            I(5,0)                 82D    141M    147     149M
                                                 149
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page     12
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         EXISTCOUNTRY                             27
         CLOSECOUNTRY                             37
         GETCOUNTRYNAME                           17
         GETCOUNTRYISO3                           22
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page     13
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00     11 The name or indicator is not referenced.
*RNF7089 00      1 RPG provides Separate-Indicator area for file.
*RNF2565 20      1 Keyword INDDS is not allowed with this file.
*RNF7030 30     17 The name or indicator is not defined.
*RNF7503 30     41 Expression contains an operand that is not defined.
*RNF2120 40      3 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU301              BENOIT     07/11/22 16:42:38        Page     14
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :       12
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        1
    Severe Error (30+)  . . . . . . :       61
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       74
  Source Totals:
    Records . . . . . . . . . . . . :      275
    Specifications  . . . . . . . . :      231
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       28
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/FAM301) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/FAM301.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.39.189708000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module FAM301 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   FAM301
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/FAM30
                                       1.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 Ffamilly   IF   E           K DISK                                                                                   000003
======> aaaaaaa
*RNF2120 40 a      000003  External descriptions for file FAMILLY not found; file is
                           ignored.
     4 Ffamill1   IF   E           K DISK                                                                                   000004
     5 F                                     RENAME(ffami   :REC52)                                                         000005
*RNF2120 40      4 000004  External descriptions for file FAMILL1 not found; file is
                           ignored.
     6 Ffam301d   CF   E             WORKSTN                                                                                000006
     7 F                                     INFDS(INFO)                                                                    000007
     8 F                                     SFILE(SFL01:RRN01)                                                             000008
*RNF2120 40      6 000006  External descriptions for file FAM301D not found; file is
                           ignored.
     9 F                                     indds(indds)                                                                   000009
======>                                      aaaaa
*RNF2565 20 a      000009  Keyword INDDS is not allowed with this file.
    10 D INFO            DS                                                                                                 000010
    11 D  LRRN                 378    379B 0                                                                                000011
    12                                                                                                                      000012
    13  /copy qprotosrc/familly                                                                                             000013
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  familly.r+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/familly.rpgleinc                                 *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    14+ *=============================================                                                                     1000001
    15+ * Get FAMILLY DESCRIPTION                                                                                          1000002
    16+ *=============================================                                                                     1000003
    17+DGetArtFamDesc    PR            50                                                                                  1000004
    18+D FAID                           3     value                                                                        1000005
    19+ *=============================================                                                                     1000006
    20+ * Ckeck if familly exist                                                                                           1000007
    21+ *=============================================                                                                     1000008
    22+D ExistArtFam     PR              n                                                                                 1000009
    23+D P_FAID                         3     value                                                                        1000010
    24+ *=============================================                                                                     1000011
    25+ * Get DELETE CODE X=DELETED                                                                                        1000012
    26+ *=============================================                                                                     1000013
    27+DIsArtFamDeleted  PR              n                                                                                 1000014
    28+D FAID                           3     value                                                                        1000015
    29+ *=============================================                                                                     1000016
    30+ * Close FAMILLY                                                                                                    1000017
    31+ *=============================================                                                                     1000018
    32+D CloseFAMILLY    PR                                                                                                1000019
    33+ *=============================================                                                                     1000020
    34+ * Select a Failly code                                                                                             1000021
    35+ *=============================================                                                                     1000022
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    36+d SltArtFam       pr             3                                                                                  1000023
    37+d pcod                           3                                                                                  1000024
    38+                                                                                                                    1000025
    39                                                                                                                      000014
    40 D indds           ds                                                                                                 000015
    41 D  help                   1      1n                                                                                  000016
    42 D  exit                   3      3n                                                                                  000017
    43 D  prompt                 4      4n                                                                                  000018
    44 D  refresh                5      5n                                                                                  000019
    45 D  create                 6      6n                                                                                  000020
    46 D  cf08                   8      8n                                                                                  000021
    47 D  cancel                12     12n                                                                                  000022
    48 D  morekeys              24     24n                                                                                  000023
    49 D  pagedown              25     25n                                                                                  000024
    50 D  sflclr                30     30n                                                                                  000025
    51 D  sfldsp                31     31n                                                                                  000026
    52 D  sfldspctl             32     32n                                                                                  000027
    53 D  sflnxtchg             33     33n                                                                                  000028
    54 D  dspatrri              34     34n                                                                                  000029
    55 D  InvalidOpt            35     35n                                                                                  000030
    56 D  OneSelect             36     36n                                                                                  000031
    57 D  bydesc                40     40n                                                                                  000032
    58 D  InvalidOptC           41     41n                                                                                  000033
    59 D  NotAvail              42     42n                                                                                  000034
    60 D  sflend                80     80n                                                                                  000035
    61                                                                                                                      000036
    62 D rrn01           s              5i 0                                                                                000037
    63                                                                                                                      000038
    64 d prp             c                   'prp'                                                                          000039
    65 d lod             c                   'lod'                                                                          000040
    66 d dsp             c                   'dsp'                                                                          000041
    67 d key             c                   'key'                                                                          000042
    68 d chk             c                   'chk'                                                                          000043
    69 d chkctl          c                   'chc'                                                                          000044
    70 d actctl          c                   'acc'                                                                          000045
    71 d act             c                   'act'                                                                          000046
    72                                                                                                                      000047
    73                                                                                                                      000048
    74  *=============================================                                                                      000049
    75 P sltArtFam       B                   export                                                                         000050
    76 D sltArtFam       PI                  like(faid      )                                                               000051
    77 d pcod                                like(faid      )                                                               000052
    78 D dft             S                   like(faid      )                                                               000053
    79 D step01          S              3    inz(prp)                                                                       000054
    80 d in08            s               n                                                                                  000055
    81 d sts01           s               n                                                                                  000056
    82 D rrs01           s              5i 0                                                                                000057
    83 D teller          s              5i 0                                                                                000058
    84 D err01           s               n                                                                                  000059
    85 D slt01           s               n                                                                                  000060
    86 d keycod          s                    like(faid       )                                                             000061
    87 d savcod          s                    like(faid       )                                                             000062
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    88 d pdes            s                    like(fadesc     )                                                             000063
    89 d keydes          s                    like(fadesc     )                                                             000064
    90 d savdes          s                    like(fadesc     )                                                             000065
    91  /free                                                                                                               000066
    92   if not %open(fam301d   );                                                                     B01                  000067
    93     open fam301d    ;                                                                            01                  000068
    94   endif;                                                                                        E01                  000069
    95   keycod = pcod;                                                                                                     000070
    96   dft = pcod;                                                                                                        000071
    97   bydesc = *off;                                                                                                     000072
    98   dow step01 <> ' ';                                                                            B01                  000073
    99     select ;                                                                                    B02                  000074
   100     when step01 = prp ;                                                                         X02                  000075
   101       exsr s01prp;                                                                               02                  000076
   102     when step01 = lod ;                                                                         X02                  000077
   103       exsr s01lod;                                                                               02                  000078
   104     when step01 = dsp ;                                                                         X02                  000079
   105       exsr s01dsp;                                                                               02                  000080
   106     when step01 = key ;                                                                         X02                  000081
   107       exsr s01key;                                                                               02                  000082
   108     when step01 = chk ;                                                                         X02                  000083
   109       exsr s01chk;                                                                               02                  000084
   110     when step01 = act ;                                                                         X02                  000085
   111       exsr s01act ;                                                                              02                  000086
   112     endsl;                                                                                      E02                  000087
   113   enddo;                                                                                        E01                  000088
   114   return dft;                                                                                                        000089
   115   //--- Clear Subfile  -----------------------------------------------------                                         000090
   116                                                                                                                      000091
   117   begsr s01prp;                                                                                                      000092
   118     RRS01 = 0;                                                                                                       000093
   119     clear CTL01;                                                                                                     000094
   120     sflclr = *on;                                                                                                    000095
   121     sfldsp = *off;                                                                                                   000096
   122     sfldspctl = *off;                                                                                                000097
   123     write CTL01;                                                                                                     000098
   124     sflclr = *off;                                                                                                   000099
   125     if not bydesc;                                                                              B01                  000100
   126       setll KEYCOD familly   ;                                                                   01                  000101
   127       read familly;                                                                              01                  000102
   128       sflend = %EOF;                                                                             01                  000103
   129     else;                                                                                       X01                  000104
   130       setll KEYDES famill1   ;                                                                   01                  000105
   131       read famill1    ;                                                                          01                  000106
   132       SflEnd = %EOF;                                                                             01                  000107
   133     endif;                                                                                      E01                  000108
   134     SAVCOD = faid  ;                                                                                                 000109
   135     SAVDES = fadesc;                                                                                                 000110
   136     Step01 = lod;                                                                                                    000111
   137   endsr;                                                                                                             000112
   138   //--- Load Subfile  -----------------------------------------------------                                          000113
   139   begsr S01lod;                                                                                                      000114
   140     RRN01 = RRS01;                                                                                                   000115
   141     RRB01 = RRS01 + 1;                                                                                               000116
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   142     TELLER = 0;                                                                                                      000117
   143     OPT01 = 0;                                                                                                       000118
   144     SflNxtChg = *OFF;                                                                                                000119
   145     faid   = SAVCOD;                                                                                                 000120
   146     fadesc = SAVDES;                                                                                                 000121
   147     dow not sflend                                                                              B01                  000122
   148           and TELLER < 20;                                                                      B01                  000123
   149       RRN01 = RRN01 + 1;                                                                         01                  000124
   150       TELLER = TELLER + 1;                                                                       01                  000125
   151       write SFL01;                                                                               01                  000126
   152       if not bydesc;                                                                            B02                  000127
   153         read familly   ;                                                                         02                  000128
   154       else;                                                                                     X02                  000129
   155         read famill1   ;                                                                         02                  000130
   156       endif;                                                                                    E02                  000131
   157       SflEnd = %EOF;                                                                             01                  000132
   158     enddo;                                                                                      E01                  000133
   159     SAVCOD = faid  ;                                                                                                 000134
   160     SAVDES = fadesc;                                                                                                 000135
   161     RRS01 = RRN01;                                                                                                   000136
   162     Step01 = dsp;                                                                                                    000137
   163   endsr;                                                                                                             000138
   164   //--- Display Subfile  --------------------------------------------------                                          000139
   165   begsr S01dsp;                                                                                                      000140
   166     sfldsp = rrs01 > 0;                                                                                              000141
   167     sfldspctl = *on;                                                                                                 000142
   168     write KEY01;                                                                                                     000143
   169     exfmt CTL01;                                                                                                     000144
   170     IN08 = CF08;                                                                                                     000145
   171     RRB01 = LRRN;                                                                                                    000146
   172     Step01 = key;                                                                                                    000147
   173   endsr;                                                                                                             000148
   174   //--- Command Keys  -----------------------------------------------------                                          000149
   175   begsr S01key;                                                                                                      000150
   176     select;                                                                                     B01                  000151
   177     when exit;                                                                                  X01                  000152
   178       step01 = ' ';                                                                              01                  000153
   179     when cancel ;                                                                               X01                  000154
   180       Step01 = ' ';                                                                              01                  000155
   181     when PageDown;                                                                              X01                  000156
   182       Step01 = lod;                                                                              01                  000157
   183     other;                                                                                      X01                  000158
   184       Step01 = chk;                                                                              01                  000159
   185     endsl;                                                                                      E01                  000160
   186   endsr;                                                                                                             000161
   187   //--- Check Subfile  ----------------------------------------------------                                          000162
   188   begsr S01chk;                                                                                                      000163
   189     // SET FLAG SELECTION MADE OFF                                                                                   000164
   190     SLT01 = *OFF;                                                                                                    000165
   191     // SET FLAG OPTION  MADE OFF                                                                                     000166
   192     STS01 = *OFF;                                                                                                    000167
   193     // SET FLAG ERROR   MADE OFF                                                                                     000168
   194     ERR01 = *OFF;                                                                                                    000169
   195     Step01 = act;                                                                                                    000170
   196     readc(E) SFL01;                                                                                                  000171
   197     SflNxtChg = *ON;                                                                                                 000172
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   198     dow not %error and not %eof;                                                                B01                  000173
   199       select;                                                                                   B02                  000174
   200       when OPT01 = 0;                                                                           X02                  000175
   201         // NO ERROR                                                                                                  000176
   202       when OPT01 <>1;                                                                           X02                  000177
   203         STS01 = *ON;                                                                             02                  000178
   204         Step01 = dsp;                                                                            02                  000179
   205         dspatrRi = *on;                                                                          02                  000180
   206         InvalidOpt= *on;                                                                         02                  000181
   207         if ERR01 = *OFF;                                                                        B03                  000182
   208           RRB01 = RRN01;                                                                         03                  000183
   209           ERR01 = *ON;                                                                           03                  000184
   210         endif;                                                                                  E03                  000185
   211         //OPTION = 1 BUT SELECTION ALREADY MADE                                                                      000186
   212       when SLT01 = *ON;                                                                         X02                  000187
   213         Step01 = dsp;                                                                            02                  000188
   214         dspatrRi = *on;                                                                          02                  000189
   215         OneSelect = *on;                                                                         02                  000190
   216         if ERR01 = *OFF;                                                                        B03                  000191
   217           RRB01 = RRN01;                                                                         03                  000192
   218           ERR01 = *ON;                                                                           03                  000193
   219         endif;                                                                                  E03                  000194
   220       other;                                                                                    X02                  000195
   221         //OPTION = 1                                                                                                 000196
   222         SLT01 = *ON;                                                                             02                  000197
   223         STS01 = *ON;                                                                             02                  000198
   224       endsl;                                                                                    E02                  000199
   225       update SFL01;                                                                              01                  000200
   226       dspatrRi = *off;                                                                           01                  000201
   227       readc SFL01;                                                                               01                  000202
   228     enddo;                                                                                      E01                  000203
   229     select;                                                                                     B01                  000204
   230     when OPTC1 <>8                                                                              X01                  000205
   231           and OPTC1 <>0;                                                                        X01                  000206
   232       InvalidOptC = *ON;                                                                         01                  000207
   233       Step01 = dsp;                                                                              01                  000208
   234     when SLT01 = *ON                                                                            X01                  000209
   235           and OPTC1 <>0;                                                                        X01                  000210
   236       NotAvail = *ON;                                                                            01                  000211
   237       Step01 = dsp;                                                                              01                  000212
   238     when STS01 = *ON                                                                            X01                  000213
   239           and IN08 = *ON;                                                                       X01                  000214
   240       Step01 = dsp;                                                                              01                  000215
   241     endsl;                                                                                      E01                  000216
   242   endsr;                                                                                                             000217
   243   //--- Write Subfile  ----------------------------------------------------                                          000218
   244   begsr S01act;                                                                                                      000219
   245     Step01 = dsp;                                                                                                    000220
   246     select;                                                                                     B01                  000221
   247     when IN08 ;                                                                                 X01                  000222
   248       Step01 = prp;                                                                              01                  000223
   249       bydesc = not bydesc;                                                                       01                  000224
   250       if bydesc;                                                                                B02                  000225
   251         clear KEYCOD;                                                                            02                  000226
   252       else;                                                                                     X02                  000227
   253         clear KEYDES;                                                                            02                  000228
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   254       endif;                                                                                    E02                  000229
   255     when OPTC1 = 8;                                                                             X01                  000230
   256       Step01 = prp;                                                                              01                  000231
   257       if not bydesc;                                                                            B02                  000232
   258         KEYCOD = POSCOD;                                                                         02                  000233
   259       else;                                                                                     X02                  000234
   260         KEYDES = POSDES;                                                                         02                  000235
   261       endif;                                                                                    E02                  000236
   262     other;                                                                                      X01                  000237
   263       readc(E) SFL01;                                                                            01                  000238
   264       dow not %error and not %eof;                                                              B02                  000239
   265         if OPT01 = 1;                                                                           B03                  000240
   266           return faid      ;                                                                     03                  000241
   267         endif;                                                                                  E03                  000242
   268         readc SFL01;                                                                             02                  000243
   269       enddo;                                                                                    E02                  000244
   270     endsl;                                                                                      E01                  000245
   271   endsr;                                                                                                             000246
   272                                                                                                                      000247
   273  /end-free                                                                                                           000248
   274 p sltArtFam       e                                                                                                  000249
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      8
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30    119 000094  The name or indicator CTL01 is not defined.
*RNF7030 30     78 000053  The name or indicator DFT is not defined.
*RNF7030 30     88 000063  The name or indicator FADESC is not defined.
*RNF7030 30     76 000051  The name or indicator FAID is not defined.
*RNF7089 00      6 000006  RPG provides Separate-Indicator area for file FAM301D.
*RNF7030 30     86 000061  The name or indicator KEYCOD is not defined.
*RNF7030 30     89 000064  The name or indicator KEYDES is not defined.
*RNF7030 30    168 000143  The name or indicator KEY01 is not defined.
*RNF7030 30    230 000205  The name or indicator OPTC1 is not defined.
*RNF7030 30    143 000118  The name or indicator OPT01 is not defined.
*RNF7030 30     77 000052  The name or indicator PCOD is not defined.
*RNF7030 30     88 000063  The name or indicator PDES is not defined.
*RNF7030 30    258 000233  The name or indicator POSCOD is not defined.
*RNF7030 30    260 000235  The name or indicator POSDES is not defined.
*RNF7030 30    141 000116  The name or indicator RRB01 is not defined.
*RNF7030 30     87 000062  The name or indicator SAVCOD is not defined.
*RNF7030 30     90 000065  The name or indicator SAVDES is not defined.
*RNF7030 30    151 000126  The name or indicator SFL01 is not defined.
*RNF7503 30     95 000070  Expression contains an operand that is not defined.
*RNF7503 30     96 000071  Expression contains an operand that is not defined.
*RNF7503 30    114 000089  Expression contains an operand that is not defined.
*RNF7503 30    119 000094  Expression contains an operand that is not defined.
*RNF7503 30    123 000098  Expression contains an operand that is not defined.
*RNF7503 30    126 000101  Expression contains an operand that is not defined.
*RNF7503 30    127 000102  Expression contains an operand that is not defined.
*RNF7503 30    130 000105  Expression contains an operand that is not defined.
*RNF7503 30    131 000106  Expression contains an operand that is not defined.
*RNF7503 30    134 000109  Expression contains an operand that is not defined.
*RNF7503 30    135 000110  Expression contains an operand that is not defined.
*RNF7503 30    141 000116  Expression contains an operand that is not defined.
*RNF7503 30    143 000118  Expression contains an operand that is not defined.
*RNF7503 30    145 000120  Expression contains an operand that is not defined.
*RNF7503 30    146 000121  Expression contains an operand that is not defined.
*RNF7503 30    151 000126  Expression contains an operand that is not defined.
*RNF7503 30    153 000128  Expression contains an operand that is not defined.
*RNF7503 30    155 000130  Expression contains an operand that is not defined.
*RNF7503 30    159 000134  Expression contains an operand that is not defined.
*RNF7503 30    160 000135  Expression contains an operand that is not defined.
*RNF7503 30    168 000143  Expression contains an operand that is not defined.
*RNF7503 30    169 000144  Expression contains an operand that is not defined.
*RNF7503 30    171 000146  Expression contains an operand that is not defined.
*RNF7503 30    196 000171  Expression contains an operand that is not defined.
*RNF7503 30    200 000175  Expression contains an operand that is not defined.
*RNF7503 30    202 000177  Expression contains an operand that is not defined.
*RNF7503 30    208 000183  Expression contains an operand that is not defined.
*RNF7503 30    217 000192  Expression contains an operand that is not defined.
*RNF7503 30    225 000200  Expression contains an operand that is not defined.
*RNF7503 30    227 000202  Expression contains an operand that is not defined.
*RNF7503 30    230 000205  Expression contains an operand that is not defined.
*RNF7503 30    235 000210  Expression contains an operand that is not defined.
*RNF7503 30    251 000226  Expression contains an operand that is not defined.
*RNF7503 30    253 000228  Expression contains an operand that is not defined.
*RNF7503 30    255 000230  Expression contains an operand that is not defined.
*RNF7503 30    258 000233  Expression contains an operand that is not defined.
*RNF7503 30    260 000235  Expression contains an operand that is not defined.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page      9
*RNF7503 30    263 000238  Expression contains an operand that is not defined.
*RNF7503 30    265 000240  Expression contains an operand that is not defined.
*RNF7503 30    266 000241  Expression contains an operand that is not defined.
*RNF7503 30    268 000243  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
    13    1 familly.r+ ./qprotosrc/familly.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page     10
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         FAMILLY           DISK                    3D    126     127     153
         FAMILL1           DISK                    4D    130     131     155
         FAM301D           WORKSTN                 6D     92      93
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         ACT               CONST                  71D    110     195
*RNF7031 ACTCTL            CONST                  70D
         BYDESC            N(1)                   57D     97M    125     152
                                                 249M    249     250     257
         CANCEL            N(1)                   47D    179
         CF08              N(1)                   46D    170
         CHK               CONST                  68D    108     184
*RNF7031 CHKCTL            CONST                  69D
*RNF7031 CLOSEFAMILLY      PROTOTYPE              32D
*RNF7031 CREATE            N(1)                   45D
*RNF7030 CTL01             **UNDEF**             119M    123     169
         DSP               CONST                  66D    104     162     204
                                                 213     233     237     240
                                                 245
         DSPATRRI          N(1)                   54D    205M    214M    226M
*RNF7031 EXISTARTFAM       N(1)                   22D
                           PROTOTYPE
         EXIT              N(1)                   42D    177
*RNF7030 FADESC            **UNDEF**              88      89      90     135
                                                 146M    160
*RNF7030 FAID              **UNDEF**              76      77      78      86
                                                  87     134     145M    159
                                                 266
*RNF7031 GETARTFAMDESC     A(50)                  17D
                           PROTOTYPE
*RNF7031 HELP              N(1)                   41D
         INDDS             DS(80)                  9      40D
         INFO              DS(379)                 7      10D
         INVALIDOPT        N(1)                   55D    206M
         INVALIDOPTC       N(1)                   58D    232M
*RNF7031 ISARTFAMDELETED   N(1)                   27D
                           PROTOTYPE
         KEY               CONST                  67D    106     172
*RNF7030 KEY01             **UNDEF**             168
         LOD               CONST                  65D    102     136     182
         LRRN              B(4,0)                 11D    171
*RNF7031 MOREKEYS          N(1)                   48D
         NOTAVAIL          N(1)                   59D    236M
         ONESELECT         N(1)                   56D    215M
*RNF7030 OPTC1             **UNDEF**             230     231     235     255
*RNF7030 OPT01             **UNDEF**             143M    200     202     265
         PAGEDOWN          N(1)                   49D    181
*RNF7030 POSCOD            **UNDEF**             258
*RNF7030 POSDES            **UNDEF**             260
*RNF7031 PROMPT            N(1)                   43D
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page     11
         PRP               CONST                  64D     79     100     248
                                                 256
*RNF7031 REFRESH           N(1)                   44D
*RNF7030 RRB01             **UNDEF**             141M    171M    208M    217M
         RRN01             I(5,0)                 62D    140M    149M    149
                                                 161     208     217
         SFLCLR            N(1)                   50D    120M    124M
         SFLDSP            N(1)                   51D    121M    166M
         SFLDSPCTL         N(1)                   52D    122M    167M
         SFLEND            N(1)                   60D    128M    132M    147
                                                 157M
         SFLNXTCHG         N(1)                   53D    144M    197M
*RNF7030 SFL01             **UNDEF**             151     196     225     227
                                                 263     268
         SLTARTFAM         A(3)                   36D     75      76     274
                           PROTOTYPE
      Field References for subprocedure SLTARTFAM
         Field             Attributes         References (D=Defined M=Modified)
*RNF7030 DFT               **UNDEF**              78D     96M    114
         ERR01             N(1)                   84D    194M    207     209M
                                                 216     218M
         IN08              N(1)                   80D    170M    239     247
*RNF7030 KEYCOD            **UNDEF**              86D     95M    126     251M
                                                 258M
*RNF7030 KEYDES            **UNDEF**              89D    130     253M    260M
*RNF7030 PCOD              **UNDEF**              77D     95      96
*RNF7030 PDES              **UNDEF**              88D
         RRS01             I(5,0)                 82D    118M    140     141
                                                 161M    166
*RNF7030 SAVCOD            **UNDEF**              87D    134M    145     159M
*RNF7030 SAVDES            **UNDEF**              90D    135M    146     160M
         SLT01             N(1)                   85D    190M    212     222M
                                                 234
         STEP01            A(3)                   79D     98     100     102
                                                 104     106     108     110
                                                 136M    162M    172M    178M
                                                 180M    182M    184M    195M
                                                 204M    213M    233M    237M
                                                 240M    245M    248M    256M
         STS01             N(1)                   81D    192M    203M    223M
                                                 238
         S01ACT            BEGSR                 111     244D
         S01CHK            BEGSR                 109     188D
         S01DSP            BEGSR                 105     165D
         S01KEY            BEGSR                 107     175D
         S01LOD            BEGSR                 103     139D
         S01PRP            BEGSR                 101     117D
         TELLER            I(5,0)                 83D    142M    148     150M
                                                 150
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page     12
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         EXISTARTFAM                              22
         CLOSEFAMILLY                             32
         GETARTFAMDESC                            17
         ISARTFAMDELETED                          27
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page     13
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00     11 The name or indicator is not referenced.
*RNF7089 00      1 RPG provides Separate-Indicator area for file.
*RNF2565 20      1 Keyword INDDS is not allowed with this file.
*RNF7030 30     17 The name or indicator is not defined.
*RNF7503 30     41 Expression contains an operand that is not defined.
*RNF2120 40      3 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM301              BENOIT     07/11/22 16:42:39        Page     14
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :       12
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        1
    Severe Error (30+)  . . . . . . :       61
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       74
  Source Totals:
    Records . . . . . . . . . . . . :      274
    Specifications  . . . . . . . . :      231
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       28
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/ART201) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/ART201-Work_with_article.PGM.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('Work with article.PGM') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.40.686070000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module ART201 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   ART201
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :   Work with article.PGM
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/ART20
                                       1-Work_with_article.PGM.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1                                                                                                                      000001
     2 h dftactgrp(*no) bnddir('SAMPLE')                                                                                    000002
======>  aaaaaaaaa
*RNF1324 20 a      000002  Keywords DFTACTGRP, ACTGRP, or USRPRF are not allowed.
     3                                                                                                                      000003
        *--------------------------------------------------------------------*
        * Compiler Options in Effect:                                        *
        *--------------------------------------------------------------------*
        *  Text 'description' . . . . . . . :                                *
        *                 Work with article.PGM                              *
        *  Generation severity level  . . . :   10                           *
        *  Compiler options . . . . . . . . :   *XREF      *GEN              *
        *                                       *NOSECLVL  *SHOWCPY          *
        *                                       *EXPDDS    *EXT              *
        *                                       *NOSHOWSKP *NOSRCSTMT        *
        *                                       *DEBUGIO   *UNREF            *
        *                                       *EVENTF                      *
        *  Optimization level . . . . . . . :   *NONE                        *
        *  Source listing indentation . . . :   *NONE                        *
        *  Type conversion options  . . . . :   *NONE                        *
        *  Sort sequence  . . . . . . . . . :   *HEX                         *
        *  Language identifier  . . . . . . :   *JOBRUN                      *
        *  Authority  . . . . . . . . . . . :   *LIBCRTAUT                   *
        *  Truncate numeric . . . . . . . . :   *YES                         *
        *  Fix numeric  . . . . . . . . . . :   *NONE                        *
        *  Allow null values  . . . . . . . :   *NO                          *
        *  Storage model . . .  . . . . . . :   *INHERIT                     *
        *  Binding directory from Command . :   *NONE                        *
        *  Binding directory from Source  . :   SAMPLE                       *
        *    Library  . . . . . . . . . . . :     *LIBL                      *
        *  Enable performance collection  . :   *PEP                         *
        *  Profiling data . . . . . . . . . :   *NOCOL                       *
        *  Generate program interface . . . :   *NO                          *
        *  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO                          *
        *--------------------------------------------------------------------*
     4 fartipro1  uf a e           k disk    block(*no)                                                                     000004
======> aaaaaaaa
*RNF2120 40 a      000004  External descriptions for file ARTIPRO1 not found; file is
                           ignored.
     5 fart201d   cf   e             workstn                                                                                000005
     6 F                                     indds(indds)                                                                   000006
======>                                      aaaaa
*RNF2120 40      5 000005  External descriptions for file ART201D not found; file is
                           ignored.
*RNF2565 20 a      000006  Keyword INDDS is not allowed with this file.
     7 F                                     sfile(sfl01:rrn01)                                                             000007
     8 F                                     Infds(Info)                                                                    000008
     9                                                                                                                      000009
    10  /copy qprotosrc/provider                                                                                            000010
        *--------------------------------------------------------------------------------------------*
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
        * RPG member name  . . . . . :  provider.+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/provider.rpgleinc                                *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    11+ *=============================================                                                                     1000001
    12+ * Get PROVIDER NAME                                                                                                1000002
    13+ *=============================================                                                                     1000003
    14+DGetProName       PR            30A                                                                                 1000004
    15+D PRID                           5P 0  value                                                                        1000005
    16+ *=============================================                                                                     1000006
    17+ * Get CONTACT PERSON                                                                                               1000007
    18+ *=============================================                                                                     1000008
    19+DGetProCONT       PR            30A                                                                                 1000009
    20+D PRID                           5P 0  value                                                                        1000010
    21+ *=============================================                                                                     1000011
    22+ * Get PHONE NUMBER                                                                                                 1000012
    23+ *=============================================                                                                     1000013
    24+DGetProPHONE      PR            15A                                                                                 1000014
    25+D PRID                           5P 0  value                                                                        1000015
    26+ *=============================================                                                                     1000016
    27+ * Get VAT NUMBER                                                                                                   1000017
    28+ *=============================================                                                                     1000018
    29+DGetProVAT        PR            12A                                                                                 1000019
    30+D PRID                           5P 0  value                                                                        1000020
    31+ *=============================================                                                                     1000021
    32+ * Get ADDRESS MAIL                                                                                                 1000022
    33+ *=============================================                                                                     1000023
    34+DGetProMAIL       PR            50A                                                                                 1000024
    35+D PRID                           5P 0  value                                                                        1000025
    36+ *=============================================                                                                     1000026
    37+ * Get ADDRESS LINE                                                                                                 1000027
    38+ *=============================================                                                                     1000028
    39+DGetProAdr1       PR            50A                                                                                 1000029
    40+D PRID                           5P 0  value                                                                        1000030
    41+ *=============================================                                                                     1000031
    42+ * Get ADDRESS LINE                                                                                                 1000032
    43+ *=============================================                                                                     1000033
    44+DGetProAdr2       PR            50A                                                                                 1000034
    45+D PRID                           5P 0  value                                                                        1000035
    46+ *=============================================                                                                     1000036
    47+ * Get ADDRESS LINE                                                                                                 1000037
    48+ *=============================================                                                                     1000038
    49+DGetProAdr3       PR            50A                                                                                 1000039
    50+D PRID                           5P 0  value                                                                        1000040
    51+ *=============================================                                                                     1000041
    52+ * Get ZIP CODE                                                                                                     1000042
    53+ *=============================================                                                                     1000043
    54+DGetProZip        PR            10A                                                                                 1000044
    55+D PRID                           5P 0  value                                                                        1000045
    56+ *=============================================                                                                     1000046
    57+ * Get CITY                                                                                                         1000047
    58+ *=============================================                                                                     1000048
    59+DGetProCity       PR            30A                                                                                 1000049
    60+D PRID                           5P 0  value                                                                        1000050
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    61+ *=============================================                                                                     1000051
    62+ * Get COUNTRY CODE                                                                                                 1000052
    63+ *=============================================                                                                     1000053
    64+DGetProCountry    PR             2A                                                                                 1000054
    65+D PRID                           5P 0  value                                                                        1000055
    66+ *=============================================                                                                     1000056
    67+ * Get DELETE CODE X=DELETED                                                                                        1000057
    68+ *=============================================                                                                     1000058
    69+DIsProDeleted     PR              n                                                                                 1000059
    70+D PRID                           5P 0  value                                                                        1000060
    71+ *=============================================                                                                     1000061
    72+ * Check if provider exist                                                                                          1000062
    73+ *=============================================                                                                     1000063
    74+D ExistProvider   PR              n                                                                                 1000064
    75+D PRID                           5P 0  value                                                                        1000065
    76+ *=============================================                                                                     1000066
    77+ * Close PROVIDE1                                                                                                   1000067
    78+ *=============================================                                                                     1000068
    79+D ClosePROVIDE1   PR                                                                                                1000069
    80  /copy qprotosrc/article                                                                                             000011
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  article.r+                                                   *                     2
        * External name  . . . . . . :  ./qprotosrc/article.rpgleinc                                 *                     2
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     2
        *--------------------------------------------------------------------------------------------*
    81+ *=============================================                                                                     2000001
    82+ * Get ARTICLE DESCRPTION                                                                                           2000002
    83+ *=============================================                                                                     2000003
    84+DGetArtDesc       PR            50A                                                                                 2000004
    85+D ARID                           6A    value                                                                        2000005
    86+ *=============================================                                                                     2000006
    87+ * Get REF SALE PRICE                                                                                               2000007
    88+ *=============================================                                                                     2000008
    89+DGetArtRefSalPrice...                                                                                               2000009
    90+D                 pr             7P 2                                                                               2000010
    91+D ARID                           6A    value                                                                        2000011
    92+ *=============================================                                                                     2000012
    93+ * Get STOCK PRICE                                                                                                  2000013
    94+ *=============================================                                                                     2000014
    95+DGetArtStockPrice...                                                                                                2000015
    96+D                 PR             7P 2                                                                               2000016
    97+D ARID                           6A    value                                                                        2000017
    98+ *=============================================                                                                     2000018
    99+ * Get FAMILLY ID                                                                                                   2000019
   100+ *=============================================                                                                     2000020
   101+DGetArtFam        PR             3A                                                                                 2000021
   102+D ARID                           6A    value                                                                        2000022
   103+ *=============================================                                                                     2000023
   104+ * Get STOCK                                                                                                        2000024
   105+ *=============================================                                                                     2000025
   106+DGetArtStock      PR             5P 0                                                                               2000026
   107+D ARID                           6A    value                                                                        2000027
   108+ *=============================================                                                                     2000028
   109+ * Get MINIMUM STOCK                                                                                                2000029
   110+ *=============================================                                                                     2000030
   111+DGetArtMinStock   PR             5P 0                                                                               2000031
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   112+D ARID                           6A    value                                                                        2000032
   113+ *=============================================                                                                     2000033
   114+ * Get VAT code                                                                                                     2000034
   115+ *=============================================                                                                     2000035
   116+DGetArtVatCode    Pr             1A                                                                                 2000036
   117+D P_ARID                         6A    value                                                                        2000037
   118+ *=============================================                                                                     2000038
   119+ * Check if article exist                                                                                           2000039
   120+ *=============================================                                                                     2000040
   121+D ExistArt        PR              n                                                                                 2000041
   122+D ARID                           6A    value                                                                        2000042
   123+ *=============================================                                                                     2000043
   124+ * Get DELETE CODE X=DELETED                                                                                        2000044
   125+ *=============================================                                                                     2000045
   126+DIsArtDeleted     PR              n                                                                                 2000046
   127+D ARID                           6A    value                                                                        2000047
   128+ *=============================================                                                                     2000048
   129+ * Select an article                                                                                                2000049
   130+ *=============================================                                                                     2000050
   131+D SltArticle      PR             6                                                                                  2000051
   132+D ARID                           6A    value                                                                        2000052
   133+ *=============================================                                                                     2000053
   134+ * Get ARTICLE Info                                                                                                 2000054
   135+ *=============================================                                                                     2000055
   136+DGetArtInfo       PR          1520A                                                                                 2000056
   137+D ARID                           6A    value                                                                        2000057
   138+ *=============================================                                                                     2000058
   139+ * Close ARTICLE1                                                                                                   2000059
   140+ *=============================================                                                                     2000060
   141+D CloseARTICLE1   PR                                                                                                2000061
   142                                                                                                                      000012
   143 d art201          pr                                                                                                 000013
   144 d  arid                               like(aparid)                                                                   000014
   145                                                                                                                      000015
   146 d art201          pi                                                                                                 000016
   147 d  arid                               like(aparid)                                                                   000017
   148                                                                                                                      000018
   149 D indds           ds                                                                                                 000019
   150 D  help                   1      1n                                                                                  000020
   151 D  exit                   3      3n                                                                                  000021
   152 D  prompt                 4      4n                                                                                  000022
   153 D  refresh                5      5n                                                                                  000023
   154 D  cancel                12     12n                                                                                  000024
   155 D  morekeys              24     24n                                                                                  000025
   156 D  pagedown              25     25n                                                                                  000026
   157 D  sflclr                30     30n                                                                                  000027
   158 D  sfldsp                31     31n                                                                                  000028
   159 D  sfldspctl             32     32n                                                                                  000029
   160 D  sflnxtchg             33     33n                                                                                  000030
   161 D  dspatr_ri             34     34n                                                                                  000031
   162 D  sflmsg                35     35n                                                                                  000032
   163 D  errFamilly            40     40n                                                                                  000033
   164 D  errDesc               41     41n                                                                                  000034
   165 D  sflend                80     80n                                                                                  000035
   166                                                                                                                      000036
   167 D info            ds                                                                                                 000037
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   168 D  lrrn                 378    379i 0                                                                                000038
   169                                                                                                                      000039
   170 D rrn01           s              5i 0                                                                                000040
   171 D rrs01           s              5i 0                                                                                000041
   172 D err01           s               n                                                                                  000042
   173                                                                                                                      000043
   174 D panel           S              3i 0 INZ(1)                                                                         000044
   175 D step01          S              3    inz(prp)                                                                       000045
   176 D step02          S              3    inz(prp)                                                                       000046
   177 d savId           s                   like(arid)                                                                     000047
   178 d User            s             10    inz(*user)                                                                     000048
   179 d count           s              3i 0                                                                                000049
   180 d mode            s              3                                                                                   000050
   181                                                                                                                      000051
   182 d crt             c                   'CRT'                                                                          000052
   183 d upd             c                   'UPD'                                                                          000053
   184 d prp             c                   'prp'                                                                          000054
   185 d lod             c                   'lod'                                                                          000055
   186 d dsp             c                   'dsp'                                                                          000056
   187 d key             c                   'key'                                                                          000057
   188 d chk             c                   'chk'                                                                          000058
   189 d chkctl          c                   'chc'                                                                          000059
   190 d actctl          c                   'acc'                                                                          000060
   191 d act             c                   'act'                                                                          000061
   192  /free                                                                                                               000062
   193   select;                                                                                       B01                  000063
   194   when panel = 1;                                                                               X01                  000064
   195     exsr pnl01;                                                                                  01                  000065
   196   when panel = 2;                                                                               X01                  000066
   197     exsr pnl02;                                                                                  01                  000067
   198   other;                                                                                        X01                  000068
   199     exsr pnl00;                                                                                  01                  000069
   200   endsl;                                                                                        E01                  000070
   201   //- Subfiles  01 Subroutines --------------------------------------  ---                                           000071
   202   begsr pnl01;                                                                                                       000072
   203     select ;                                                                                    B01                  000073
   204     when step01 = prp ;                                                                         X01                  000074
   205       exsr s01prp;                                                                               01                  000075
   206     when step01 = lod ;                                                                         X01                  000076
   207       exsr s01lod;                                                                               01                  000077
   208     when step01 = dsp ;                                                                         X01                  000078
   209       exsr s01dsp;                                                                               01                  000079
   210     when step01 = key ;                                                                         X01                  000080
   211       exsr s01key;                                                                               01                  000081
   212     when step01 = chk ;                                                                         X01                  000082
   213       exsr s01chk;                                                                               01                  000083
   214     when step01 = act ;                                                                         X01                  000084
   215       exsr s01act ;                                                                              01                  000085
   216     endsl;                                                                                      E01                  000086
   217   endsr;                                                                                                             000087
   218   //--- Clear Subfile  ----------------------------------------------------                                          000088
   219   begsr s01prp;                                                                                                      000089
   220     RRn01 = 0;                                                                                                       000090
   221     sflclr = *on;                                                                                                    000091
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   222     write ctl01;                                                                                                     000092
   223     sflclr = *off;                                                                                                   000093
   224     ardesc = GetArtDesc(arid);                                                                                       000094
   225     step01 = lod;                                                                                                    000095
   226   endsr;                                                                                                             000096
   227   //--- Load Subfile  -----------------------------------------------------                                          000097
   228   begsr s01lod;                                                                                                      000098
   229     RRb01 = RRn01 + 1;                                                                                               000099
   230     opt01 = 0;                                                                                                       000100
   231     setll arid artipro1;                                                                                             000101
   232     reade(n) arid artipro1;                                                                                          000102
   233     dow not %eof(artipro1);                                                                     B01                  000103
   234       provnm = GetProName(apprid);                                                               01                  000104
   235       RRN01 += 1;                                                                                01                  000105
   236       write sfl01;                                                                               01                  000106
   237       reade(n) arid artipro1;                                                                    01                  000107
   238     enddo;                                                                                      E01                  000108
   239     sflend = *on ;                                                                                                   000109
   240     step01 = dsp;                                                                                                    000110
   241   endsr;                                                                                                             000111
   242   //--- Display Subfile  --------------------------------------------------                                          000112
   243   begsr s01dsp;                                                                                                      000113
   244     sfldspctl = *on;                                                                                                 000114
   245     sfldsp = RRn01 > 0;                                                                                              000115
   246                                                                                                                      000116
   247     write key01;                                                                                                     000117
   248     exfmt ctl01;                                                                                                     000118
   249     if LRRN <>0;                                                                                B01                  000119
   250       RRb01 = LRRN;                                                                              01                  000120
   251     endif;                                                                                      E01                  000121
   252     step01 = key;                                                                                                    000122
   253   endsr;                                                                                                             000123
   254   //--- Command Keys  -----------------------------------------------------                                          000124
   255   begsr s01key;                                                                                                      000125
   256     select;                                                                                     B01                  000126
   257     when exit;                                                                                  X01                  000127
   258       panel  = 0;                                                                                01                  000128
   259       step01 = prp;                                                                              01                  000129
   260     when cancel;                                                                                X01                  000130
   261       step01 = prp;                                                                              01                  000131
   262       panel  = panel  - 1;                                                                       01                  000132
   263     when refresh;                                                                               X01                  000133
   264       step01 = prp;                                                                              01                  000134
   265     other;                                                                                      X01                  000135
   266       step01 = chk;                                                                              01                  000136
   267     endsl;                                                                                      E01                  000137
   268   endsr;                                                                                                             000138
   269   //--- Check Subfile  ----------------------------------------------------                                          000139
   270   begsr s01chk;                                                                                                      000140
   271     step01 = act;                                                                                                    000141
   272     err01 = *off;                                                                                                    000142
   273     sflnxtchg = *on;                                                                                                 000143
   274     readc(e) sfl01;                                                                                                  000144
   275     dow not %error and not %eof;                                                                B01                  000145
   276       if opt01 <> 0 and opt01 <> 2;                                                             B02                  000146
   277         step01 = dsp;                                                                            02                  000147
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      8
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   278         dspatr_ri = *on;                                                                         02                  000148
   279         sflmsg = *on;                                                                            02                  000149
   280         if not err01;                                                                           B03                  000150
   281           rrb01 = rrn01;                                                                         03                  000151
   282           err01 = *on;                                                                           03                  000152
   283         endif;                                                                                  E03                  000153
   284       endif;                                                                                    E02                  000154
   285       update sfl01;                                                                              01                  000155
   286       dspatr_ri = *off;                                                                          01                  000156
   287       readc(e) sfl01;                                                                            01                  000157
   288     enddo;                                                                                      E01                  000158
   289     sflnxtchg = *off;                                                                                                000159
   290   endsr;                                                                                                             000160
   291   //--- action Subfile  ---------------------------------------------------                                          000161
   292   begsr s01act;                                                                                                      000162
   293     readc(e) sfl01;                                                                                                  000163
   294     select;                                                                                     B01                  000164
   295     when %error or %eof;                                                                        X01                  000165
   296       step01 = dsp;                                                                              01                  000166
   297     when opt01 = 2;                                                                             X01                  000167
   298       mode = upd;                                                                                01                  000168
   299       panel = 2;                                                                                 01                  000169
   300       step02 = prp;                                                                              01                  000170
   301       opt01 = 0;                                                                                 01                  000171
   302       update sfl01;                                                                              01                  000172
   303     other;                                                                                      X01                  000173
   304                                                                                                                      000174
   305     endsl;                                                                                      E01                  000175
   306   endsr;                                                                                                             000176
   307                                                                                                                      000177
   308                                                                                                                      000178
   309   //--- Format 02 Subroutines ------------------------------------     ---                                           000179
   310   begsr pnl02;                                                                                                       000180
   311     select ;                                                                                    B01                  000181
   312     when step02 = prp ;                                                                         X01                  000182
   313       exsr s02prp;                                                                               01                  000183
   314     when step02 = dsp ;                                                                         X01                  000184
   315       exsr s02dsp;                                                                               01                  000185
   316     when step02 = key ;                                                                         X01                  000186
   317       exsr s02key;                                                                               01                  000187
   318     when step02 = chk ;                                                                         X01                  000188
   319       exsr s02chk;                                                                               01                  000189
   320     when step02 = act ;                                                                         X01                  000190
   321       exsr s02act ;                                                                              01                  000191
   322     endsl;                                                                                      E01                  000192
   323                                                                                                                      000193
   324   endsr;                                                                                                             000194
   325   //--- clear & Load ------------------------------------------------------                                          000195
   326   begsr S02prp;                                                                                                      000196
   327     chain (arid: apprid) artipro1;                                                                                   000197
   328     step02 = dsp;                                                                                                    000198
   329   endsr;                                                                                                             000199
   330   //--- Display  ----------------------------------------------------------                                          000200
   331   begsr S02dsp;                                                                                                      000201
   332     exfmt fmt02;                                                                                                     000202
   333     step02 = key;                                                                                                    000203
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page      9
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   334   endsr;                                                                                                             000204
   335   //--- command Keys  -----------------------------------------------------                                          000205
   336   begsr S02key;                                                                                                      000206
   337     select;                                                                                     B01                  000207
   338     when exit;                                                                                  X01                  000208
   339       panel  = 1;                                                                                01                  000209
   340       step02 = prp;                                                                              01                  000210
   341     when cancel;                                                                                X01                  000211
   342       step02 = prp;                                                                              01                  000212
   343       panel  = panel  - 1;                                                                       01                  000213
   344     other;                                                                                      X01                  000214
   345       step02 = chk;                                                                              01                  000215
   346     endsl;                                                                                      E01                  000216
   347   endsr;                                                                                                             000217
   348   //--- check -------------------------------------------------------------                                          000218
   349   begsr S02chk;                                                                                                      000219
   350     step02 = act;                                                                                                    000220
   351                                                                                                                      000221
   352   endsr;                                                                                                             000222
   353   //--- Action ------------------------------------------------------------                                          000223
   354   begsr S02act;                                                                                                      000224
   355     step02 = prp;                                                                                                    000225
   356     if mode = upd;                                                                              B01                  000226
   357       apmod = %timestamp();                                                                      01                  000227
   358       apmodid = user;                                                                            01                  000228
   359       update farpr;                                                                              01                  000229
   360     endif;                                                                                      E01                  000230
   361     panel = 1;                                                                                                       000231
   362   endsr;                                                                                                             000232
   363                                                                                                                      000233
   364   //--------INITIALIZATION ----------------------------------                                                        000234
   365   begsr *inzsr;                                                                                                      000235
   366   endsr;                                                                                                             000236
   367   //--------END SUBROUTINE ----------------------------------                                                        000237
   368   begsr pnl00;                                                                                                       000238
   369     *inlr = *on;                                                                                                     000239
   370   endsr;                                                                                                             000240
   371  /end-free                                                                                                           000241
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     10
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30    144 000014  The name or indicator APARID is not defined.
*RNF7030 30    357 000227  The name or indicator APMOD is not defined.
*RNF7030 30    358 000228  The name or indicator APMODID is not defined.
*RNF7030 30    234 000104  The name or indicator APPRID is not defined.
*RNF7030 30    224 000094  The name or indicator ARDESC is not defined.
*RNF7030 30    147 000017  The name or indicator ARID is not defined.
*RNF7089 00      5 000005  RPG provides Separate-Indicator area for file ART201D.
*RNF7030 30    222 000092  The name or indicator CTL01 is not defined.
*RNF7030 30    359 000229  The name or indicator FARPR is not defined.
*RNF7030 30    332 000202  The name or indicator FMT02 is not defined.
*RNF7030 30    247 000117  The name or indicator KEY01 is not defined.
*RNF7030 30    230 000100  The name or indicator OPT01 is not defined.
*RNF7030 30    234 000104  The name or indicator PROVNM is not defined.
*RNF7030 30    229 000099  The name or indicator RRB01 is not defined.
*RNF7030 30    177 000047  The name or indicator SAVID is not defined.
*RNF7030 30    236 000106  The name or indicator SFL01 is not defined.
*RNF7503 30    222 000092  Expression contains an operand that is not defined.
*RNF7503 30    224 000094  Expression contains an operand that is not defined.
*RNF7503 30    229 000099  Expression contains an operand that is not defined.
*RNF7503 30    230 000100  Expression contains an operand that is not defined.
*RNF7503 30    231 000101  Expression contains an operand that is not defined.
*RNF7503 30    232 000102  Expression contains an operand that is not defined.
*RNF7503 30    234 000104  Expression contains an operand that is not defined.
*RNF7503 30    236 000106  Expression contains an operand that is not defined.
*RNF7503 30    237 000107  Expression contains an operand that is not defined.
*RNF7503 30    247 000117  Expression contains an operand that is not defined.
*RNF7503 30    248 000118  Expression contains an operand that is not defined.
*RNF7503 30    250 000120  Expression contains an operand that is not defined.
*RNF7503 30    274 000144  Expression contains an operand that is not defined.
*RNF7503 30    276 000146  Expression contains an operand that is not defined.
*RNF7503 30    281 000151  Expression contains an operand that is not defined.
*RNF7503 30    285 000155  Expression contains an operand that is not defined.
*RNF7503 30    287 000157  Expression contains an operand that is not defined.
*RNF7503 30    293 000163  Expression contains an operand that is not defined.
*RNF7503 30    297 000167  Expression contains an operand that is not defined.
*RNF7503 30    301 000171  Expression contains an operand that is not defined.
*RNF7503 30    302 000172  Expression contains an operand that is not defined.
*RNF7503 30    327 000197  Expression contains an operand that is not defined.
*RNF7503 30    332 000202  Expression contains an operand that is not defined.
*RNF7503 30    357 000227  Expression contains an operand that is not defined.
*RNF7503 30    358 000228  Expression contains an operand that is not defined.
*RNF7503 30    359 000229  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
    10    1 provider.+ ./qprotosrc/provider.rpgleinc      819  07/11/22 15:00:59
    80    2 article.r+ ./qprotosrc/article.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     11
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     12
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         ARTIPRO1          DISK                    4D    231     232     233
                                                 237     327
         ART201D           WORKSTN                 5D
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         *INLR             N(1)                  369M
         *INZSR            BEGSR                 365D
         ACT               CONST                 191D    214     271     320
                                                 350
*RNF7031 ACTCTL            CONST                 190D
*RNF7030 APARID            **UNDEF**             144     147
*RNF7030 APMOD             **UNDEF**             357M
*RNF7030 APMODID           **UNDEF**             358M
*RNF7030 APPRID            **UNDEF**             234     327
*RNF7030 ARDESC            **UNDEF**             224M
*RNF7030 ARID              **UNDEF**             147D    177     224     231
                                                 232     237     327
*RNF7031 ART201            PROTOTYPE             143D
         CANCEL            N(1)                  154D    260     341
         CHK               CONST                 188D    212     266     318
                                                 345
*RNF7031 CHKCTL            CONST                 189D
*RNF7031 CLOSEARTICLE1     PROTOTYPE             141D
*RNF7031 CLOSEPROVIDE1     PROTOTYPE              79D
*RNF7031 COUNT             I(3,0)                179D
*RNF7031 CRT               CONST                 182D
*RNF7030 CTL01             **UNDEF**             222     248
         DSP               CONST                 186D    208     240     277
                                                 296     314     328
         DSPATR_RI         N(1)                  161D    278M    286M
*RNF7031 ERRDESC           N(1)                  164D
*RNF7031 ERRFAMILLY        N(1)                  163D
         ERR01             N(1)                  172D    272M    280     282M
*RNF7031 EXISTART          N(1)                  121D
                           PROTOTYPE
*RNF7031 EXISTPROVIDER     N(1)                   74D
                           PROTOTYPE
         EXIT              N(1)                  151D    257     338
*RNF7030 FARPR             **UNDEF**             359
*RNF7030 FMT02             **UNDEF**             332
         GETARTDESC        A(50)                  84D    224
                           PROTOTYPE
*RNF7031 GETARTFAM         A(3)                  101D
                           PROTOTYPE
*RNF7031 GETARTINFO        A(1520)               136D
                           PROTOTYPE
*RNF7031 GETARTMINSTOCK    P(5,0)                111D
                           PROTOTYPE
*RNF7031 GETARTREFSALPRICE P(7,2)                 89D
                           PROTOTYPE
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     13
*RNF7031 GETARTSTOCK       P(5,0)                106D
                           PROTOTYPE
*RNF7031 GETARTSTOCKPRICE  P(7,2)                 95D
                           PROTOTYPE
*RNF7031 GETARTVATCODE     A(1)                  116D
                           PROTOTYPE
*RNF7031 GETPROADR1        A(50)                  39D
                           PROTOTYPE
*RNF7031 GETPROADR2        A(50)                  44D
                           PROTOTYPE
*RNF7031 GETPROADR3        A(50)                  49D
                           PROTOTYPE
*RNF7031 GETPROCITY        A(30)                  59D
                           PROTOTYPE
*RNF7031 GETPROCONT        A(30)                  19D
                           PROTOTYPE
*RNF7031 GETPROCOUNTRY     A(2)                   64D
                           PROTOTYPE
*RNF7031 GETPROMAIL        A(50)                  34D
                           PROTOTYPE
         GETPRONAME        A(30)                  14D    234
                           PROTOTYPE
*RNF7031 GETPROPHONE       A(15)                  24D
                           PROTOTYPE
*RNF7031 GETPROVAT         A(12)                  29D
                           PROTOTYPE
*RNF7031 GETPROZIP         A(10)                  54D
                           PROTOTYPE
*RNF7031 HELP              N(1)                  150D
         INDDS             DS(80)                  6     149D
         INFO              DS(379)                 8     167D
*RNF7031 ISARTDELETED      N(1)                  126D
                           PROTOTYPE
*RNF7031 ISPRODELETED      N(1)                   69D
                           PROTOTYPE
         KEY               CONST                 187D    210     252     316
                                                 333
*RNF7030 KEY01             **UNDEF**             247
         LOD               CONST                 185D    206     225
         LRRN              I(5,0)                168D    249     250
         MODE              A(3)                  180D    298M    356
*RNF7031 MOREKEYS          N(1)                  155D
*RNF7030 OPT01             **UNDEF**             230M    276     276     297
                                                 301M
*RNF7031 PAGEDOWN          N(1)                  156D
         PANEL             I(3,0)                174D    194     196     258M
                                                 262M    262     299M    339M
                                                 343M    343     361M
         PNL00             BEGSR                 199     368D
         PNL01             BEGSR                 195     202D
         PNL02             BEGSR                 197     310D
*RNF7031 PROMPT            N(1)                  152D
*RNF7030 PROVNM            **UNDEF**             234M
         PRP               CONST                 175     176     184D    204
                                                 259     261     264     300
                                                 312     340     342     355
         REFRESH           N(1)                  153D    263
*RNF7030 RRB01             **UNDEF**             229M    250M    281M
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     14
         RRN01             I(5,0)                170D    220M    229     235M
                                                 245     281
*RNF7031 RRS01             I(5,0)                171D
*RNF7030 SAVID             **UNDEF**             177D
         SFLCLR            N(1)                  157D    221M    223M
         SFLDSP            N(1)                  158D    245M
         SFLDSPCTL         N(1)                  159D    244M
         SFLEND            N(1)                  165D    239M
         SFLMSG            N(1)                  162D    279M
         SFLNXTCHG         N(1)                  160D    273M    289M
*RNF7030 SFL01             **UNDEF**             236     274     285     287
                                                 293     302
*RNF7031 SLTARTICLE        A(6)                  131D
                           PROTOTYPE
         STEP01            A(3)                  175D    204     206     208
                                                 210     212     214     225M
                                                 240M    252M    259M    261M
                                                 264M    266M    271M    277M
                                                 296M
         STEP02            A(3)                  176D    300M    312     314
                                                 316     318     320     328M
                                                 333M    340M    342M    345M
                                                 350M    355M
         S01ACT            BEGSR                 215     292D
         S01CHK            BEGSR                 213     270D
         S01DSP            BEGSR                 209     243D
         S01KEY            BEGSR                 211     255D
         S01LOD            BEGSR                 207     228D
         S01PRP            BEGSR                 205     219D
         S02ACT            BEGSR                 321     354D
         S02CHK            BEGSR                 319     349D
         S02DSP            BEGSR                 315     331D
         S02KEY            BEGSR                 317     336D
         S02PRP            BEGSR                 313     326D
         UPD               CONST                 183D    298     356
         USER              A(10)                 178D    358
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
         LR                                      369M
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     15
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         ART201                                  143
         EXISTART                                121
         GETPROVAT                                29
         GETPROZIP                                54
         GETARTFAM                               101
         GETPRONAME                               14
         GETPROCONT                               19
         GETPROMAIL                               34
         GETPROADR1                               39
         GETPROADR2                               44
         GETPROADR3                               49
         GETPROCITY                               59
         GETARTDESC                               84
         SLTARTICLE                              131
         GETARTINFO                              136
         GETPROPHONE                              24
         GETARTSTOCK                             106
         ISPRODELETED                             69
         ISARTDELETED                            126
         GETPROCOUNTRY                            64
         EXISTPROVIDER                            74
         CLOSEPROVIDE1                            79
         GETARTVATCODE                           116
         CLOSEARTICLE1                           141
         GETARTMINSTOCK                          111
         GETARTSTOCKPRICE                         95
         GETARTREFSALPRICE                        89
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     16
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00     36 The name or indicator is not referenced.
*RNF7089 00      1 RPG provides Separate-Indicator area for file.
*RNF1324 20      1 Keywords DFTACTGRP, ACTGRP, or USRPRF are not allowed.
*RNF2565 20      1 Keyword INDDS is not allowed with this file.
*RNF7030 30     15 The name or indicator is not defined.
*RNF7503 30     26 Expression contains an operand that is not defined.
*RNF2120 40      2 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART201              BENOIT     07/11/22 16:42:40        Page     17
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :       37
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        2
    Severe Error (30+)  . . . . . . :       43
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       82
  Source Totals:
    Records . . . . . . . . . . . . :      371
    Specifications  . . . . . . . . :      257
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       93
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/PRO200) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/PRO200.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.42.066389000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module PRO200 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   PRO200
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/PRO20
                                       0.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1                                                                                                                      000001
     2 fprovide1  uf a e           k disk                                                                                   000002
======> aaaaaaaa
*RNF2120 40 a      000002  External descriptions for file PROVIDE1 not found; file is
                           ignored.
     3 fpro200d   cf   e             workstn                                                                                000003
     4 F                                     indds(indds)                                                                   000004
======>                                      aaaaa
*RNF2120 40      3 000003  External descriptions for file PRO200D not found; file is
                           ignored.
*RNF2565 20 a      000004  Keyword INDDS is not allowed with this file.
     5 F                                     sfile(sfl01:rrn01)                                                             000005
     6 F                                     Infds(Info)                                                                    000006
     7                                                                                                                      000007
     8  /copy qprotosrc/country                                                                                             000008
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  country.r+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/country.rpgleinc                                 *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
     9+ *=============================================                                                                     1000001
    10+ * Get COUNTRY NAME                                                                                                 1000002
    11+ *=============================================                                                                     1000003
    12+DGetCountryName   PR            30A                                                                                 1000004
    13+D COID                           2A    value                                                                        1000005
    14+ *=============================================                                                                     1000006
    15+ * Get Iso Code alpha-3                                                                                             1000007
    16+ *=============================================                                                                     1000008
    17+DGetCountryIso3   PR             3A                                                                                 1000009
    18+D COID                           2A    value                                                                        1000010
    19+ *=============================================                                                                     1000011
    20+ * Check if country code exist                                                                                      1000012
    21+ *=============================================                                                                     1000013
    22+D ExistCountry    PR              n                                                                                 1000014
    23+D COID                           2A    value                                                                        1000015
    24+ *=============================================                                                                     1000016
    25+ * Select a country code                                                                                            1000017
    26+ *=============================================                                                                     1000018
    27+D SltCountry      PR             2a                                                                                 1000019
    28+D COID                           2A                                                                                 1000020
    29+ *=============================================                                                                     1000021
    30+ * Close COUNTRY                                                                                                    1000022
    31+ *=============================================                                                                     1000023
    32+D CloseCOUNTRY    PR                                                                                                1000024
    33                                                                                                                      000009
    34 d articles        pr                  extpgm('ART202')                                                               000010
    35 d  id                                 like(prid)                                                                     000011
    36                                                                                                                      000012
    37 d prpord          pr                  extproc('PRO202')                                                              000013
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    38 d  id                                 like(prid)                                                                     000014
    39                                                                                                                      000015
    40 D indds           ds                                                                                                 000016
    41 D  help                   1      1n                                                                                  000017
    42 D  exit                   3      3n                                                                                  000018
    43 D  prompt                 4      4n                                                                                  000019
    44 D  refresh                5      5n                                                                                  000020
    45 D  cancel                12     12n                                                                                  000021
    46 D  morekeys              24     24n                                                                                  000022
    47 D  pagedown              25     25n                                                                                  000023
    48 D  sflclr                30     30n                                                                                  000024
    49 D  sfldsp                31     31n                                                                                  000025
    50 D  sfldspctl             32     32n                                                                                  000026
    51 D  sflnxtchg             33     33n                                                                                  000027
    52 D  dspatr_ri             34     34n                                                                                  000028
    53 D  sflmsg                35     35n                                                                                  000029
    54 D  ErrCountry            40     40n                                                                                  000030
    55 D  ErrName               41     41n                                                                                  000031
    56 D  sflend                80     80n                                                                                  000032
    57                                                                                                                      000033
    58 D info            ds                                                                                                 000034
    59 D  lrrn                 378    379i 0                                                                                000035
    60                                                                                                                      000036
    61 D rrn01           s              5i 0                                                                                000037
    62 D rrs01           s              5i 0                                                                                000038
    63 D err01           s               n                                                                                  000039
    64                                                                                                                      000040
    65 D panel           S              3i 0 INZ(1)                                                                         000041
    66 D step01          S              3    inz(prp)                                                                       000042
    67 D step02          S              3    inz(prp)                                                                       000043
    68 D step03          S              3    inz(prp)                                                                       000044
    69 d savId           s                   like(prid)                                                                     000045
    70 d User            s             10    inz(*user)                                                                     000046
    71 d count           s              3i 0                                                                                000047
    72 d mode            s              3                                                                                   000048
    73                                                                                                                      000049
    74 d crt             c                   'CRT'                                                                          000050
    75 d upd             c                   'UPD'                                                                          000051
    76 d prp             c                   'prp'                                                                          000052
    77 d lod             c                   'lod'                                                                          000053
    78 d dsp             c                   'dsp'                                                                          000054
    79 d key             c                   'key'                                                                          000055
    80 d chk             c                   'chk'                                                                          000056
    81 d act             c                   'act'                                                                          000057
    82  /free                                                                                                               000058
    83   select;                                                                                       B01                  000059
    84   when panel = 1;                                                                               X01                  000060
    85     exsr pnl01;                                                                                  01                  000061
    86   when panel = 2;                                                                               X01                  000062
    87     exsr pnl02;                                                                                  01                  000063
    88   other;                                                                                        X01                  000064
    89     exsr pnl00;                                                                                  01                  000065
    90   endsl;                                                                                        E01                  000066
    91   //- Subfiles  01 Subroutines --------------------------------------  ---                                           000067
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    92   begsr pnl01;                                                                                                       000068
    93     select ;                                                                                    B01                  000069
    94     when step01 = prp ;                                                                         X01                  000070
    95       exsr s01prp;                                                                               01                  000071
    96     when step01 = lod ;                                                                         X01                  000072
    97       exsr s01lod;                                                                               01                  000073
    98     when step01 = dsp ;                                                                         X01                  000074
    99       exsr s01dsp;                                                                               01                  000075
   100     when step01 = key ;                                                                         X01                  000076
   101       exsr s01key;                                                                               01                  000077
   102     when step01 = chk ;                                                                         X01                  000078
   103       exsr s01chk;                                                                               01                  000079
   104     when step01 = act ;                                                                         X01                  000080
   105       exsr s01act ;                                                                              01                  000081
   106     endsl;                                                                                      E01                  000082
   107   endsr;                                                                                                             000083
   108   //--- Clear Subfile  ----------------------------------------------------                                          000084
   109   begsr s01prp;                                                                                                      000085
   110     RRn01 = 0;                                                                                                       000086
   111     sflclr = *on;                                                                                                    000087
   112     write ctl01;                                                                                                     000088
   113     sflclr = *off;                                                                                                   000089
   114     step01 = lod;                                                                                                    000090
   115     clear savid;                                                                                                     000091
   116     rrs01 = 0;                                                                                                       000092
   117   endsr;                                                                                                             000093
   118   //--- Load Subfile  -----------------------------------------------------                                          000094
   119   begsr s01lod;                                                                                                      000095
   120     exsr s01rst;                                                                                                     000096
   121     RRb01 = RRn01 + 1;                                                                                               000097
   122     opt01 = 0;                                                                                                       000098
   123     count = 0;                                                                                                       000099
   124     read(n) provide1;                                                                                                000100
   125     dow not %eof(provide1) and count < 14;                                                      B01                  000101
   126       RRN01 += 1;                                                                                01                  000102
   127       count += 1;                                                                                01                  000103
   128       write sfl01;                                                                               01                  000104
   129       read(n) provide1;                                                                          01                  000105
   130     enddo;                                                                                      E01                  000106
   131     sflend = %eof(provide1);                                                                                         000107
   132     step01 = dsp;                                                                                                    000108
   133     exsr s01sav;                                                                                                     000109
   134   endsr;                                                                                                             000110
   135   //--- restore last read -------------------------------------------------                                          000111
   136   begsr s01rst;                                                                                                      000112
   137     setll savid  provide1;                                                                                           000113
   138     rrn01 = rrs01;                                                                                                   000114
   139   endsr;                                                                                                             000115
   140   //--- Save last read -------------------------------------------------                                             000116
   141   begsr s01sav;                                                                                                      000117
   142     savid = prid;                                                                                                    000118
   143     rrs01 = rrn01;                                                                                                   000119
   144   endsr;                                                                                                             000120
   145   //--- Display Subfile  --------------------------------------------------                                          000121
   146   begsr s01dsp;                                                                                                      000122
   147     sfldspctl = *on;                                                                                                 000123
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   148     sfldsp = RRn01 > 0;                                                                                              000124
   149                                                                                                                      000125
   150     write key01;                                                                                                     000126
   151     exfmt ctl01;                                                                                                     000127
   152     if LRRN <>0;                                                                                B01                  000128
   153       RRb01 = LRRN;                                                                              01                  000129
   154     endif;                                                                                      E01                  000130
   155     step01 = key;                                                                                                    000131
   156   endsr;                                                                                                             000132
   157   //--- Command Keys  -----------------------------------------------------                                          000133
   158   begsr s01key;                                                                                                      000134
   159     select;                                                                                     B01                  000135
   160     when exit;                                                                                  X01                  000136
   161       panel  = 0;                                                                                01                  000137
   162       step01 = prp;                                                                              01                  000138
   163     when cancel;                                                                                X01                  000139
   164       step01 = prp;                                                                              01                  000140
   165       panel  = panel  - 1;                                                                       01                  000141
   166     when pagedown;                                                                              X01                  000142
   167       step01 = lod;                                                                              01                  000143
   168     other;                                                                                      X01                  000144
   169       step01 = chk;                                                                              01                  000145
   170     endsl;                                                                                      E01                  000146
   171   endsr;                                                                                                             000147
   172   //--- Check Subfile  ----------------------------------------------------                                          000148
   173   begsr s01chk;                                                                                                      000149
   174     step01 = act;                                                                                                    000150
   175     err01 = *off;                                                                                                    000151
   176     sflnxtchg = *on;                                                                                                 000152
   177     readc(e) sfl01;                                                                                                  000153
   178     dow not %error and not %eof;                                                                B01                  000154
   179       if opt01  <> 0 and opt01  <> 2 and opt01  <> 5 and opt01  <> 7;                           B02                  000155
   180         step01 = dsp;                                                                            02                  000156
   181         dspatr_ri = *on;                                                                         02                  000157
   182         sflmsg = *on;                                                                            02                  000158
   183         if not err01;                                                                           B03                  000159
   184           rrb01 = rrn01;                                                                         03                  000160
   185           err01 = *on;                                                                           03                  000161
   186         endif;                                                                                  E03                  000162
   187       endif;                                                                                    E02                  000163
   188       update sfl01;                                                                              01                  000164
   189       dspatr_ri = *off;                                                                          01                  000165
   190       readc(e) sfl01;                                                                            01                  000166
   191     enddo;                                                                                      E01                  000167
   192     sflnxtchg = *off;                                                                                                000168
   193   endsr;                                                                                                             000169
   194   //--- action Subfile  ---------------------------------------------------                                          000170
   195   begsr s01act;                                                                                                      000171
   196     readc(e) sfl01;                                                                                                  000172
   197     select;                                                                                     B01                  000173
   198     when %error or %eof;                                                                        X01                  000174
   199       step01 = dsp;                                                                              01                  000175
   200     when opt01 = 2;                                                                             X01                  000176
   201       panel = 2;                                                                                 01                  000177
   202       step02 = prp;                                                                              01                  000178
   203       opt01 = 0;                                                                                 01                  000179
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   204       update sfl01;                                                                              01                  000180
   205       // to remove the bug uncomment the following line                                                              000181
   206       // mode = upd;                                                                                                 000182
   207     when opt01 = 5;                                                                             X01                  000183
   208       articles(prid);                                                                            01                  000184
   209       opt01 = 0;                                                                                 01                  000185
   210       update sfl01;                                                                              01                  000186
   211     when opt01 = 7;                                                                             X01                  000187
   212       prpOrd(prid);                                                                              01                  000188
   213       opt01 = 0;                                                                                 01                  000189
   214       update sfl01;                                                                              01                  000190
   215     other;                                                                                      X01                  000191
   216                                                                                                                      000192
   217     endsl;                                                                                      E01                  000193
   218   endsr;                                                                                                             000194
   219                                                                                                                      000195
   220                                                                                                                      000196
   221   //--- Format 02 Subroutines ------------------------------------     ---                                           000197
   222   begsr pnl02;                                                                                                       000198
   223     select ;                                                                                    B01                  000199
   224     when step02 = prp ;                                                                         X01                  000200
   225       exsr s02prp;                                                                               01                  000201
   226     when step02 = dsp ;                                                                         X01                  000202
   227       exsr s02dsp;                                                                               01                  000203
   228     when step02 = key ;                                                                         X01                  000204
   229       exsr s02key;                                                                               01                  000205
   230     when step02 = chk ;                                                                         X01                  000206
   231       exsr s02chk;                                                                               01                  000207
   232     when step02 = act ;                                                                         X01                  000208
   233       exsr s02act ;                                                                              01                  000209
   234     endsl;                                                                                      E01                  000210
   235                                                                                                                      000211
   236   endsr;                                                                                                             000212
   237   //--- clear & Load ------------------------------------------------------                                          000213
   238   begsr S02prp;                                                                                                      000214
   239     chain prid provide1;                                                                                             000215
   240     coname = GetCountryName(prcoun);                                                                                 000216
   241     step02 = dsp;                                                                                                    000217
   242   endsr;                                                                                                             000218
   243   //--- Display  ----------------------------------------------------------                                          000219
   244   begsr S02dsp;                                                                                                      000220
   245     exfmt fmt02;                                                                                                     000221
   246     step02 = key;                                                                                                    000222
   247   endsr;                                                                                                             000223
   248   //--- command Keys  -----------------------------------------------------                                          000224
   249   begsr S02key;                                                                                                      000225
   250     select;                                                                                     B01                  000226
   251     when exit;                                                                                  X01                  000227
   252       panel  = 1;                                                                                01                  000228
   253       step02 = prp;                                                                              01                  000229
   254     when cancel;                                                                                X01                  000230
   255       step02 = prp;                                                                              01                  000231
   256       panel  = panel  - 1;                                                                       01                  000232
   257     when prompt;                                                                                X01                  000233
   258       step02 = dsp;                                                                              01                  000234
   259       prcoun = SltCountry(prcoun);                                                               01                  000235
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   260       coname = GetCountryName(prcoun);                                                           01                  000236
   261     other;                                                                                      X01                  000237
   262       step02 = chk;                                                                              01                  000238
   263     endsl;                                                                                      E01                  000239
   264   endsr;                                                                                                             000240
   265   //--- check -------------------------------------------------------------                                          000241
   266   begsr S02chk;                                                                                                      000242
   267     step02 = act;                                                                                                    000243
   268     if not ExistCountry(prcoun);                                                                B01                  000244
   269       errCountry = *on;                                                                          01                  000245
   270       step02 = dsp;                                                                              01                  000246
   271     endif;                                                                                      E01                  000247
   272     if provnm = *blanks;                                                                        B01                  000248
   273       errName = *on;                                                                             01                  000249
   274       step02 = dsp;                                                                              01                  000250
   275     endif;                                                                                      E01                  000251
   276                                                                                                                      000252
   277   endsr;                                                                                                             000253
   278   //--- Action ------------------------------------------------------------                                          000254
   279   begsr S02act;                                                                                                      000255
   280     step02 = prp;                                                                                                    000256
   281     if mode = upd;                                                                              B01                  000257
   282       prmod = %timestamp();                                                                      01                  000258
   283       prmodid = user;                                                                            01                  000259
   284       update fprov;                                                                              01                  000260
   285     endif;                                                                                      E01                  000261
   286     panel = 1;                                                                                                       000262
   287   endsr;                                                                                                             000263
   288                                                                                                                      000264
   289   //--------INITIALIZATION ----------------------------------                                                        000265
   290   begsr *inzsr;                                                                                                      000266
   291   endsr;                                                                                                             000267
   292   //--------END SUBROUTINE ----------------------------------                                                        000268
   293   begsr pnl00;                                                                                                       000269
   294     *inlr = *on;                                                                                                     000270
   295   endsr;                                                                                                             000271
   296  /end-free                                                                                                           000272
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      8
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30    240 000216  The name or indicator CONAME is not defined.
*RNF7030 30    112 000088  The name or indicator CTL01 is not defined.
*RNF7030 30    245 000221  The name or indicator FMT02 is not defined.
*RNF7030 30    284 000260  The name or indicator FPROV is not defined.
*RNF7030 30    150 000126  The name or indicator KEY01 is not defined.
*RNF7030 30    122 000098  The name or indicator OPT01 is not defined.
*RNF7030 30    240 000216  The name or indicator PRCOUN is not defined.
*RNF7030 30     35 000011  The name or indicator PRID is not defined.
*RNF7030 30    282 000258  The name or indicator PRMOD is not defined.
*RNF7030 30    283 000259  The name or indicator PRMODID is not defined.
*RNF7030 30    272 000248  The name or indicator PROVNM is not defined.
*RNF7089 00      3 000003  RPG provides Separate-Indicator area for file PRO200D.
*RNF7030 30    121 000097  The name or indicator RRB01 is not defined.
*RNF7030 30     69 000045  The name or indicator SAVID is not defined.
*RNF7030 30    128 000104  The name or indicator SFL01 is not defined.
*RNF7503 30    112 000088  Expression contains an operand that is not defined.
*RNF7503 30    115 000091  Expression contains an operand that is not defined.
*RNF7503 30    121 000097  Expression contains an operand that is not defined.
*RNF7503 30    122 000098  Expression contains an operand that is not defined.
*RNF7503 30    124 000100  Expression contains an operand that is not defined.
*RNF7503 30    128 000104  Expression contains an operand that is not defined.
*RNF7503 30    129 000105  Expression contains an operand that is not defined.
*RNF7503 30    137 000113  Expression contains an operand that is not defined.
*RNF7503 30    142 000118  Expression contains an operand that is not defined.
*RNF7503 30    150 000126  Expression contains an operand that is not defined.
*RNF7503 30    151 000127  Expression contains an operand that is not defined.
*RNF7503 30    153 000129  Expression contains an operand that is not defined.
*RNF7503 30    177 000153  Expression contains an operand that is not defined.
*RNF7503 30    179 000155  Expression contains an operand that is not defined.
*RNF7503 30    184 000160  Expression contains an operand that is not defined.
*RNF7503 30    188 000164  Expression contains an operand that is not defined.
*RNF7503 30    190 000166  Expression contains an operand that is not defined.
*RNF7503 30    196 000172  Expression contains an operand that is not defined.
*RNF7503 30    200 000176  Expression contains an operand that is not defined.
*RNF7503 30    203 000179  Expression contains an operand that is not defined.
*RNF7503 30    204 000180  Expression contains an operand that is not defined.
*RNF7503 30    207 000183  Expression contains an operand that is not defined.
*RNF7503 30    208 000184  Expression contains an operand that is not defined.
*RNF5410 30    208 000184  The prototype for the call is not defined.
*RNF7503 30    209 000185  Expression contains an operand that is not defined.
*RNF7503 30    210 000186  Expression contains an operand that is not defined.
*RNF7503 30    211 000187  Expression contains an operand that is not defined.
*RNF7503 30    212 000188  Expression contains an operand that is not defined.
*RNF5410 30    212 000188  The prototype for the call is not defined.
*RNF7503 30    213 000189  Expression contains an operand that is not defined.
*RNF7503 30    214 000190  Expression contains an operand that is not defined.
*RNF7503 30    239 000215  Expression contains an operand that is not defined.
*RNF7503 30    240 000216  Expression contains an operand that is not defined.
*RNF7503 30    245 000221  Expression contains an operand that is not defined.
*RNF7503 30    259 000235  Expression contains an operand that is not defined.
*RNF7503 30    260 000236  Expression contains an operand that is not defined.
*RNF7503 30    268 000244  Expression contains an operand that is not defined.
*RNF7503 30    272 000248  Expression contains an operand that is not defined.
*RNF7503 30    282 000258  Expression contains an operand that is not defined.
*RNF7503 30    283 000259  Expression contains an operand that is not defined.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page      9
*RNF7503 30    284 000260  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     8    1 country.r+ ./qprotosrc/country.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page     10
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         PROVIDE1          DISK                    2D    124     125     129
                                                 131     137     239
         PRO200D           WORKSTN                 3D
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         *INLR             N(1)                  294M
         *INZSR            BEGSR                 290D
         ACT               CONST                  81D    104     174     232
                                                 267
         ARTICLES          PROTOTYPE              34D    208M
         CANCEL            N(1)                   45D    163     254
         CHK               CONST                  80D    102     169     230
                                                 262
*RNF7031 CLOSECOUNTRY      PROTOTYPE              32D
*RNF7030 CONAME            **UNDEF**             240M    260M
         COUNT             I(3,0)                 71D    123M    125     127M
*RNF7031 CRT               CONST                  74D
*RNF7030 CTL01             **UNDEF**             112     151
         DSP               CONST                  78D     98     132     180
                                                 199     226     241     258
                                                 270     274
         DSPATR_RI         N(1)                   52D    181M    189M
         ERRCOUNTRY        N(1)                   54D    269M
         ERRNAME           N(1)                   55D    273M
         ERR01             N(1)                   63D    175M    183     185M
         EXISTCOUNTRY      N(1)                   22D    268
                           PROTOTYPE
         EXIT              N(1)                   42D    160     251
*RNF7030 FMT02             **UNDEF**             245
*RNF7030 FPROV             **UNDEF**             284
*RNF7031 GETCOUNTRYISO3    A(3)                   17D
                           PROTOTYPE
         GETCOUNTRYNAME    A(30)                  12D    240     260
                           PROTOTYPE
*RNF7031 HELP              N(1)                   41D
         INDDS             DS(80)                  4      40D
         INFO              DS(379)                 6      58D
         KEY               CONST                  79D    100     155     228
                                                 246
*RNF7030 KEY01             **UNDEF**             150
         LOD               CONST                  77D     96     114     167
         LRRN              I(5,0)                 59D    152     153
         MODE              A(3)                   72D    281
*RNF7031 MOREKEYS          N(1)                   46D
*RNF7030 OPT01             **UNDEF**             122M    179     179     179
                                                 179     200     203M    207
                                                 209M    211     213M
         PAGEDOWN          N(1)                   47D    166
         PANEL             I(3,0)                 65D     84      86     161M
                                                 165M    165     201M    252M
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page     11
                                                 256M    256     286M
         PNL00             BEGSR                  89     293D
         PNL01             BEGSR                  85      92D
         PNL02             BEGSR                  87     222D
*RNF7030 PRCOUN            **UNDEF**             240     259M    259     260
                                                 268
*RNF7030 PRID              **UNDEF**              35      38      69     142
                                                 208     212     239
*RNF7030 PRMOD             **UNDEF**             282M
*RNF7030 PRMODID           **UNDEF**             283M
         PROMPT            N(1)                   43D    257
*RNF7030 PROVNM            **UNDEF**             272
         PRP               CONST                  66      67      68      76D
                                                  94     162     164     202
                                                 224     253     255     280
         PRPORD            PROTOTYPE              37D    212M
*RNF7031 REFRESH           N(1)                   44D
*RNF7030 RRB01             **UNDEF**             121M    153M    184M
         RRN01             I(5,0)                 61D    110M    121     126M
                                                 138M    143     148     184
         RRS01             I(5,0)                 62D    116M    138     143M
*RNF7030 SAVID             **UNDEF**              69D    115M    137     142M
         SFLCLR            N(1)                   48D    111M    113M
         SFLDSP            N(1)                   49D    148M
         SFLDSPCTL         N(1)                   50D    147M
         SFLEND            N(1)                   56D    131M
         SFLMSG            N(1)                   53D    182M
         SFLNXTCHG         N(1)                   51D    176M    192M
*RNF7030 SFL01             **UNDEF**             128     177     188     190
                                                 196     204     210     214
         SLTCOUNTRY        A(2)                   27D    259
                           PROTOTYPE
         STEP01            A(3)                   66D     94      96      98
                                                 100     102     104     114M
                                                 132M    155M    162M    164M
                                                 167M    169M    174M    180M
                                                 199M
         STEP02            A(3)                   67D    202M    224     226
                                                 228     230     232     241M
                                                 246M    253M    255M    258M
                                                 262M    267M    270M    274M
                                                 280M
*RNF7031 STEP03            A(3)                   68D
         S01ACT            BEGSR                 105     195D
         S01CHK            BEGSR                 103     173D
         S01DSP            BEGSR                  99     146D
         S01KEY            BEGSR                 101     158D
         S01LOD            BEGSR                  97     119D
         S01PRP            BEGSR                  95     109D
         S01RST            BEGSR                 120     136D
         S01SAV            BEGSR                 133     141D
         S02ACT            BEGSR                 233     279D
         S02CHK            BEGSR                 231     266D
         S02DSP            BEGSR                 227     244D
         S02KEY            BEGSR                 229     249D
         S02PRP            BEGSR                 225     238D
         UPD               CONST                  75D    281
         USER              A(10)                  70D    283
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page     12
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
         LR                                      294M
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page     13
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         PRO202                                   37
         SLTCOUNTRY                               27
         EXISTCOUNTRY                             22
         CLOSECOUNTRY                             32
         GETCOUNTRYNAME                           12
         GETCOUNTRYISO3                           17
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page     14
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00      7 The name or indicator is not referenced.
*RNF7089 00      1 RPG provides Separate-Indicator area for file.
*RNF2565 20      1 Keyword INDDS is not allowed with this file.
*RNF5410 30      2 The prototype for the call is not defined.
*RNF7030 30     14 The name or indicator is not defined.
*RNF7503 30     39 Expression contains an operand that is not defined.
*RNF2120 40      2 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO200              BENOIT     07/11/22 16:42:42        Page     15
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        8
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        1
    Severe Error (30+)  . . . . . . :       57
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       66
  Source Totals:
    Records . . . . . . . . . . . . :      296
    Specifications  . . . . . . . . :      243
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       34
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/ART202) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/ART202-Function_Article.PGM.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('Function Article.PGM') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.43.329304000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module ART202 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   ART202
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :   Function Article.PGM
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/ART20
                                       2-Function_Article.PGM.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1                                                                                                                      000001
     2 h dftactgrp(*no) bnddir('SAMPLE')                                                                                    000002
======>  aaaaaaaaa
*RNF1324 20 a      000002  Keywords DFTACTGRP, ACTGRP, or USRPRF are not allowed.
     3                                                                                                                      000003
        *--------------------------------------------------------------------*
        * Compiler Options in Effect:                                        *
        *--------------------------------------------------------------------*
        *  Text 'description' . . . . . . . :                                *
        *                 Function Article.PGM                               *
        *  Generation severity level  . . . :   10                           *
        *  Compiler options . . . . . . . . :   *XREF      *GEN              *
        *                                       *NOSECLVL  *SHOWCPY          *
        *                                       *EXPDDS    *EXT              *
        *                                       *NOSHOWSKP *NOSRCSTMT        *
        *                                       *DEBUGIO   *UNREF            *
        *                                       *EVENTF                      *
        *  Optimization level . . . . . . . :   *NONE                        *
        *  Source listing indentation . . . :   *NONE                        *
        *  Type conversion options  . . . . :   *NONE                        *
        *  Sort sequence  . . . . . . . . . :   *HEX                         *
        *  Language identifier  . . . . . . :   *JOBRUN                      *
        *  Authority  . . . . . . . . . . . :   *LIBCRTAUT                   *
        *  Truncate numeric . . . . . . . . :   *YES                         *
        *  Fix numeric  . . . . . . . . . . :   *NONE                        *
        *  Allow null values  . . . . . . . :   *NO                          *
        *  Storage model . . .  . . . . . . :   *INHERIT                     *
        *  Binding directory from Command . :   *NONE                        *
        *  Binding directory from Source  . :   SAMPLE                       *
        *    Library  . . . . . . . . . . . :     *LIBL                      *
        *  Enable performance collection  . :   *PEP                         *
        *  Profiling data . . . . . . . . . :   *NOCOL                       *
        *  Generate program interface . . . :   *NO                          *
        *  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO                          *
        *--------------------------------------------------------------------*
     4 fartiprov  uf a e           k disk                                                                                   000004
======> aaaaaaaa
*RNF2120 40 a      000004  External descriptions for file ARTIPROV not found; file is
                           ignored.
     5 fart202d   cf   e             workstn                                                                                000005
     6 F                                     indds(indds)                                                                   000006
======>                                      aaaaa
*RNF2120 40      5 000005  External descriptions for file ART202D not found; file is
                           ignored.
*RNF2565 20 a      000006  Keyword INDDS is not allowed with this file.
     7 F                                     sfile(sfl01:rrn01)                                                             000007
     8 F                                     Infds(Info)                                                                    000008
     9                                                                                                                      000009
    10  /copy qprotosrc/provider                                                                                            000010
        *--------------------------------------------------------------------------------------------*
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
        * RPG member name  . . . . . :  provider.+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/provider.rpgleinc                                *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    11+ *=============================================                                                                     1000001
    12+ * Get PROVIDER NAME                                                                                                1000002
    13+ *=============================================                                                                     1000003
    14+DGetProName       PR            30A                                                                                 1000004
    15+D PRID                           5P 0  value                                                                        1000005
    16+ *=============================================                                                                     1000006
    17+ * Get CONTACT PERSON                                                                                               1000007
    18+ *=============================================                                                                     1000008
    19+DGetProCONT       PR            30A                                                                                 1000009
    20+D PRID                           5P 0  value                                                                        1000010
    21+ *=============================================                                                                     1000011
    22+ * Get PHONE NUMBER                                                                                                 1000012
    23+ *=============================================                                                                     1000013
    24+DGetProPHONE      PR            15A                                                                                 1000014
    25+D PRID                           5P 0  value                                                                        1000015
    26+ *=============================================                                                                     1000016
    27+ * Get VAT NUMBER                                                                                                   1000017
    28+ *=============================================                                                                     1000018
    29+DGetProVAT        PR            12A                                                                                 1000019
    30+D PRID                           5P 0  value                                                                        1000020
    31+ *=============================================                                                                     1000021
    32+ * Get ADDRESS MAIL                                                                                                 1000022
    33+ *=============================================                                                                     1000023
    34+DGetProMAIL       PR            50A                                                                                 1000024
    35+D PRID                           5P 0  value                                                                        1000025
    36+ *=============================================                                                                     1000026
    37+ * Get ADDRESS LINE                                                                                                 1000027
    38+ *=============================================                                                                     1000028
    39+DGetProAdr1       PR            50A                                                                                 1000029
    40+D PRID                           5P 0  value                                                                        1000030
    41+ *=============================================                                                                     1000031
    42+ * Get ADDRESS LINE                                                                                                 1000032
    43+ *=============================================                                                                     1000033
    44+DGetProAdr2       PR            50A                                                                                 1000034
    45+D PRID                           5P 0  value                                                                        1000035
    46+ *=============================================                                                                     1000036
    47+ * Get ADDRESS LINE                                                                                                 1000037
    48+ *=============================================                                                                     1000038
    49+DGetProAdr3       PR            50A                                                                                 1000039
    50+D PRID                           5P 0  value                                                                        1000040
    51+ *=============================================                                                                     1000041
    52+ * Get ZIP CODE                                                                                                     1000042
    53+ *=============================================                                                                     1000043
    54+DGetProZip        PR            10A                                                                                 1000044
    55+D PRID                           5P 0  value                                                                        1000045
    56+ *=============================================                                                                     1000046
    57+ * Get CITY                                                                                                         1000047
    58+ *=============================================                                                                     1000048
    59+DGetProCity       PR            30A                                                                                 1000049
    60+D PRID                           5P 0  value                                                                        1000050
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    61+ *=============================================                                                                     1000051
    62+ * Get COUNTRY CODE                                                                                                 1000052
    63+ *=============================================                                                                     1000053
    64+DGetProCountry    PR             2A                                                                                 1000054
    65+D PRID                           5P 0  value                                                                        1000055
    66+ *=============================================                                                                     1000056
    67+ * Get DELETE CODE X=DELETED                                                                                        1000057
    68+ *=============================================                                                                     1000058
    69+DIsProDeleted     PR              n                                                                                 1000059
    70+D PRID                           5P 0  value                                                                        1000060
    71+ *=============================================                                                                     1000061
    72+ * Check if provider exist                                                                                          1000062
    73+ *=============================================                                                                     1000063
    74+D ExistProvider   PR              n                                                                                 1000064
    75+D PRID                           5P 0  value                                                                        1000065
    76+ *=============================================                                                                     1000066
    77+ * Close PROVIDE1                                                                                                   1000067
    78+ *=============================================                                                                     1000068
    79+D ClosePROVIDE1   PR                                                                                                1000069
    80  /copy qprotosrc/article                                                                                             000011
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  article.r+                                                   *                     2
        * External name  . . . . . . :  ./qprotosrc/article.rpgleinc                                 *                     2
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     2
        *--------------------------------------------------------------------------------------------*
    81+ *=============================================                                                                     2000001
    82+ * Get ARTICLE DESCRPTION                                                                                           2000002
    83+ *=============================================                                                                     2000003
    84+DGetArtDesc       PR            50A                                                                                 2000004
    85+D ARID                           6A    value                                                                        2000005
    86+ *=============================================                                                                     2000006
    87+ * Get REF SALE PRICE                                                                                               2000007
    88+ *=============================================                                                                     2000008
    89+DGetArtRefSalPrice...                                                                                               2000009
    90+D                 pr             7P 2                                                                               2000010
    91+D ARID                           6A    value                                                                        2000011
    92+ *=============================================                                                                     2000012
    93+ * Get STOCK PRICE                                                                                                  2000013
    94+ *=============================================                                                                     2000014
    95+DGetArtStockPrice...                                                                                                2000015
    96+D                 PR             7P 2                                                                               2000016
    97+D ARID                           6A    value                                                                        2000017
    98+ *=============================================                                                                     2000018
    99+ * Get FAMILLY ID                                                                                                   2000019
   100+ *=============================================                                                                     2000020
   101+DGetArtFam        PR             3A                                                                                 2000021
   102+D ARID                           6A    value                                                                        2000022
   103+ *=============================================                                                                     2000023
   104+ * Get STOCK                                                                                                        2000024
   105+ *=============================================                                                                     2000025
   106+DGetArtStock      PR             5P 0                                                                               2000026
   107+D ARID                           6A    value                                                                        2000027
   108+ *=============================================                                                                     2000028
   109+ * Get MINIMUM STOCK                                                                                                2000029
   110+ *=============================================                                                                     2000030
   111+DGetArtMinStock   PR             5P 0                                                                               2000031
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   112+D ARID                           6A    value                                                                        2000032
   113+ *=============================================                                                                     2000033
   114+ * Get VAT code                                                                                                     2000034
   115+ *=============================================                                                                     2000035
   116+DGetArtVatCode    Pr             1A                                                                                 2000036
   117+D P_ARID                         6A    value                                                                        2000037
   118+ *=============================================                                                                     2000038
   119+ * Check if article exist                                                                                           2000039
   120+ *=============================================                                                                     2000040
   121+D ExistArt        PR              n                                                                                 2000041
   122+D ARID                           6A    value                                                                        2000042
   123+ *=============================================                                                                     2000043
   124+ * Get DELETE CODE X=DELETED                                                                                        2000044
   125+ *=============================================                                                                     2000045
   126+DIsArtDeleted     PR              n                                                                                 2000046
   127+D ARID                           6A    value                                                                        2000047
   128+ *=============================================                                                                     2000048
   129+ * Select an article                                                                                                2000049
   130+ *=============================================                                                                     2000050
   131+D SltArticle      PR             6                                                                                  2000051
   132+D ARID                           6A    value                                                                        2000052
   133+ *=============================================                                                                     2000053
   134+ * Get ARTICLE Info                                                                                                 2000054
   135+ *=============================================                                                                     2000055
   136+DGetArtInfo       PR          1520A                                                                                 2000056
   137+D ARID                           6A    value                                                                        2000057
   138+ *=============================================                                                                     2000058
   139+ * Close ARTICLE1                                                                                                   2000059
   140+ *=============================================                                                                     2000060
   141+D CloseARTICLE1   PR                                                                                                2000061
   142                                                                                                                      000012
   143 d art202          pr                                                                                                 000013
   144 d  prid                               like(apprid)                                                                   000014
   145                                                                                                                      000015
   146 d art202          pi                                                                                                 000016
   147 d  prid                               like(apprid)                                                                   000017
   148                                                                                                                      000018
   149 D indds           ds                                                                                                 000019
   150 D  help                   1      1n                                                                                  000020
   151 D  exit                   3      3n                                                                                  000021
   152 D  prompt                 4      4n                                                                                  000022
   153 D  refresh                5      5n                                                                                  000023
   154 D  cancel                12     12n                                                                                  000024
   155 D  morekeys              24     24n                                                                                  000025
   156 D  pagedown              25     25n                                                                                  000026
   157 D  sflclr                30     30n                                                                                  000027
   158 D  sfldsp                31     31n                                                                                  000028
   159 D  sfldspctl             32     32n                                                                                  000029
   160 D  sflnxtchg             33     33n                                                                                  000030
   161 D  dspatr_ri             34     34n                                                                                  000031
   162 D  sflmsg                35     35n                                                                                  000032
   163 D  errFamilly            40     40n                                                                                  000033
   164 D  errDesc               41     41n                                                                                  000034
   165 D  sflend                80     80n                                                                                  000035
   166                                                                                                                      000036
   167 D info            ds                                                                                                 000037
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   168 D  lrrn                 378    379i 0                                                                                000038
   169                                                                                                                      000039
   170 D rrn01           s              5i 0                                                                                000040
   171 D rrs01           s              5i 0                                                                                000041
   172 D err01           s               n                                                                                  000042
   173                                                                                                                      000043
   174 D panel           S              3i 0 INZ(1)                                                                         000044
   175 D step01          S              3    inz(prp)                                                                       000045
   176 D step02          S              3    inz(prp)                                                                       000046
   177 d savId           s                   like(prid)                                                                     000047
   178 d User            s             10    inz(*user)                                                                     000048
   179 d count           s              3i 0                                                                                000049
   180 d mode            s              3                                                                                   000050
   181                                                                                                                      000051
   182 d crt             c                   'CRT'                                                                          000052
   183 d upd             c                   'UPD'                                                                          000053
   184 d prp             c                   'prp'                                                                          000054
   185 d lod             c                   'lod'                                                                          000055
   186 d dsp             c                   'dsp'                                                                          000056
   187 d key             c                   'key'                                                                          000057
   188 d chk             c                   'chk'                                                                          000058
   189 d chkctl          c                   'chc'                                                                          000059
   190 d actctl          c                   'acc'                                                                          000060
   191 d act             c                   'act'                                                                          000061
   192  /free                                                                                                               000062
   193   select;                                                                                       B01                  000063
   194   when panel = 1;                                                                               X01                  000064
   195     exsr pnl01;                                                                                  01                  000065
   196   when panel = 2;                                                                               X01                  000066
   197     exsr pnl02;                                                                                  01                  000067
   198   other;                                                                                        X01                  000068
   199     exsr pnl00;                                                                                  01                  000069
   200   endsl;                                                                                        E01                  000070
   201   //- Subfiles  01 Subroutines --------------------------------------  ---                                           000071
   202   begsr pnl01;                                                                                                       000072
   203     select ;                                                                                    B01                  000073
   204     when step01 = prp ;                                                                         X01                  000074
   205       exsr s01prp;                                                                               01                  000075
   206     when step01 = lod ;                                                                         X01                  000076
   207       exsr s01lod;                                                                               01                  000077
   208     when step01 = dsp ;                                                                         X01                  000078
   209       exsr s01dsp;                                                                               01                  000079
   210     when step01 = key ;                                                                         X01                  000080
   211       exsr s01key;                                                                               01                  000081
   212     when step01 = chk ;                                                                         X01                  000082
   213       exsr s01chk;                                                                               01                  000083
   214     when step01 = act ;                                                                         X01                  000084
   215       exsr s01act ;                                                                              01                  000085
   216     endsl;                                                                                      E01                  000086
   217   endsr;                                                                                                             000087
   218   //--- Clear Subfile  ----------------------------------------------------                                          000088
   219   begsr s01prp;                                                                                                      000089
   220     RRn01 = 0;                                                                                                       000090
   221     sflclr = *on;                                                                                                    000091
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   222     write ctl01;                                                                                                     000092
   223     sflclr = *off;                                                                                                   000093
   224     provnm = GetProName(prid);                                                                                       000094
   225     step01 = lod;                                                                                                    000095
   226   endsr;                                                                                                             000096
   227   //--- Load Subfile  -----------------------------------------------------                                          000097
   228   begsr s01lod;                                                                                                      000098
   229     RRb01 = RRn01 + 1;                                                                                               000099
   230     opt01 = 0;                                                                                                       000100
   231     setll prid artiprov;                                                                                             000101
   232     reade(n) prid artiprov;                                                                                          000102
   233     dow not %eof(artiprov);                                                                     B01                  000103
   234       ardesc = GetArtDesc(aparid);                                                               01                  000104
   235       RRN01 += 1;                                                                                01                  000105
   236       write sfl01;                                                                               01                  000106
   237       reade(n) prid artiprov;                                                                    01                  000107
   238     enddo;                                                                                      E01                  000108
   239     sflend = *on ;                                                                                                   000109
   240     step01 = dsp;                                                                                                    000110
   241   endsr;                                                                                                             000111
   242   //--- Display Subfile  --------------------------------------------------                                          000112
   243   begsr s01dsp;                                                                                                      000113
   244     sfldspctl = *on;                                                                                                 000114
   245     sfldsp = RRn01 > 0;                                                                                              000115
   246                                                                                                                      000116
   247     write key01;                                                                                                     000117
   248     exfmt ctl01;                                                                                                     000118
   249     if LRRN <>0;                                                                                B01                  000119
   250       RRb01 = LRRN;                                                                              01                  000120
   251     endif;                                                                                      E01                  000121
   252     step01 = key;                                                                                                    000122
   253   endsr;                                                                                                             000123
   254   //--- Command Keys  -----------------------------------------------------                                          000124
   255   begsr s01key;                                                                                                      000125
   256     select;                                                                                     B01                  000126
   257     when exit;                                                                                  X01                  000127
   258       panel  = 0;                                                                                01                  000128
   259       step01 = prp;                                                                              01                  000129
   260     when cancel;                                                                                X01                  000130
   261       step01 = prp;                                                                              01                  000131
   262       panel  = panel  - 1;                                                                       01                  000132
   263     other;                                                                                      X01                  000133
   264       step01 = chk;                                                                              01                  000134
   265     endsl;                                                                                      E01                  000135
   266   endsr;                                                                                                             000136
   267   //--- Check Subfile  ----------------------------------------------------                                          000137
   268   begsr s01chk;                                                                                                      000138
   269     step01 = act;                                                                                                    000139
   270     err01 = *off;                                                                                                    000140
   271     sflnxtchg = *on;                                                                                                 000141
   272     readc(e) sfl01;                                                                                                  000142
   273     dow not %error and not %eof;                                                                B01                  000143
   274       if opt01 <> 0 and opt01 <> 2;                                                             B02                  000144
   275         step01 = dsp;                                                                            02                  000145
   276         dspatr_ri = *on;                                                                         02                  000146
   277         sflmsg = *on;                                                                            02                  000147
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      8
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   278         if not err01;                                                                           B03                  000148
   279           rrb01 = rrn01;                                                                         03                  000149
   280           err01 = *on;                                                                           03                  000150
   281         endif;                                                                                  E03                  000151
   282       endif;                                                                                    E02                  000152
   283       update sfl01;                                                                              01                  000153
   284       dspatr_ri = *off;                                                                          01                  000154
   285       readc(e) sfl01;                                                                            01                  000155
   286     enddo;                                                                                      E01                  000156
   287     sflnxtchg = *off;                                                                                                000157
   288   endsr;                                                                                                             000158
   289   //--- action Subfile  ---------------------------------------------------                                          000159
   290   begsr s01act;                                                                                                      000160
   291     readc(e) sfl01;                                                                                                  000161
   292     select;                                                                                     B01                  000162
   293     when %error or %eof;                                                                        X01                  000163
   294       step01 = dsp;                                                                              01                  000164
   295     when opt01 = 2;                                                                             X01                  000165
   296       panel = 2;                                                                                 01                  000166
   297       step02 = prp;                                                                              01                  000167
   298       opt01 = 0;                                                                                 01                  000168
   299       update sfl01;                                                                              01                  000169
   300     other;                                                                                      X01                  000170
   301                                                                                                                      000171
   302     endsl;                                                                                      E01                  000172
   303   endsr;                                                                                                             000173
   304                                                                                                                      000174
   305                                                                                                                      000175
   306   //--- Format 02 Subroutines ------------------------------------     ---                                           000176
   307   begsr pnl02;                                                                                                       000177
   308     select ;                                                                                    B01                  000178
   309     when step02 = prp ;                                                                         X01                  000179
   310       exsr s02prp;                                                                               01                  000180
   311     when step02 = dsp ;                                                                         X01                  000181
   312       exsr s02dsp;                                                                               01                  000182
   313     when step02 = key ;                                                                         X01                  000183
   314       exsr s02key;                                                                               01                  000184
   315     when step02 = chk ;                                                                         X01                  000185
   316       exsr s02chk;                                                                               01                  000186
   317     when step02 = act ;                                                                         X01                  000187
   318       exsr s02act ;                                                                              01                  000188
   319     endsl;                                                                                      E01                  000189
   320                                                                                                                      000190
   321   endsr;                                                                                                             000191
   322   //--- clear & Load ------------------------------------------------------                                          000192
   323   begsr S02prp;                                                                                                      000193
   324     chain (prid: aparid) artiprov;                                                                                   000194
   325     step02 = dsp;                                                                                                    000195
   326   endsr;                                                                                                             000196
   327   //--- Display  ----------------------------------------------------------                                          000197
   328   begsr S02dsp;                                                                                                      000198
   329     exfmt fmt02;                                                                                                     000199
   330     step02 = key;                                                                                                    000200
   331   endsr;                                                                                                             000201
   332   //--- command Keys  -----------------------------------------------------                                          000202
   333   begsr S02key;                                                                                                      000203
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page      9
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   334     select;                                                                                     B01                  000204
   335     when exit;                                                                                  X01                  000205
   336       panel  = 1;                                                                                01                  000206
   337       step02 = prp;                                                                              01                  000207
   338     when cancel;                                                                                X01                  000208
   339       step02 = prp;                                                                              01                  000209
   340       panel  = panel  - 1;                                                                       01                  000210
   341     other;                                                                                      X01                  000211
   342       step02 = chk;                                                                              01                  000212
   343     endsl;                                                                                      E01                  000213
   344   endsr;                                                                                                             000214
   345   //--- check -------------------------------------------------------------                                          000215
   346   begsr S02chk;                                                                                                      000216
   347     step02 = act;                                                                                                    000217
   348                                                                                                                      000218
   349   endsr;                                                                                                             000219
   350   //--- Action ------------------------------------------------------------                                          000220
   351   begsr S02act;                                                                                                      000221
   352     step02 = prp;                                                                                                    000222
   353     if mode = upd;                                                                              B01                  000223
   354       apmod = %timestamp();                                                                      01                  000224
   355       apmodid = user;                                                                            01                  000225
   356       update farpr;                                                                              01                  000226
   357     endif;                                                                                      E01                  000227
   358     panel = 1;                                                                                                       000228
   359   endsr;                                                                                                             000229
   360                                                                                                                      000230
   361   //--------INITIALIZATION ----------------------------------                                                        000231
   362   begsr *inzsr;                                                                                                      000232
   363   endsr;                                                                                                             000233
   364   //--------END SUBROUTINE ----------------------------------                                                        000234
   365   begsr pnl00;                                                                                                       000235
   366     *inlr = *on;                                                                                                     000236
   367   endsr;                                                                                                             000237
   368  /end-free                                                                                                           000238
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     10
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30    234 000104  The name or indicator APARID is not defined.
*RNF7030 30    354 000224  The name or indicator APMOD is not defined.
*RNF7030 30    355 000225  The name or indicator APMODID is not defined.
*RNF7030 30    144 000014  The name or indicator APPRID is not defined.
*RNF7030 30    234 000104  The name or indicator ARDESC is not defined.
*RNF7089 00      5 000005  RPG provides Separate-Indicator area for file ART202D.
*RNF7030 30    222 000092  The name or indicator CTL01 is not defined.
*RNF7030 30    356 000226  The name or indicator FARPR is not defined.
*RNF7030 30    329 000199  The name or indicator FMT02 is not defined.
*RNF7030 30    247 000117  The name or indicator KEY01 is not defined.
*RNF7030 30    230 000100  The name or indicator OPT01 is not defined.
*RNF7030 30    147 000017  The name or indicator PRID is not defined.
*RNF7030 30    224 000094  The name or indicator PROVNM is not defined.
*RNF7030 30    229 000099  The name or indicator RRB01 is not defined.
*RNF7030 30    177 000047  The name or indicator SAVID is not defined.
*RNF7030 30    236 000106  The name or indicator SFL01 is not defined.
*RNF7503 30    222 000092  Expression contains an operand that is not defined.
*RNF7503 30    224 000094  Expression contains an operand that is not defined.
*RNF7503 30    229 000099  Expression contains an operand that is not defined.
*RNF7503 30    230 000100  Expression contains an operand that is not defined.
*RNF7503 30    231 000101  Expression contains an operand that is not defined.
*RNF7503 30    232 000102  Expression contains an operand that is not defined.
*RNF7503 30    234 000104  Expression contains an operand that is not defined.
*RNF7503 30    236 000106  Expression contains an operand that is not defined.
*RNF7503 30    237 000107  Expression contains an operand that is not defined.
*RNF7503 30    247 000117  Expression contains an operand that is not defined.
*RNF7503 30    248 000118  Expression contains an operand that is not defined.
*RNF7503 30    250 000120  Expression contains an operand that is not defined.
*RNF7503 30    272 000142  Expression contains an operand that is not defined.
*RNF7503 30    274 000144  Expression contains an operand that is not defined.
*RNF7503 30    279 000149  Expression contains an operand that is not defined.
*RNF7503 30    283 000153  Expression contains an operand that is not defined.
*RNF7503 30    285 000155  Expression contains an operand that is not defined.
*RNF7503 30    291 000161  Expression contains an operand that is not defined.
*RNF7503 30    295 000165  Expression contains an operand that is not defined.
*RNF7503 30    298 000168  Expression contains an operand that is not defined.
*RNF7503 30    299 000169  Expression contains an operand that is not defined.
*RNF7503 30    324 000194  Expression contains an operand that is not defined.
*RNF7503 30    329 000199  Expression contains an operand that is not defined.
*RNF7503 30    354 000224  Expression contains an operand that is not defined.
*RNF7503 30    355 000225  Expression contains an operand that is not defined.
*RNF7503 30    356 000226  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
    10    1 provider.+ ./qprotosrc/provider.rpgleinc      819  07/11/22 15:00:59
    80    2 article.r+ ./qprotosrc/article.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     11
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     12
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         ARTIPROV          DISK                    4D    231     232     233
                                                 237     324
         ART202D           WORKSTN                 5D
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         *INLR             N(1)                  366M
         *INZSR            BEGSR                 362D
         ACT               CONST                 191D    214     269     317
                                                 347
*RNF7031 ACTCTL            CONST                 190D
*RNF7030 APARID            **UNDEF**             234     324
*RNF7030 APMOD             **UNDEF**             354M
*RNF7030 APMODID           **UNDEF**             355M
*RNF7030 APPRID            **UNDEF**             144     147
*RNF7030 ARDESC            **UNDEF**             234M
*RNF7031 ART202            PROTOTYPE             143D
         CANCEL            N(1)                  154D    260     338
         CHK               CONST                 188D    212     264     315
                                                 342
*RNF7031 CHKCTL            CONST                 189D
*RNF7031 CLOSEARTICLE1     PROTOTYPE             141D
*RNF7031 CLOSEPROVIDE1     PROTOTYPE              79D
*RNF7031 COUNT             I(3,0)                179D
*RNF7031 CRT               CONST                 182D
*RNF7030 CTL01             **UNDEF**             222     248
         DSP               CONST                 186D    208     240     275
                                                 294     311     325
         DSPATR_RI         N(1)                  161D    276M    284M
*RNF7031 ERRDESC           N(1)                  164D
*RNF7031 ERRFAMILLY        N(1)                  163D
         ERR01             N(1)                  172D    270M    278     280M
*RNF7031 EXISTART          N(1)                  121D
                           PROTOTYPE
*RNF7031 EXISTPROVIDER     N(1)                   74D
                           PROTOTYPE
         EXIT              N(1)                  151D    257     335
*RNF7030 FARPR             **UNDEF**             356
*RNF7030 FMT02             **UNDEF**             329
         GETARTDESC        A(50)                  84D    234
                           PROTOTYPE
*RNF7031 GETARTFAM         A(3)                  101D
                           PROTOTYPE
*RNF7031 GETARTINFO        A(1520)               136D
                           PROTOTYPE
*RNF7031 GETARTMINSTOCK    P(5,0)                111D
                           PROTOTYPE
*RNF7031 GETARTREFSALPRICE P(7,2)                 89D
                           PROTOTYPE
*RNF7031 GETARTSTOCK       P(5,0)                106D
                           PROTOTYPE
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     13
*RNF7031 GETARTSTOCKPRICE  P(7,2)                 95D
                           PROTOTYPE
*RNF7031 GETARTVATCODE     A(1)                  116D
                           PROTOTYPE
*RNF7031 GETPROADR1        A(50)                  39D
                           PROTOTYPE
*RNF7031 GETPROADR2        A(50)                  44D
                           PROTOTYPE
*RNF7031 GETPROADR3        A(50)                  49D
                           PROTOTYPE
*RNF7031 GETPROCITY        A(30)                  59D
                           PROTOTYPE
*RNF7031 GETPROCONT        A(30)                  19D
                           PROTOTYPE
*RNF7031 GETPROCOUNTRY     A(2)                   64D
                           PROTOTYPE
*RNF7031 GETPROMAIL        A(50)                  34D
                           PROTOTYPE
         GETPRONAME        A(30)                  14D    224
                           PROTOTYPE
*RNF7031 GETPROPHONE       A(15)                  24D
                           PROTOTYPE
*RNF7031 GETPROVAT         A(12)                  29D
                           PROTOTYPE
*RNF7031 GETPROZIP         A(10)                  54D
                           PROTOTYPE
*RNF7031 HELP              N(1)                  150D
         INDDS             DS(80)                  6     149D
         INFO              DS(379)                 8     167D
*RNF7031 ISARTDELETED      N(1)                  126D
                           PROTOTYPE
*RNF7031 ISPRODELETED      N(1)                   69D
                           PROTOTYPE
         KEY               CONST                 187D    210     252     313
                                                 330
*RNF7030 KEY01             **UNDEF**             247
         LOD               CONST                 185D    206     225
         LRRN              I(5,0)                168D    249     250
         MODE              A(3)                  180D    353
*RNF7031 MOREKEYS          N(1)                  155D
*RNF7030 OPT01             **UNDEF**             230M    274     274     295
                                                 298M
*RNF7031 PAGEDOWN          N(1)                  156D
         PANEL             I(3,0)                174D    194     196     258M
                                                 262M    262     296M    336M
                                                 340M    340     358M
         PNL00             BEGSR                 199     365D
         PNL01             BEGSR                 195     202D
         PNL02             BEGSR                 197     307D
*RNF7030 PRID              **UNDEF**             147D    177     224     231
                                                 232     237     324
*RNF7031 PROMPT            N(1)                  152D
*RNF7030 PROVNM            **UNDEF**             224M
         PRP               CONST                 175     176     184D    204
                                                 259     261     297     309
                                                 337     339     352
*RNF7031 REFRESH           N(1)                  153D
*RNF7030 RRB01             **UNDEF**             229M    250M    279M
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     14
         RRN01             I(5,0)                170D    220M    229     235M
                                                 245     279
*RNF7031 RRS01             I(5,0)                171D
*RNF7030 SAVID             **UNDEF**             177D
         SFLCLR            N(1)                  157D    221M    223M
         SFLDSP            N(1)                  158D    245M
         SFLDSPCTL         N(1)                  159D    244M
         SFLEND            N(1)                  165D    239M
         SFLMSG            N(1)                  162D    277M
         SFLNXTCHG         N(1)                  160D    271M    287M
*RNF7030 SFL01             **UNDEF**             236     272     283     285
                                                 291     299
*RNF7031 SLTARTICLE        A(6)                  131D
                           PROTOTYPE
         STEP01            A(3)                  175D    204     206     208
                                                 210     212     214     225M
                                                 240M    252M    259M    261M
                                                 264M    269M    275M    294M
         STEP02            A(3)                  176D    297M    309     311
                                                 313     315     317     325M
                                                 330M    337M    339M    342M
                                                 347M    352M
         S01ACT            BEGSR                 215     290D
         S01CHK            BEGSR                 213     268D
         S01DSP            BEGSR                 209     243D
         S01KEY            BEGSR                 211     255D
         S01LOD            BEGSR                 207     228D
         S01PRP            BEGSR                 205     219D
         S02ACT            BEGSR                 318     351D
         S02CHK            BEGSR                 316     346D
         S02DSP            BEGSR                 312     328D
         S02KEY            BEGSR                 314     333D
         S02PRP            BEGSR                 310     323D
         UPD               CONST                 183D    353
         USER              A(10)                 178D    355
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
         LR                                      366M
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     15
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         ART202                                  143
         EXISTART                                121
         GETPROVAT                                29
         GETPROZIP                                54
         GETARTFAM                               101
         GETPRONAME                               14
         GETPROCONT                               19
         GETPROMAIL                               34
         GETPROADR1                               39
         GETPROADR2                               44
         GETPROADR3                               49
         GETPROCITY                               59
         GETARTDESC                               84
         SLTARTICLE                              131
         GETARTINFO                              136
         GETPROPHONE                              24
         GETARTSTOCK                             106
         ISPRODELETED                             69
         ISARTDELETED                            126
         GETPROCOUNTRY                            64
         EXISTPROVIDER                            74
         CLOSEPROVIDE1                            79
         GETARTVATCODE                           116
         CLOSEARTICLE1                           141
         GETARTMINSTOCK                          111
         GETARTSTOCKPRICE                         95
         GETARTREFSALPRICE                        89
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     16
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00     37 The name or indicator is not referenced.
*RNF7089 00      1 RPG provides Separate-Indicator area for file.
*RNF1324 20      1 Keywords DFTACTGRP, ACTGRP, or USRPRF are not allowed.
*RNF2565 20      1 Keyword INDDS is not allowed with this file.
*RNF7030 30     15 The name or indicator is not defined.
*RNF7503 30     26 Expression contains an operand that is not defined.
*RNF2120 40      2 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART202              BENOIT     07/11/22 16:42:43        Page     17
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :       38
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        2
    Severe Error (30+)  . . . . . . :       43
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       83
  Source Totals:
    Records . . . . . . . . . . . . :      368
    Specifications  . . . . . . . . :      254
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       93
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/CUS300) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/CUS300.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.44.516851000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module CUS300 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   CUS300
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/CUS30
                                       0.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 FCUSTOME1  if   e           k disk    usropn                                                                         000003
     4                                                                                                                      000004
     5  /copy qprotosrc/customer                                                                                            000005
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  customer.+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/customer.rpgleinc                                *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
     6+ *=============================================                                                                     1000001
     7+ * Get CUSTOMER NAME                                                                                                1000002
     8+ *=============================================                                                                     1000003
*RNF2120 40      3 000003  External descriptions for file CUSTOME1 not found; file is
                           ignored.
     9+DGetCusName       PR            30                                                                                  1000004
    10+D CUID                           5  0  value                                                                        1000005
    11+ *=============================================                                                                     1000006
    12+ * Get PHONE NUMBER                                                                                                 1000007
    13+ *=============================================                                                                     1000008
    14+DGetCusPhone      PR            15                                                                                  1000009
    15+D CUID                           5  0  value                                                                        1000010
    16+ *=============================================                                                                     1000011
    17+ * Get VAT NUMBER                                                                                                   1000012
    18+ *=============================================                                                                     1000013
    19+DGetCusVat        PR            12                                                                                  1000014
    20+D CUID                           5  0  value                                                                        1000015
    21+ *=============================================                                                                     1000016
    22+ * Get ADDRESS MAIL                                                                                                 1000017
    23+ *=============================================                                                                     1000018
    24+DGetCusMail       PR            50                                                                                  1000019
    25+D CUID                           5  0  value                                                                        1000020
    26+ *=============================================                                                                     1000021
    27+ * Get ADDRESS LINE                                                                                                 1000022
    28+ *=============================================                                                                     1000023
    29+DGetCusAdrline1   PR            50                                                                                  1000024
    30+D CUID                           5  0  value                                                                        1000025
    31+ *=============================================                                                                     1000026
    32+ * Get ADDRESS LINE                                                                                                 1000027
    33+ *=============================================                                                                     1000028
    34+DGetCusAdrline2   PR            50                                                                                  1000029
    35+D CUID                           5  0  value                                                                        1000030
    36+ *=============================================                                                                     1000031
    37+ * Get ADDRESS LINE                                                                                                 1000032
    38+ *=============================================                                                                     1000033
    39+DGetCusAdrline3   PR            50                                                                                  1000034
    40+D CUID                           5  0  value                                                                        1000035
    41+ *=============================================                                                                     1000036
    42+ * Get ZIP CODE                                                                                                     1000037
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    43+ *=============================================                                                                     1000038
    44+DGetCusZip        PR            10                                                                                  1000039
    45+D CUID                           5  0  value                                                                        1000040
    46+ *=============================================                                                                     1000041
    47+ * Get CITY                                                                                                         1000042
    48+ *=============================================                                                                     1000043
    49+DGetCusCity       PR            30                                                                                  1000044
    50+D CUID                           5  0  value                                                                        1000045
    51+ *=============================================                                                                     1000046
    52+ * Get COUNTRY CODE                                                                                                 1000047
    53+ *=============================================                                                                     1000048
    54+DGetCusCountry    PR             2                                                                                  1000049
    55+D CUID                           5  0  value                                                                        1000050
    56+ *=============================================                                                                     1000051
    57+ * Get LIMIT CREDIT                                                                                                 1000052
    58+ *=============================================                                                                     1000053
    59+DGetCusLimCredit  PR             9  2                                                                               1000054
    60+D CUID                           5  0  value                                                                        1000055
    61+ *=============================================                                                                     1000056
    62+ * Get CREDIT                                                                                                       1000057
    63+ *=============================================                                                                     1000058
    64+DGetCusCredit     PR             9  2                                                                               1000059
    65+D CUID                           5  0  value                                                                        1000060
    66+ // Remove the comment (//) to test the addition of a function                                                      1000061
    67+ // PGetCusLastOrdDate...                                                                                           1000062
    68+ // D                 PR           8  0                                                                             1000063
    69+ // D CUID                           5  0  value                                                                    1000064
    70+ *=============================================                                                                     1000065
    71+ * Check if customer exist                                                                                          1000066
    72+ *=============================================                                                                     1000067
    73+D ExistCus        Pr              n                                                                                 1000068
    74+D P_CUID                         5  0  value                                                                        1000069
    75+ *=============================================                                                                     1000070
    76+ * Get DELETE CODE X=DELETED                                                                                        1000071
    77+ *=============================================                                                                     1000072
    78+DIsCusDeleted     PR              n                                                                                 1000073
    79+D CUID                           5P 0  value                                                                        1000074
    80+                                                                                                                    1000075
    81+D sltcustomer     PR             5p 0                                                                               1000076
    82+D CUID                           5P 0  value                                                                        1000077
    83+ *=============================================                                                                     1000078
    84+ * Close CUSTOME1                                                                                                   1000079
    85+ *=============================================                                                                     1000080
    86+D CloseCUSTOME1   PR                                                                                                1000081
    87                                                                                                                      000006
    88 d chainCUSTOME1   pr                                                                                                 000007
    89 D P_CUID                         5  0  value                                                                         000008
    90                                                                                                                      000009
    91 D K_CUID          S                   LIKE(CUID)                                                                     000010
    92                                                                                                                      000011
    93 C     kf            klist                                                                                            000012
    94 C                   KFLD                    K_CUID                                                                   000013
    95                                                                                                                      000014
    96  *=============================================                                                                      000015
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    97 PGetCusName       B                     export                                                                       000016
    98 DGetCusName       PI                   like(custnm)                                                                  000017
    99 D P_CUID                         5  0  value                                                                         000018
   100  /free                                                                                                               000019
   101     chainCUSTOME1(P_CUID                                                                                             000020
   102           );                                                                                                         000021
   103     return CUSTNM;                                                                                                   000022
   104  /end-free                                                                                                           000023
   105 pGetCusName       e                                                                                                  000024
   106  *=============================================                                                                      000025
   107 PGetCusPhone      B                     export                                                                       000026
   108 DGetCusPhone      PI                   like(cuphone)                                                                 000027
   109 D P_CUID                         5  0  value                                                                         000028
   110  /free                                                                                                               000029
   111     chainCUSTOME1(P_CUID                                                                                             000030
   112           );                                                                                                         000031
   113     return CUPHONE;                                                                                                  000032
   114  /end-free                                                                                                           000033
   115 pGetCusPhone      e                                                                                                  000034
   116  *=============================================                                                                      000035
   117 PGetCusVat        B                     export                                                                       000036
   118 DGetCusVat        PI                   like(cuvat)                                                                   000037
   119 D P_CUID                         5  0  value                                                                         000038
   120  /free                                                                                                               000039
   121     chainCUSTOME1(P_CUID                                                                                             000040
   122           );                                                                                                         000041
   123     return CUVAT;                                                                                                    000042
   124  /end-free                                                                                                           000043
   125 pGetCusVat        e                                                                                                  000044
   126  *=============================================                                                                      000045
   127 PGetCusMail       B                     export                                                                       000046
   128 DGetCusMail       PI                   like(cumail)                                                                  000047
   129 D P_CUID                         5  0  value                                                                         000048
   130  /free                                                                                                               000049
   131     chainCUSTOME1(P_CUID                                                                                             000050
   132           );                                                                                                         000051
   133     return CUMAIL;                                                                                                   000052
   134  /end-free                                                                                                           000053
   135 pGetCusMail       e                                                                                                  000054
   136  *=============================================                                                                      000055
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   137 PGetCusAdrline1   B                     export                                                                       000056
   138 DGetCusAdrline1   PI                   like(culine1)                                                                 000057
   139 D P_CUID                         5  0  value                                                                         000058
   140  /free                                                                                                               000059
   141     chainCUSTOME1(P_CUID                                                                                             000060
   142           );                                                                                                         000061
   143     return CULINE1;                                                                                                  000062
   144  /end-free                                                                                                           000063
   145 pGetCusAdrline1   e                                                                                                  000064
   146  *=============================================                                                                      000065
   147 PGetCusAdrline2   B                     export                                                                       000066
   148 DGetCusAdrline2   PI                   like(culine2)                                                                 000067
   149 D P_CUID                         5  0  value                                                                         000068
   150  /free                                                                                                               000069
   151     chainCUSTOME1(P_CUID                                                                                             000070
   152           );                                                                                                         000071
   153     return CULINE2;                                                                                                  000072
   154  /end-free                                                                                                           000073
   155 pGetCusAdrline2   e                                                                                                  000074
   156  *=============================================                                                                      000075
   157 PGetCusAdrline3   B                     export                                                                       000076
   158 DGetCusAdrline3   PI                   like(culine3)                                                                 000077
   159 D P_CUID                         5  0  value                                                                         000078
   160  /free                                                                                                               000079
   161     chainCUSTOME1(P_CUID                                                                                             000080
   162           );                                                                                                         000081
   163     return CULINE3;                                                                                                  000082
   164  /end-free                                                                                                           000083
   165 pGetCusAdrline3   e                                                                                                  000084
   166  *=============================================                                                                      000085
   167 PGetCusZip        B                     export                                                                       000086
   168 DGetCusZip        PI                   like(cuzip)                                                                   000087
   169 D P_CUID                         5  0  value                                                                         000088
   170  /free                                                                                                               000089
   171     chainCUSTOME1(P_CUID                                                                                             000090
   172           );                                                                                                         000091
   173     return CUZIP;                                                                                                    000092
   174  /end-free                                                                                                           000093
   175 pGetCusZip        e                                                                                                  000094
   176  *=============================================                                                                      000095
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   177 PGetCusCity       B                     export                                                                       000096
   178 DGetCusCity       PI                   like(cucity)                                                                  000097
   179 D P_CUID                         5  0  value                                                                         000098
   180  /free                                                                                                               000099
   181     chainCUSTOME1(P_CUID                                                                                             000100
   182           );                                                                                                         000101
   183     return CUCITY;                                                                                                   000102
   184  /end-free                                                                                                           000103
   185 pGetCusCity       e                                                                                                  000104
   186  *=============================================                                                                      000105
   187 PGetCusCountry    B                     export                                                                       000106
   188 DGetCusCountry    PI                   like(cucoun)                                                                  000107
   189 D P_CUID                         5  0  value                                                                         000108
   190  /free                                                                                                               000109
   191     chainCUSTOME1(P_CUID                                                                                             000110
   192           );                                                                                                         000111
   193     return CUCOUN;                                                                                                   000112
   194  /end-free                                                                                                           000113
   195 pGetCusCountry    e                                                                                                  000114
   196  *=============================================                                                                      000115
   197 PGetCusLimCredit  B                     export                                                                       000116
   198 DGetCusLimCredit  PI                   like(culimcre)                                                                000117
   199 D P_CUID                         5  0  value                                                                         000118
   200  /free                                                                                                               000119
   201     chainCUSTOME1(P_CUID                                                                                             000120
   202           );                                                                                                         000121
   203     return CULIMCRE;                                                                                                 000122
   204  /end-free                                                                                                           000123
   205 pGetCusLimCredit  e                                                                                                  000124
   206  *=============================================                                                                      000125
   207 PGetCusCredit     B                     export                                                                       000126
   208 DGetCusCredit     PI                   like(cucredit)                                                                000127
   209 D P_CUID                         5  0  value                                                                         000128
   210  /free                                                                                                               000129
   211     chainCUSTOME1(P_CUID                                                                                             000130
   212           );                                                                                                         000131
   213     return CUCREDIT;                                                                                                 000132
   214  /end-free                                                                                                           000133
   215 pGetCusCredit     e                                                                                                  000134
   216  *=============================================                                                                      000135
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   217  // Remove the comment (//) to test the addition of a function                                                       000136
   218  // PGetCusLastOrdDate...                                                                                            000137
   219  // P                 B                     export                                                                   000138
   220  // dGetCusLastOrdDate...                                                                                            000139
   221  // D                 PI                   like(culastord)                                                           000140
   222  // D P_CUID                         5  0  value                                                                     000141
   223  //  /free                                                                                                           000142
   224  //   chainCUSTOME1(P_CUID                                                                                           000143
   225  //         );                                                                                                       000144
   226  //   return CULastOrd;                                                                                              000145
   227  //  /end-free                                                                                                       000146
   228  // p                 e                                                                                              000147
   229  *=============================================                                                                      000148
   230 P ExistCus        B                     export                                                                       000149
   231 D ExistCus        PI              n                                                                                  000150
   232 D P_CUID                         5  0  value                                                                         000151
   233  /free                                                                                                               000152
   234     chainCUSTOME1(P_CUID                                                                                             000153
   235           );                                                                                                         000154
   236     return %found(custome1) and CUDEL <> 'X';                                                                        000155
   237  /end-free                                                                                                           000156
   238 p ExistCus        e                                                                                                  000157
   239                                                                                                                      000158
   240  *=============================================                                                                      000159
   241 PIsCusDeleted     B                     export                                                                       000160
   242 DIsCusDeleted     PI              n                                                                                  000161
   243 D P_CUID                         5  0  value                                                                         000162
   244  /free                                                                                                               000163
   245     chainCUSTOME1(P_CUID                                                                                             000164
   246           );                                                                                                         000165
   247     return CUDEL = 'X';                                                                                              000166
   248  /end-free                                                                                                           000167
   249 pIsCusDeleted     e                                                                                                  000168
   250                                                                                                                      000169
   251 p chainCUSTOME1   b                                                                                                  000170
   252 d chainCUSTOME1   pi                                                                                                 000171
   253 D P_CUID                         5  0  value                                                                         000172
   254  /free                                                                                                               000173
   255    if not %open(CUSTOME1);                                                                      B01                  000174
   256      open CUSTOME1;                                                                              01                  000175
   257    endif;                                                                                       E01                  000176
   258     if P_CUID <> CUID;                                                                          B01                  000177
   259       K_CUID =  P_CUID;                                                                          01                  000178
   260       clear *all FCUST;                                                                          01                  000179
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      8
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   261       chain kf CUSTOME1;                                                                         01                  000180
   262     endif;                                                                                      E01                  000181
   263  /end-free                                                                                                           000182
   264 p chainCUSTOME1   e                                                                                                  000183
   265                                                                                                                      000184
   266 p closeCUSTOME1   b                                                                                                  000185
   267 d closeCUSTOME1   pi                                                                                                 000186
   268  /free                                                                                                               000187
   269    if %open(CUSTOME1);                                                                          B01                  000188
   270      close CUSTOME1;                                                                             01                  000189
   271    endif;                                                                                       E01                  000190
   272  /end-free                                                                                                           000191
   273 p closeCUSTOME1   e                                                                                                  000192
   274                                                                                                                      000193
   275                                                                                                                      000194
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page      9
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30    178 000097  The name or indicator CUCITY is not defined.
*RNF7030 30    188 000107  The name or indicator CUCOUN is not defined.
*RNF7030 30    208 000127  The name or indicator CUCREDIT is not defined.
*RNF7030 30    236 000155  The name or indicator CUDEL is not defined.
*RNF7030 30     91 000010  The name or indicator CUID is not defined.
*RNF7030 30    198 000117  The name or indicator CULIMCRE is not defined.
*RNF7030 30    138 000057  The name or indicator CULINE1 is not defined.
*RNF7030 30    148 000067  The name or indicator CULINE2 is not defined.
*RNF7030 30    158 000077  The name or indicator CULINE3 is not defined.
*RNF7030 30    128 000047  The name or indicator CUMAIL is not defined.
*RNF7030 30    108 000027  The name or indicator CUPHONE is not defined.
*RNF7030 30     98 000017  The name or indicator CUSTNM is not defined.
*RNF7030 30    118 000037  The name or indicator CUVAT is not defined.
*RNF7030 30    168 000087  The name or indicator CUZIP is not defined.
*RNF7030 30    260 000179  The name or indicator FCUST is not defined.
*RNF7030 30     91 000010  The name or indicator K_CUID is not defined.
*RNF7503 30    103 000022  Expression contains an operand that is not defined.
*RNF7503 30    113 000032  Expression contains an operand that is not defined.
*RNF7503 30    123 000042  Expression contains an operand that is not defined.
*RNF7503 30    133 000052  Expression contains an operand that is not defined.
*RNF7503 30    143 000062  Expression contains an operand that is not defined.
*RNF7503 30    153 000072  Expression contains an operand that is not defined.
*RNF7503 30    163 000082  Expression contains an operand that is not defined.
*RNF7503 30    173 000092  Expression contains an operand that is not defined.
*RNF7503 30    183 000102  Expression contains an operand that is not defined.
*RNF7503 30    193 000112  Expression contains an operand that is not defined.
*RNF7503 30    203 000122  Expression contains an operand that is not defined.
*RNF7503 30    213 000132  Expression contains an operand that is not defined.
*RNF7503 30    236 000155  Expression contains an operand that is not defined.
*RNF7503 30    247 000166  Expression contains an operand that is not defined.
*RNF7503 30    258 000177  Expression contains an operand that is not defined.
*RNF7503 30    259 000178  Expression contains an operand that is not defined.
*RNF7503 30    260 000179  Expression contains an operand that is not defined.
*RNF7503 30    261 000180  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     5    1 customer.+ ./qprotosrc/customer.rpgleinc      819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page     10
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         CUSTOME1          DISK                    3D    236     255     256
                                                 261     269     270
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         CHAINCUSTOME1     PROTOTYPE              88D    101M    111M    121M
                                                 131M    141M    151M    161M
                                                 171M    181M    191M    201M
                                                 211M    234M    245M    251
                                                 252     264
         CLOSECUSTOME1     PROTOTYPE              86D    266     267     273
*RNF7030 CUCITY            **UNDEF**             178     183
*RNF7030 CUCOUN            **UNDEF**             188     193
*RNF7030 CUCREDIT          **UNDEF**             208     213
*RNF7030 CUDEL             **UNDEF**             236     247
*RNF7030 CUID              **UNDEF**              91     258
*RNF7030 CULIMCRE          **UNDEF**             198     203
*RNF7030 CULINE1           **UNDEF**             138     143
*RNF7030 CULINE2           **UNDEF**             148     153
*RNF7030 CULINE3           **UNDEF**             158     163
*RNF7030 CUMAIL            **UNDEF**             128     133
*RNF7030 CUPHONE           **UNDEF**             108     113
*RNF7030 CUSTNM            **UNDEF**              98     103
*RNF7030 CUVAT             **UNDEF**             118     123
*RNF7030 CUZIP             **UNDEF**             168     173
         EXISTCUS          N(1)                   73D    230     231     238
                           PROTOTYPE
*RNF7030 FCUST             **UNDEF**             260M
         GETCUSADRLINE1    A(50)                  29D    137     138     145
                           PROTOTYPE
         GETCUSADRLINE2    A(50)                  34D    147     148     155
                           PROTOTYPE
         GETCUSADRLINE3    A(50)                  39D    157     158     165
                           PROTOTYPE
         GETCUSCITY        A(30)                  49D    177     178     185
                           PROTOTYPE
         GETCUSCOUNTRY     A(2)                   54D    187     188     195
                           PROTOTYPE
         GETCUSCREDIT      P(9,2)                 64D    207     208     215
                           PROTOTYPE
         GETCUSLIMCREDIT   P(9,2)                 59D    197     198     205
                           PROTOTYPE
         GETCUSMAIL        A(50)                  24D    127     128     135
                           PROTOTYPE
         GETCUSNAME        A(30)                   9D     97      98     105
                           PROTOTYPE
         GETCUSPHONE       A(15)                  14D    107     108     115
                           PROTOTYPE
         GETCUSVAT         A(12)                  19D    117     118     125
                           PROTOTYPE
         GETCUSZIP         A(10)                  44D    167     168     175
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page     11
                           PROTOTYPE
         ISCUSDELETED      N(1)                   78D    241     242     249
                           PROTOTYPE
*RNF7030 K_CUID            **UNDEF**              91D     94     259M
         KF                KLIST                  93D    261
*RNF7031 SLTCUSTOMER       P(5,0)                 81D
                           PROTOTYPE
      Field References for subprocedure GETCUSNAME
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                 99D    101
      Field References for subprocedure GETCUSPHONE
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                109D    111
      Field References for subprocedure GETCUSVAT
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                119D    121
      Field References for subprocedure GETCUSMAIL
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                129D    131
      Field References for subprocedure GETCUSADRLINE1
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                139D    141
      Field References for subprocedure GETCUSADRLINE2
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                149D    151
      Field References for subprocedure GETCUSADRLINE3
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                159D    161
      Field References for subprocedure GETCUSZIP
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                169D    171
      Field References for subprocedure GETCUSCITY
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                179D    181
      Field References for subprocedure GETCUSCOUNTRY
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                189D    191
      Field References for subprocedure GETCUSLIMCREDIT
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                199D    201
      Field References for subprocedure GETCUSCREDIT
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                209D    211
      Field References for subprocedure EXISTCUS
         Field             Attributes         References (D=Defined M=Modified)
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page     12
         P_CUID            P(5,0)                232D    234
      Field References for subprocedure ISCUSDELETED
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                243D    245
      Field References for subprocedure CHAINCUSTOME1
         Field             Attributes         References (D=Defined M=Modified)
         P_CUID            P(5,0)                253D    258     259
      Field References for subprocedure CLOSECUSTOME1
         Field             Attributes         References (D=Defined M=Modified)
         No references in the source.
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page     13
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         SLTCUSTOMER                              81
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page     14
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00      1 The name or indicator is not referenced.
*RNF7030 30     16 The name or indicator is not defined.
*RNF7503 30     18 Expression contains an operand that is not defined.
*RNF2120 40      1 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS300              BENOIT     07/11/22 16:42:44        Page     15
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        1
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :       35
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       36
  Source Totals:
    Records . . . . . . . . . . . . :      275
    Specifications  . . . . . . . . :      122
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       76
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtsqlrpgi obj(TEST/PRO202) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/PRO202.SQLRPGLE') COMMIT(*NONE) OBJTYPE(*MODULE) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTRLS() DBGVIEW(*SOURCE) RPGPPOPT(*LVL2) COMPILEOPT('TGTCCSID(297)')
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.45.809411000

CPD000D: Command QSYS/CRTSQLRPGI not safe for a multithreaded job.
SQL9019: SQL precompile failed.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   PRO202
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/PRO20
                                       2.SQLRPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R3M0
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NORMVCOMMENT *EXPINCLUDE   *NOSEQSRC
  Output source file . . . . . . . :   QSQLPRE
    Library  . . . . . . . . . . . :     QTEMP
  Output source member . . . . . . :   PRO202
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1                                                                                                                      000001
     2 fprovide1  if   e           k disk                                                                                   000002
     3 fpro202d   cf   e             workstn                                                                                000003
     4 F                                     indds(indds)                                                                   000004
     5 F                                     sfile(sfl01:rrn01)                                                             000005
     6 F                                     Infds(Info)                                                                    000006
     7                                                                                                                      000007
     8  /copy qprotosrc/xml                                                                                                 000008
======>       aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
*RNF0273 40 a      000008  Compiler not able to open the /COPY or /INCLUDE file;
                           directive ignored.
     9  /copy qprotosrc/parameter                                                                                           000009
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  parameter+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/parameter.rpgleinc                               *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    10+ *=============================================                                                                     1000001
    11+ * Get Parameter 1                                                                                                  1000002
    12+ *=============================================                                                                     1000003
    13+DGetPARM1         PR            10A                                                                                 1000004
    14+D PACODE                        10A    value                                                                        1000005
    15+D PASUBCODE                     10A    value                                                                        1000006
    16+ *=============================================                                                                     1000007
    17+ * Get Parameter 2                                                                                                  1000008
    18+ *=============================================                                                                     1000009
    19+DGetPARM2         PR           100A                                                                                 1000010
    20+D PACODE                        10A    value                                                                        1000011
    21+D PASUBCODE                     10A    value                                                                        1000012
    22+ *=============================================                                                                     1000013
    23+ * Get Parameter 3                                                                                                  1000014
    24+ *=============================================                                                                     1000015
    25+DGetPARM3         PR             2A                                                                                 1000016
    26+D PACODE                        10A    value                                                                        1000017
    27+D PASUBCODE                     10A    value                                                                        1000018
    28+ *=============================================                                                                     1000019
    29+ * Get Parameter 4                                                                                                  1000020
    30+ *=============================================                                                                     1000021
    31+DGetPARM4         PR             1P 0                                                                               1000022
    32+D PACODE                        10A    value                                                                        1000023
    33+D PASUBCODE                     10A    value                                                                        1000024
    34+ *=============================================                                                                     1000025
    35+ * Get Parameter 5                                                                                                  1000026
    36+ *=============================================                                                                     1000027
    37+DGetPARM5         PR             3P 0                                                                               1000028
    38+D PACODE                        10A    value                                                                        1000029
    39+D PASUBCODE                     10A    value                                                                        1000030
    40+ *=============================================                                                                     1000031
    41+ * Close PARAMETER                                                                                                  1000032
    42+ *=============================================                                                                     1000033
    43+D ClosePARAMETER  PR                                                                                                1000034
    44                                                                                                                      000010
    45 d pro202          pr                                                                                                 000011
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    46 d  id                                 like(prid)                                                                     000012
    47 d pro202          pi                                                                                                 000013
    48 d  id                                 like(prid)                                                                     000014
    49                                                                                                                      000015
    50 D indds           ds                                                                                                 000016
    51 D  help                   1      1n                                                                                  000017
    52 D  exit                   3      3n                                                                                  000018
    53 D  prompt                 4      4n                                                                                  000019
    54 D  refresh                5      5n                                                                                  000020
    55 D  confirm                8      8n                                                                                  000021
    56 D  cancel                12     12n                                                                                  000022
    57 D  morekeys              24     24n                                                                                  000023
    58 D  pagedown              25     25n                                                                                  000024
    59 D  sflclr                30     30n                                                                                  000025
    60 D  sfldsp                31     31n                                                                                  000026
    61 D  sfldspctl             32     32n                                                                                  000027
    62 D  sflnxtchg             33     33n                                                                                  000028
    63 D  dspatr_ri             34     34n                                                                                  000029
    64 D  sflmsg                35     35n                                                                                  000030
    65 D  sflend                80     80n                                                                                  000031
    66                                                                                                                      000032
    67 D info            ds                                                                                                 000033
    68 D  lrrn                 378    379i 0                                                                                000034
    69                                                                                                                      000035
    70 D rrn01           s              5i 0                                                                                000036
    71 D rrs01           s              5i 0                                                                                000037
    72 D err01           s               n                                                                                  000038
    73                                                                                                                      000039
    74 D panel           S              3i 0 INZ(1)                                                                         000040
    75 D step01          S              3    inz(prp)                                                                       000041
    76 d User            s             10    inz(*user)                                                                     000042
    77 d mode            s              3                                                                                   000043
    78                                                                                                                      000044
    79 d prp             c                   'prp'                                                                          000045
    80 d lod             c                   'lod'                                                                          000046
    81 d dsp             c                   'dsp'                                                                          000047
    82 d key             c                   'key'                                                                          000048
    83 d chk             c                   'chk'                                                                          000049
    84 d act             c                   'act'                                                                          000050
    85                                                                                                                      000051
    86  /free                                                                                                               000052
    87   select;                                                                                                            000053
    88   when panel = 1;                                                                                                    000054
    89     exsr pnl01;                                                                                                      000055
    90   other;                                                                                                             000056
    91     exsr pnl00;                                                                                                      000057
    92   endsl;                                                                                                             000058
    93   //- Subfiles  01 Subroutines --------------------------------------  ---                                           000059
    94   begsr pnl01;                                                                                                       000060
    95     select ;                                                                                                         000061
    96     when step01 = prp ;                                                                                              000062
    97       exsr s01prp;                                                                                                   000063
    98     when step01 = lod ;                                                                                              000064
    99       exsr s01lod;                                                                                                   000065
   100     when step01 = dsp ;                                                                                              000066
   101       exsr s01dsp;                                                                                                   000067
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   102     when step01 = key ;                                                                                              000068
   103       exsr s01key;                                                                                                   000069
   104     when step01 = chk ;                                                                                              000070
   105       exsr s01chk;                                                                                                   000071
   106     when step01 = act ;                                                                                              000072
   107       exsr s01act ;                                                                                                  000073
   108     endsl;                                                                                                           000074
   109   endsr;                                                                                                             000075
   110   //--- Clear Subfile  ----------------------------------------------------                                          000076
   111   begsr s01prp;                                                                                                      000077
   112     RRn01 = 0;                                                                                                       000078
   113     sflclr = *on;                                                                                                    000079
   114     write ctl01;                                                                                                     000080
   115     sflclr = *off;                                                                                                   000081
   116     exec sql declare c2 cursor for                                                                                   000082
   117       SELECT ARID, ARDESC, arstock, ARMINQTY,                                                                        000083
   118              ARCUSQTY, ARPURQTY, APPRICE, apref                                                                      000084
   119       FROM article, artiprov                                                                                         000085
   120       WHERE arstock < ARMINQTY - arcusqty + arpurqty                                                                 000086
   121         and arid = aparid                                                                                            000087
   122         AND apprid = :id                                                                                             000088
   123       order by arid ;                                                                                                000089
   124     exec sql open c2;                                                                                                000090
   125     step01 = lod;                                                                                                    000091
   126     rrs01 = 0;                                                                                                       000092
   127   endsr;                                                                                                             000093
   128   //--- Load Subfile  -----------------------------------------------------                                          000094
   129   begsr s01lod;                                                                                                      000095
   130     rrn01 = rrs01;                                                                                                   000096
   131     RRb01 = RRn01 + 1;                                                                                               000097
   132     exec sql fetch c2 into :arid, :ardesc, :arstock, :arminqty,                                                      000098
   133                            :ARCUSQTY, :ARPURQTY, :APPRICE, :APREF;                                                   000099
   134     dow sqlcod = 0;                                                                                                  000100
   135       neword = ARMINQTY + ARCUSQTY - arpurqty - arstock;                                                             000101
   136       name25 = ardesc;                                                                                               000102
   137       RRN01 += 1;                                                                                                    000103
   138       write sfl01;                                                                                                   000104
   139       exec sql fetch c2 into :arid, :ardesc, :arstock, :arminqty,                                                    000105
   140                            :ARCUSQTY, :ARPURQTY, :APPRICE, :APREF;                                                   000106
   141     enddo;                                                                                                           000107
   142     sflend = *on;                                                                                                    000108
   143     step01 = dsp;                                                                                                    000109
   144     rrs01 = rrn01;                                                                                                   000110
   145   endsr;                                                                                                             000111
   146   //--- Display Subfile  --------------------------------------------------                                          000112
   147   begsr s01dsp;                                                                                                      000113
   148     sfldspctl = *on;                                                                                                 000114
   149     sfldsp = RRn01 > 0;                                                                                              000115
   150                                                                                                                      000116
   151     write key01;                                                                                                     000117
   152     exfmt ctl01;                                                                                                     000118
   153     if LRRN <>0;                                                                                                     000119
   154       RRb01 = LRRN;                                                                                                  000120
   155     endif;                                                                                                           000121
   156     step01 = key;                                                                                                    000122
   157   endsr;                                                                                                             000123
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   158   //--- Command Keys  -----------------------------------------------------                                          000124
   159   begsr s01key;                                                                                                      000125
   160     select;                                                                                                          000126
   161     when exit;                                                                                                       000127
   162       panel  = 0;                                                                                                    000128
   163       step01 = prp;                                                                                                  000129
   164     when cancel;                                                                                                     000130
   165       step01 = prp;                                                                                                  000131
   166       panel  = panel  - 1;                                                                                           000132
   167     when pagedown;                                                                                                   000133
   168       step01 = lod;                                                                                                  000134
   169     other;                                                                                                           000135
   170       step01 = chk;                                                                                                  000136
   171     endsl;                                                                                                           000137
   172   endsr;                                                                                                             000138
   173   //--- Check Subfile  ----------------------------------------------------                                          000139
   174   begsr s01chk;                                                                                                      000140
   175     step01 = act;                                                                                                    000141
   176   endsr;                                                                                                             000142
   177   //--- action Subfile  ---------------------------------------------------                                          000143
   178   begsr s01act;                                                                                                      000144
   179     if confirm;                                                                                                      000145
   180       fileName = 'Pur_Ord_' + %trim(%char(prid)) + '_' +                                                             000146
   181                  %char(%dec(%date:*YMD)) + '.xml';                                                                   000147
   182       path = getParm2('PATH':' ');                                                                                   000148
   183       xmlopen(%trim(path) + fileName);                                                                               000149
   184       xmlStrTable('PURODR');                                                                                         000150
   185       XmlStrRec('Customer');                                                                                         000151
   186       xmladdcol('NAME':'SAMPLE Company');                                                                            000152
   187       xmladdcol('ADDRES':'55, rue Adrastee');                                                                        000153
   188       xmladdcol('ZIPCODE':'F-74650');                                                                                000154
   189       xmladdcol('CITY':'Chavanod');                                                                                  000155
   190       xmlendrec('Customer');                                                                                         000156
   191       rrn01 = 1;                                                                                                     000157
   192       chain rrn01 sfl01;                                                                                             000158
   193       dow %found();                                                                                                  000159
   194         xmlstrRec('Item');                                                                                           000160
   195         xmladdcol('ID':arid);                                                                                        000161
   196         xmladdcol('YOUR_REF':apref);                                                                                 000162
   197         xmladdcol('DESC':ardesc);                                                                                    000163
   198         xmladdcol('QTY':%char(neword));                                                                              000164
   199         xmladdcol('UnitPrice':%editc(apprice:'2'));                                                                  000165
   200         XmlEndRec('Item');                                                                                           000166
   201         rrn01 += 1;                                                                                                  000167
   202         chain rrn01 sfl01;                                                                                           000168
   203       ENDDO;                                                                                                         000169
   204       xmlEndTable('PURODR');                                                                                         000170
   205       xmlclose();                                                                                                    000171
   206       exfmt fmt03;                                                                                                   000172
   207       panel = 0;                                                                                                     000173
   208     else;                                                                                                            000174
   209       step01 = dsp;                                                                                                  000175
   210     endif;                                                                                                           000176
   211                                                                                                                      000177
   212   endsr;                                                                                                             000178
   213                                                                                                                      000179
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   214   //--------INITIALIZATION ----------------------------------                                                        000180
   215   begsr *inzsr;                                                                                                      000181
   216     chain prid provide1;                                                                                             000182
   217   endsr;                                                                                                             000183
   218   //--------END SUBROUTINE ----------------------------------                                                        000184
   219   begsr pnl00;                                                                                                       000185
   220     exec sql close c2;                                                                                               000186
   221     *inlr = *on;                                                                                                     000187
   222   endsr;                                                                                                             000188
   223  /end-free                                                                                                           000189
       * * * * *   E N D   O F   S O U R C E   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     9    1 parameter+ ./qprotosrc/parameter.rpgleinc     819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      7
Line   <---------------------- Data Records -------------------------------------------------------------->      Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Id  Number
                       C o m p i l e   T i m e   D a t a
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      8
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF0273 40      1 Compiler not able to open the /COPY or /INCLUDE file;
                   directive ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO202              BENOIT     07/11/22 16:42:45        Page      9
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        1
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        1
  Source Totals:
    Records . . . . . . . . . . . . :      223
    Specifications  . . . . . . . . :      180
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       27
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/ART300) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/ART300-Function_Article.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('Function Article') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.47.030984000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module ART300 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   ART300
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :   Function Article
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/ART30
                                       0-Function_Article.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 FARTICLE1  if   e           k disk    usropn                                                                         000003
     4                                                                                                                      000004
     5  /copy qprotosrc/article                                                                                             000005
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  article.r+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/article.rpgleinc                                 *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
     6+ *=============================================                                                                     1000001
     7+ * Get ARTICLE DESCRPTION                                                                                           1000002
     8+ *=============================================                                                                     1000003
*RNF2120 40      3 000003  External descriptions for file ARTICLE1 not found; file is
                           ignored.
     9+DGetArtDesc       PR            50A                                                                                 1000004
    10+D ARID                           6A    value                                                                        1000005
    11+ *=============================================                                                                     1000006
    12+ * Get REF SALE PRICE                                                                                               1000007
    13+ *=============================================                                                                     1000008
    14+DGetArtRefSalPrice...                                                                                               1000009
    15+D                 pr             7P 2                                                                               1000010
    16+D ARID                           6A    value                                                                        1000011
    17+ *=============================================                                                                     1000012
    18+ * Get STOCK PRICE                                                                                                  1000013
    19+ *=============================================                                                                     1000014
    20+DGetArtStockPrice...                                                                                                1000015
    21+D                 PR             7P 2                                                                               1000016
    22+D ARID                           6A    value                                                                        1000017
    23+ *=============================================                                                                     1000018
    24+ * Get FAMILLY ID                                                                                                   1000019
    25+ *=============================================                                                                     1000020
    26+DGetArtFam        PR             3A                                                                                 1000021
    27+D ARID                           6A    value                                                                        1000022
    28+ *=============================================                                                                     1000023
    29+ * Get STOCK                                                                                                        1000024
    30+ *=============================================                                                                     1000025
    31+DGetArtStock      PR             5P 0                                                                               1000026
    32+D ARID                           6A    value                                                                        1000027
    33+ *=============================================                                                                     1000028
    34+ * Get MINIMUM STOCK                                                                                                1000029
    35+ *=============================================                                                                     1000030
    36+DGetArtMinStock   PR             5P 0                                                                               1000031
    37+D ARID                           6A    value                                                                        1000032
    38+ *=============================================                                                                     1000033
    39+ * Get VAT code                                                                                                     1000034
    40+ *=============================================                                                                     1000035
    41+DGetArtVatCode    Pr             1A                                                                                 1000036
    42+D P_ARID                         6A    value                                                                        1000037
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    43+ *=============================================                                                                     1000038
    44+ * Check if article exist                                                                                           1000039
    45+ *=============================================                                                                     1000040
    46+D ExistArt        PR              n                                                                                 1000041
    47+D ARID                           6A    value                                                                        1000042
    48+ *=============================================                                                                     1000043
    49+ * Get DELETE CODE X=DELETED                                                                                        1000044
    50+ *=============================================                                                                     1000045
    51+DIsArtDeleted     PR              n                                                                                 1000046
    52+D ARID                           6A    value                                                                        1000047
    53+ *=============================================                                                                     1000048
    54+ * Select an article                                                                                                1000049
    55+ *=============================================                                                                     1000050
    56+D SltArticle      PR             6                                                                                  1000051
    57+D ARID                           6A    value                                                                        1000052
    58+ *=============================================                                                                     1000053
    59+ * Get ARTICLE Info                                                                                                 1000054
    60+ *=============================================                                                                     1000055
    61+DGetArtInfo       PR          1520A                                                                                 1000056
    62+D ARID                           6A    value                                                                        1000057
    63+ *=============================================                                                                     1000058
    64+ * Close ARTICLE1                                                                                                   1000059
    65+ *=============================================                                                                     1000060
    66+D CloseARTICLE1   PR                                                                                                1000061
    67                                                                                                                      000006
    68 d chainARTICLE1   pr                                                                                                 000007
    69 D P_ARID                         6A    value                                                                         000008
    70                                                                                                                      000009
    71 D K_ARID          S                   LIKE(ARID)                                                                     000010
    72                                                                                                                      000011
    73 C     kf            klist                                                                                            000012
    74 C                   KFLD                    K_ARID                                                                   000013
    75                                                                                                                      000014
    76  *=============================================                                                                      000015
    77 PGetArtDesc       B                     export                                                                       000016
    78 DGetArtDesc       PI                   like(ardesc)                                                                  000017
    79 D P_ARID                         6A    value                                                                         000018
    80  /free                                                                                                               000019
    81     chainARTICLE1(P_ARID                                                                                             000020
    82           );                                                                                                         000021
    83     return ARDESC;                                                                                                   000022
    84  /end-free                                                                                                           000023
    85 pGetArtDesc       e                                                                                                  000024
    86  *=============================================                                                                      000025
    87 PGetArtRefSalPrice...                                                                                                000026
    88 P                 B                     export                                                                       000027
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    89 DGetArtRefSalPrice...                                                                                                000028
    90 D                 PI                   like(arsalepr)                                                                000029
    91 D P_ARID                         6A    value                                                                         000030
    92  /free                                                                                                               000031
    93     chainARTICLE1(P_ARID                                                                                             000032
    94           );                                                                                                         000033
    95     return ARSALEPR;                                                                                                 000034
    96  /end-free                                                                                                           000035
    97 p                 e                                                                                                  000036
    98  *=============================================                                                                      000037
    99 PGetArtStockPrice...                                                                                                 000038
   100 P                 B                     export                                                                       000039
   101 DGetArtStockPrice...                                                                                                 000040
   102 D                 PI                   like(arwhspr)                                                                 000041
   103 D P_ARID                         6A    value                                                                         000042
   104  /free                                                                                                               000043
   105     chainARTICLE1(P_ARID                                                                                             000044
   106           );                                                                                                         000045
   107     return ARWHSPR;                                                                                                  000046
   108  /end-free                                                                                                           000047
   109 p                 e                                                                                                  000048
   110  *=============================================                                                                      000049
   111 PGetArtFam        B                     export                                                                       000050
   112 DGetArtFam        PI                   like(artifa)                                                                  000051
   113 D P_ARID                         6A    value                                                                         000052
   114  /free                                                                                                               000053
   115     chainARTICLE1(P_ARID                                                                                             000054
   116           );                                                                                                         000055
   117     return ARTIFA;                                                                                                   000056
   118  /end-free                                                                                                           000057
   119 pGetArtFam        e                                                                                                  000058
   120  *=============================================                                                                      000059
   121 PGetArtStock      B                     export                                                                       000060
   122 DGetArtStock      PI                   like(arstock)                                                                 000061
   123 D P_ARID                         6A    value                                                                         000062
   124  /free                                                                                                               000063
   125     chainARTICLE1(P_ARID                                                                                             000064
   126           );                                                                                                         000065
   127     return ARSTOCK;                                                                                                  000066
   128  /end-free                                                                                                           000067
   129 pGetArtStock      e                                                                                                  000068
   130  *=============================================                                                                      000069
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   131 PGetArtMinStock   B                     export                                                                       000070
   132 DGetArtMinStock   PI                   like(arminqty)                                                                000071
   133 D P_ARID                         6A    value                                                                         000072
   134  /free                                                                                                               000073
   135     chainARTICLE1(P_ARID                                                                                             000074
   136           );                                                                                                         000075
   137     return ARMINQTY;                                                                                                 000076
   138  /end-free                                                                                                           000077
   139 pGetArtMinStock   e                                                                                                  000078
   140  *=============================================                                                                      000079
   141 PGetArtVatCode    B                     export                                                                       000080
   142 DGetArtVatCode    PI                   like(arvatcd)                                                                 000081
   143 D P_ARID                         6A    value                                                                         000082
   144  /free                                                                                                               000083
   145     chainARTICLE1(P_ARID                                                                                             000084
   146           );                                                                                                         000085
   147     return ARvatcd ;                                                                                                 000086
   148  /end-free                                                                                                           000087
   149 pGetArtVatCode    e                                                                                                  000088
   150  *=============================================                                                                      000089
   151 P ExistArt        B                     export                                                                       000090
   152 D ExistArt        PI              n                                                                                  000091
   153 D P_ARID                         6A    value                                                                         000092
   154  /free                                                                                                               000093
   155     chainARTICLE1(P_ARID                                                                                             000094
   156           );                                                                                                         000095
   157     return %found(article1) and ardel <> 'X';                                                                        000096
   158  /end-free                                                                                                           000097
   159 p ExistArt        e                                                                                                  000098
   160                                                                                                                      000099
   161  *=============================================                                                                      000100
   162 PIsArtDeleted     B                     export                                                                       000101
   163 DIsArtDeleted     PI              n                                                                                  000102
   164 D P_ARID                         6A    value                                                                         000103
   165  /free                                                                                                               000104
   166     chainARTICLE1(P_ARID                                                                                             000105
   167           );                                                                                                         000106
   168     return ArDEL = 'X';                                                                                              000107
   169  /end-free                                                                                                           000108
   170 pIsArtDeleted     e                                                                                                  000109
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   171                                                                                                                      000110
   172 p chainARTICLE1   b                                                                                                  000111
   173 d chainARTICLE1   pi                                                                                                 000112
   174 D P_ARID                         6A    value                                                                         000113
   175  /free                                                                                                               000114
   176    if not %open(ARTICLE1);                                                                      B01                  000115
   177      open ARTICLE1;                                                                              01                  000116
   178    endif;                                                                                       E01                  000117
   179     if P_ARID <> ARID;                                                                          B01                  000118
   180       K_ARID =  P_ARID;                                                                          01                  000119
   181       clear *all FARTI;                                                                          01                  000120
   182       chain kf ARTICLE1;                                                                         01                  000121
   183     endif;                                                                                      E01                  000122
   184  /end-free                                                                                                           000123
   185 p chainARTICLE1   e                                                                                                  000124
   186                                                                                                                      000125
   187 p closeARTICLE1   b                                                                                                  000126
   188 d closeARTICLE1   pi                                                                                                 000127
   189  /free                                                                                                               000128
   190    if %open(ARTICLE1);                                                                          B01                  000129
   191      close ARTICLE1;                                                                             01                  000130
   192    endif;                                                                                       E01                  000131
   193  /end-free                                                                                                           000132
   194 p closeARTICLE1   e                                                                                                  000133
   195                                                                                                                      000134
   196                                                                                                                      000135
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      7
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30    157 000096  The name or indicator ARDEL is not defined.
*RNF7030 30     78 000017  The name or indicator ARDESC is not defined.
*RNF7030 30     71 000010  The name or indicator ARID is not defined.
*RNF7030 30    132 000071  The name or indicator ARMINQTY is not defined.
*RNF7030 30     90 000029  The name or indicator ARSALEPR is not defined.
*RNF7030 30    122 000061  The name or indicator ARSTOCK is not defined.
*RNF7030 30    112 000051  The name or indicator ARTIFA is not defined.
*RNF7030 30    142 000081  The name or indicator ARVATCD is not defined.
*RNF7030 30    102 000041  The name or indicator ARWHSPR is not defined.
*RNF7030 30    181 000120  The name or indicator FARTI is not defined.
*RNF7030 30     71 000010  The name or indicator K_ARID is not defined.
*RNF7503 30     83 000022  Expression contains an operand that is not defined.
*RNF7503 30     95 000034  Expression contains an operand that is not defined.
*RNF7503 30    107 000046  Expression contains an operand that is not defined.
*RNF7503 30    117 000056  Expression contains an operand that is not defined.
*RNF7503 30    127 000066  Expression contains an operand that is not defined.
*RNF7503 30    137 000076  Expression contains an operand that is not defined.
*RNF7503 30    147 000086  Expression contains an operand that is not defined.
*RNF7503 30    157 000096  Expression contains an operand that is not defined.
*RNF7503 30    168 000107  Expression contains an operand that is not defined.
*RNF7503 30    179 000118  Expression contains an operand that is not defined.
*RNF7503 30    180 000119  Expression contains an operand that is not defined.
*RNF7503 30    181 000120  Expression contains an operand that is not defined.
*RNF7503 30    182 000121  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     5    1 article.r+ ./qprotosrc/article.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      8
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         ARTICLE1          DISK                    3D    157     176     177
                                                 182     190     191
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
*RNF7030 ARDEL             **UNDEF**             157     168
*RNF7030 ARDESC            **UNDEF**              78      83
*RNF7030 ARID              **UNDEF**              71     179
*RNF7030 ARMINQTY          **UNDEF**             132     137
*RNF7030 ARSALEPR          **UNDEF**              90      95
*RNF7030 ARSTOCK           **UNDEF**             122     127
*RNF7030 ARTIFA            **UNDEF**             112     117
*RNF7030 ARVATCD           **UNDEF**             142     147
*RNF7030 ARWHSPR           **UNDEF**             102     107
         CHAINARTICLE1     PROTOTYPE              68D     81M     93M    105M
                                                 115M    125M    135M    145M
                                                 155M    166M    172     173
                                                 185
         CLOSEARTICLE1     PROTOTYPE              66D    187     188     194
         EXISTART          N(1)                   46D    151     152     159
                           PROTOTYPE
*RNF7030 FARTI             **UNDEF**             181M
         GETARTDESC        A(50)                   9D     77      78      85
                           PROTOTYPE
         GETARTFAM         A(3)                   26D    111     112     119
                           PROTOTYPE
*RNF7031 GETARTINFO        A(1520)                61D
                           PROTOTYPE
         GETARTMINSTOCK    P(5,0)                 36D    131     132     139
                           PROTOTYPE
         GETARTREFSALPRICE P(7,2)                 14D     87      89
                           PROTOTYPE
         GETARTSTOCK       P(5,0)                 31D    121     122     129
                           PROTOTYPE
         GETARTSTOCKPRICE  P(7,2)                 20D     99     101
                           PROTOTYPE
         GETARTVATCODE     A(1)                   41D    141     142     149
                           PROTOTYPE
         ISARTDELETED      N(1)                   51D    162     163     170
                           PROTOTYPE
*RNF7030 K_ARID            **UNDEF**              71D     74     180M
         KF                KLIST                  73D    182
*RNF7031 SLTARTICLE        A(6)                   56D
                           PROTOTYPE
      Field References for subprocedure GETARTDESC
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                   79D     81
      Field References for subprocedure GETARTREFSALPRICE
         Field             Attributes         References (D=Defined M=Modified)
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page      9
         P_ARID            A(6)                   91D     93
      Field References for subprocedure GETARTSTOCKPRICE
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  103D    105
      Field References for subprocedure GETARTFAM
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  113D    115
      Field References for subprocedure GETARTSTOCK
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  123D    125
      Field References for subprocedure GETARTMINSTOCK
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  133D    135
      Field References for subprocedure GETARTVATCODE
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  143D    145
      Field References for subprocedure EXISTART
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  153D    155
      Field References for subprocedure ISARTDELETED
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  164D    166
      Field References for subprocedure CHAINARTICLE1
         Field             Attributes         References (D=Defined M=Modified)
         P_ARID            A(6)                  174D    179     180
      Field References for subprocedure CLOSEARTICLE1
         Field             Attributes         References (D=Defined M=Modified)
         No references in the source.
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page     10
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         SLTARTICLE                               56
         GETARTINFO                               61
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page     11
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00      2 The name or indicator is not referenced.
*RNF7030 30     11 The name or indicator is not defined.
*RNF7503 30     13 Expression contains an operand that is not defined.
*RNF2120 40      1 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART300              BENOIT     07/11/22 16:42:47        Page     12
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        2
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :       25
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       27
  Source Totals:
    Records . . . . . . . . . . . . :      196
    Specifications  . . . . . . . . :       93
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       45
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtsqlrpgi obj(TEST/CUS301) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/CUS301.SQLRPGLE') COMMIT(*NONE) OBJTYPE(*MODULE) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTRLS() DBGVIEW(*SOURCE) RPGPPOPT(*LVL2) COMPILEOPT('TGTCCSID(297)')
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.48.135340000

CPD000D: Command QSYS/CRTSQLRPGI not safe for a multithreaded job.
SQL9001: SQL precompile failed.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   CUS301
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/CUS30
                                       1.SQLRPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R3M0
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NORMVCOMMENT *EXPINCLUDE   *NOSEQSRC
  Output source file . . . . . . . :   QSQLPRE
    Library  . . . . . . . . . . . :     QTEMP
  Output source member . . . . . . :   CUS301
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 Fcus301d   CF   E             WORKSTN                                                                                000003
     4 F                                     INFDS(INFO)                                                                    000004
     5 F                                     SFILE(SFL01:RRN01)                                                             000005
     6 F                                     indds(indds)                                                                   000006
     7 D INFO            DS                                                                                                 000007
     8 D  LRRN                 378    379B 0                                                                                000008
     9                                                                                                                      000009
    10  /copy qprotosrc/customer                                                                                            000010
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  customer.+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/customer.rpgleinc                                *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    11+ *=============================================                                                                     1000001
    12+ * Get CUSTOMER NAME                                                                                                1000002
    13+ *=============================================                                                                     1000003
    14+DGetCusName       PR            30                                                                                  1000004
    15+D CUID                           5  0  value                                                                        1000005
    16+ *=============================================                                                                     1000006
    17+ * Get PHONE NUMBER                                                                                                 1000007
    18+ *=============================================                                                                     1000008
    19+DGetCusPhone      PR            15                                                                                  1000009
    20+D CUID                           5  0  value                                                                        1000010
    21+ *=============================================                                                                     1000011
    22+ * Get VAT NUMBER                                                                                                   1000012
    23+ *=============================================                                                                     1000013
    24+DGetCusVat        PR            12                                                                                  1000014
    25+D CUID                           5  0  value                                                                        1000015
    26+ *=============================================                                                                     1000016
    27+ * Get ADDRESS MAIL                                                                                                 1000017
    28+ *=============================================                                                                     1000018
    29+DGetCusMail       PR            50                                                                                  1000019
    30+D CUID                           5  0  value                                                                        1000020
    31+ *=============================================                                                                     1000021
    32+ * Get ADDRESS LINE                                                                                                 1000022
    33+ *=============================================                                                                     1000023
    34+DGetCusAdrline1   PR            50                                                                                  1000024
    35+D CUID                           5  0  value                                                                        1000025
    36+ *=============================================                                                                     1000026
    37+ * Get ADDRESS LINE                                                                                                 1000027
    38+ *=============================================                                                                     1000028
    39+DGetCusAdrline2   PR            50                                                                                  1000029
    40+D CUID                           5  0  value                                                                        1000030
    41+ *=============================================                                                                     1000031
    42+ * Get ADDRESS LINE                                                                                                 1000032
    43+ *=============================================                                                                     1000033
    44+DGetCusAdrline3   PR            50                                                                                  1000034
    45+D CUID                           5  0  value                                                                        1000035
    46+ *=============================================                                                                     1000036
    47+ * Get ZIP CODE                                                                                                     1000037
    48+ *=============================================                                                                     1000038
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    49+DGetCusZip        PR            10                                                                                  1000039
    50+D CUID                           5  0  value                                                                        1000040
    51+ *=============================================                                                                     1000041
    52+ * Get CITY                                                                                                         1000042
    53+ *=============================================                                                                     1000043
    54+DGetCusCity       PR            30                                                                                  1000044
    55+D CUID                           5  0  value                                                                        1000045
    56+ *=============================================                                                                     1000046
    57+ * Get COUNTRY CODE                                                                                                 1000047
    58+ *=============================================                                                                     1000048
    59+DGetCusCountry    PR             2                                                                                  1000049
    60+D CUID                           5  0  value                                                                        1000050
    61+ *=============================================                                                                     1000051
    62+ * Get LIMIT CREDIT                                                                                                 1000052
    63+ *=============================================                                                                     1000053
    64+DGetCusLimCredit  PR             9  2                                                                               1000054
    65+D CUID                           5  0  value                                                                        1000055
    66+ *=============================================                                                                     1000056
    67+ * Get CREDIT                                                                                                       1000057
    68+ *=============================================                                                                     1000058
    69+DGetCusCredit     PR             9  2                                                                               1000059
    70+D CUID                           5  0  value                                                                        1000060
    71+ // Remove the comment (//) to test the addition of a function                                                      1000061
    72+ // PGetCusLastOrdDate...                                                                                           1000062
    73+ // D                 PR           8  0                                                                             1000063
    74+ // D CUID                           5  0  value                                                                    1000064
    75+ *=============================================                                                                     1000065
    76+ * Check if customer exist                                                                                          1000066
    77+ *=============================================                                                                     1000067
    78+D ExistCus        Pr              n                                                                                 1000068
    79+D P_CUID                         5  0  value                                                                        1000069
    80+ *=============================================                                                                     1000070
    81+ * Get DELETE CODE X=DELETED                                                                                        1000071
    82+ *=============================================                                                                     1000072
    83+DIsCusDeleted     PR              n                                                                                 1000073
    84+D CUID                           5P 0  value                                                                        1000074
    85+                                                                                                                    1000075
    86+D sltcustomer     PR             5p 0                                                                               1000076
    87+D CUID                           5P 0  value                                                                        1000077
    88+ *=============================================                                                                     1000078
    89+ * Close CUSTOME1                                                                                                   1000079
    90+ *=============================================                                                                     1000080
    91+D CloseCUSTOME1   PR                                                                                                1000081
    92                                                                                                                      000011
    93 D indds           ds                                                                                                 000012
    94 D  help                   1      1n                                                                                  000013
    95 D  exit                   3      3n                                                                                  000014
    96 D  prompt                 4      4n                                                                                  000015
    97 D  refresh                5      5n                                                                                  000016
    98 D  create                 6      6n                                                                                  000017
    99 D  cf08                   8      8n                                                                                  000018
   100 D  cancel                12     12n                                                                                  000019
   101 D  morekeys              24     24n                                                                                  000020
   102 D  pagedown              25     25n                                                                                  000021
   103 D  sflclr                30     30n                                                                                  000022
   104 D  sfldsp                31     31n                                                                                  000023
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   105 D  sfldspctl             32     32n                                                                                  000024
   106 D  sflnxtchg             33     33n                                                                                  000025
   107 D  dspatrri              34     34n                                                                                  000026
   108 D  InvalidOpt            35     35n                                                                                  000027
   109 D  OneSelect             36     36n                                                                                  000028
   110 D  bydesc                40     40n                                                                                  000029
   111 D  InvalidOptC           41     41n                                                                                  000030
   112 D  NotAvail              42     42n                                                                                  000031
   113 D  sflend                80     80n                                                                                  000032
   114                                                                                                                      000033
   115 d  data           ds                  inz                                                                            000034
   116 d   cuid                         5  0                                                                                000035
   117 d   custnm                      30                                                                                   000036
   118 d   cucity                      30                                                                                   000037
   119 d   cucoun                       2                                                                                   000038
   120                                                                                                                      000039
   121 D rrn01           s              5i 0                                                                                000040
   122                                                                                                                      000041
   123 d prp             c                   'prp'                                                                          000042
   124 d lod             c                   'lod'                                                                          000043
   125 d dsp             c                   'dsp'                                                                          000044
   126 d key             c                   'key'                                                                          000045
   127 d chk             c                   'chk'                                                                          000046
   128 d act             c                   'act'                                                                          000047
   129                                                                                                                      000048
   130                                                                                                                      000049
   131  *=============================================                                                                      000050
   132 P sltcustomer     B                   export                                                                         000051
   133 D sltcustomer     PI             5  0                                                                                000052
   134 d pcod                           5  0 value                                                                          000053
   135                                                                                                                      000054
   136 d  savData        ds                  likeds(data)                                                                   000055
   137                                                                                                                      000056
   138 D dft             S                   like(cuid      )                                                               000057
   139 D step01          S              3    inz(prp)                                                                       000058
   140 d in08            s               n                                                                                  000059
   141 d sts01           s               n                                                                                  000060
   142 D rrs01           s              5i 0                                                                                000061
   143 D teller          s              5i 0                                                                                000062
   144 D err01           s               n                                                                                  000063
   145 D slt01           s               n                                                                                  000064
   146 d savName         s                    like(custnm     )                                                             000065
   147 d savCity         s                    like(cuCity     )                                                             000066
   148 d stm             s            500     varying                                                                       000067
   149  /free                                                                                                               000068
   150   if not %open(cus301d   );                                                                                          000069
   151     open cus301d    ;                                                                                                000070
   152   endif;                                                                                                             000071
   153   dft = pcod;                                                                                                        000072
   154   dow step01 <> ' ';                                                                                                 000073
   155     select ;                                                                                                         000074
   156     when step01 = prp ;                                                                                              000075
   157       exsr s01prp;                                                                                                   000076
   158     when step01 = lod ;                                                                                              000077
   159       exsr s01lod;                                                                                                   000078
   160     when step01 = dsp ;                                                                                              000079
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   161       exsr s01dsp;                                                                                                   000080
   162     when step01 = key ;                                                                                              000081
   163       exsr s01key;                                                                                                   000082
   164     when step01 = chk ;                                                                                              000083
   165       exsr s01chk;                                                                                                   000084
   166     when step01 = act ;                                                                                              000085
   167       exsr s01act ;                                                                                                  000086
   168     endsl;                                                                                                           000087
   169   enddo;                                                                                                             000088
   170   exec sql close c1;                                                                                                 000089
   171   return dft;                                                                                                        000090
   172   //--- Clear Subfile  -----------------------------------------------------                                         000091
   173                                                                                                                      000092
   174   begsr s01prp;                                                                                                      000093
   175     RRS01 = 0;                                                                                                       000094
   176     sflclr = *on;                                                                                                    000095
   177     sfldsp = *off;                                                                                                   000096
   178     sfldspctl = *off;                                                                                                000097
   179     write CTL01;                                                                                                     000098
   180     sflclr = *off;                                                                                                   000099
   181     stm =  'SELECT CUID, CUSTNM, CUCITY, CUCOUN FROM CUSTOMER ';                                                     000100
   182     if srchName <> ' '  and srchCity <> ' ' ;                                                                        000101
   183       stm += 'Where UPPER(CUSTNM) like ''%' + %trim(srchName) +                                                      000102
   184              '%'' AND UPPER(CUCITY) like ''%' + %trim(srchCity)                                                      000103
   185             + '%'' ';                                                                                                000104
   186     elseif srchName <> ' ';                                                                                          000105
   187       stm += 'Where UPPER(CUSTNM) like ''%' + %trim(srchName) +                                                      000106
   188              '%'' ';                                                                                                 000107
   189     else;                                                                                                            000108
   190       stm += 'Where UPPER(CUCITY) like ''%' + %trim(srchCity) +                                                      000109
   191              '%'' ';                                                                                                 000110
   192     endif;                                                                                                           000111
   193     stm += ' ORDER BY CUSTNM';                                                                                       000112
   194     SAVName = srchName;                                                                                              000113
   195     SAVCity = srchCity;                                                                                              000114
   196     Step01 = lod;                                                                                                    000115
   197     exec sql prepare s1 from :stm;                                                                                   000116
   198     exec sql declare C1 cursor for s1;                                                                               000117
   199     exec sql open c1;                                                                                                000118
   200     exec sql fetch c1 into :data;                                                                                    000119
   201     savData = data;                                                                                                  000120
   202   endsr;                                                                                                             000121
   203   //--- Load Subfile  -----------------------------------------------------                                          000122
   204   begsr S01lod;                                                                                                      000123
   205     RRN01 = RRS01;                                                                                                   000124
   206     Data = Savdata;                                                                                                  000125
   207     RRB01 = RRS01 + 1;                                                                                               000126
   208     TELLER = 0;                                                                                                      000127
   209     OPT01 = 0;                                                                                                       000128
   210     SflNxtChg = *OFF;                                                                                                000129
   211     dow sqlcod = 0                                                                                                   000130
   212           and TELLER < 14;                                                                                           000131
   213       RRN01 = RRN01 + 1;                                                                                             000132
   214       TELLER = TELLER + 1;                                                                                           000133
   215       write SFL01;                                                                                                   000134
   216       exec sql fetch c1 into :data;                                                                                  000135
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   217     enddo;                                                                                                           000136
   218     sflend = sqlcod <> 0;                                                                                            000137
   219     savData = data;                                                                                                  000138
   220     RRS01 = RRN01;                                                                                                   000139
   221     Step01 = dsp;                                                                                                    000140
   222   endsr;                                                                                                             000141
   223   //--- Display Subfile  --------------------------------------------------                                          000142
   224   begsr S01dsp;                                                                                                      000143
   225     sfldsp = rrs01 > 0;                                                                                              000144
   226     sfldspctl = *on;                                                                                                 000145
   227     write KEY01;                                                                                                     000146
   228     exfmt CTL01;                                                                                                     000147
   229     RRB01 = LRRN;                                                                                                    000148
   230     Step01 = key;                                                                                                    000149
   231   endsr;                                                                                                             000150
   232   //--- Command Keys  -----------------------------------------------------                                          000151
   233   begsr S01key;                                                                                                      000152
   234     select;                                                                                                          000153
   235     when exit;                                                                                                       000154
   236       step01 = ' ';                                                                                                  000155
   237     when cancel ;                                                                                                    000156
   238       Step01 = ' ';                                                                                                  000157
   239     when PageDown;                                                                                                   000158
   240       Step01 = lod;                                                                                                  000159
   241     other;                                                                                                           000160
   242       Step01 = chk;                                                                                                  000161
   243     endsl;                                                                                                           000162
   244   endsr;                                                                                                             000163
   245   //--- Check Subfile  ----------------------------------------------------                                          000164
   246   begsr S01chk;                                                                                                      000165
   247     // SET FLAG SELECTION MADE OFF                                                                                   000166
   248     SLT01 = *OFF;                                                                                                    000167
   249     // SET FLAG OPTION  MADE OFF                                                                                     000168
   250     STS01 = *OFF;                                                                                                    000169
   251     // SET FLAG ERROR   MADE OFF                                                                                     000170
   252     ERR01 = *OFF;                                                                                                    000171
   253     Step01 = act;                                                                                                    000172
   254     readc(E) SFL01;                                                                                                  000173
   255     SflNxtChg = *ON;                                                                                                 000174
   256     dow not %error and not %eof;                                                                                     000175
   257       select;                                                                                                        000176
   258       when OPT01 = 0;                                                                                                000177
   259         // NO ERROR                                                                                                  000178
   260       when OPT01 <>1;                                                                                                000179
   261         STS01 = *ON;                                                                                                 000180
   262         Step01 = dsp;                                                                                                000181
   263         dspatrRi = *on;                                                                                              000182
   264         InvalidOpt= *on;                                                                                             000183
   265         if ERR01 = *OFF;                                                                                             000184
   266           RRB01 = RRN01;                                                                                             000185
   267           ERR01 = *ON;                                                                                               000186
   268         endif;                                                                                                       000187
   269         //OPTION = 1 BUT SELECTION ALREADY MADE                                                                      000188
   270       when SLT01 = *ON;                                                                                              000189
   271         Step01 = dsp;                                                                                                000190
   272         dspatrRi = *on;                                                                                              000191
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   273         OneSelect = *on;                                                                                             000192
   274         if ERR01 = *OFF;                                                                                             000193
   275           RRB01 = RRN01;                                                                                             000194
   276           ERR01 = *ON;                                                                                               000195
   277         endif;                                                                                                       000196
   278       other;                                                                                                         000197
   279         //OPTION = 1                                                                                                 000198
   280         SLT01 = *ON;                                                                                                 000199
   281         STS01 = *ON;                                                                                                 000200
   282       endsl;                                                                                                         000201
   283       update SFL01;                                                                                                  000202
   284       dspatrRi = *off;                                                                                               000203
   285       readc SFL01;                                                                                                   000204
   286     enddo;                                                                                                           000205
   287   endsr;                                                                                                             000206
   288   //--- Write Subfile  ----------------------------------------------------                                          000207
   289   begsr S01act;                                                                                                      000208
   290     Step01 = dsp;                                                                                                    000209
   291     select;                                                                                                          000210
   292     when savName <> srchName or savCity <> srchCity;                                                                 000211
   293       Step01 = prp;                                                                                                  000212
   294       exec sql close c1;                                                                                             000213
   295     other;                                                                                                           000214
   296       readc(E) SFL01;                                                                                                000215
   297       dow not %error and not %eof;                                                                                   000216
   298         if OPT01 = 1;                                                                                                000217
   299           exec sql close c1;                                                                                         000218
   300           return cuid      ;                                                                                         000219
   301         endif;                                                                                                       000220
   302         readc SFL01;                                                                                                 000221
   303       enddo;                                                                                                         000222
   304     endsl;                                                                                                           000223
   305   endsr;                                                                                                             000224
   306  /end-free                                                                                                           000225
   307                                                                                                                      000226
   308 p sltcustomer     e                                                                                                  000227
   309                                                                                                                      000228
   310                                                                                                                      000229
       * * * * *   E N D   O F   S O U R C E   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
    10    1 customer.+ ./qprotosrc/customer.rpgleinc      819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      8
Line   <---------------------- Data Records -------------------------------------------------------------->      Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Id  Number
                       C o m p i l e   T i m e   D a t a
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page      9
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/CUS301              BENOIT     07/11/22 16:42:48        Page     10
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        0
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        0
  Source Totals:
    Records . . . . . . . . . . . . :      310
    Specifications  . . . . . . . . :      228
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       62
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Diagnostic check of source is complete. Highest severity is 00.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     1
Source type...............RPG
Object name...............TEST/CUS301
Source file...............QTEMP/QSQLPRE
Member....................*OBJ
To source file............QTEMP/QSQLTEMP1
Options...................*LSTDBG
RPG preprocessor options..*LVL2
Listing option............*PRINT
Target release............V7R3M0
INCLUDE file..............*LIBL/QRPGLESRC
Commit....................*NONE
Allow copy of data........*OPTIMIZE
Close SQL cursor..........*ENDACTGRP
Allow blocking............*ALLREAD
Delay PREPARE.............*NO
Concurrent access
  resolution..............*DFT
Generation level..........10
Printer file..............*LIBL/QSYSPRT
Date format...............*JOB
Date separator............*JOB
Time format...............*HMS
Time separator ...........*JOB
Replace...................*YES
Relational database.......*LOCAL
User .....................*CURRENT
RDB connect method........*DUW
Default collection........*NONE
Dynamic default
  collection..............*NO
Package name..............*OBJLIB/*OBJ
Path......................*NAMING
SQL rules.................*DB2
Created object type.......*MODULE
Debugging view............*SOURCE
Debugging encryption key..*NONE
User profile .............*NAMING
Dynamic user profile......*USER
Sort sequence.............*JOB
Language ID...............*JOB
IBM SQL flagging..........*NOFLAG
ANS flagging..............*NONE
Text......................
Source file CCSID.........297
Job CCSID.................37
Decimal result options:
  Maximum precision.......31
  Maximum scale...........31
  Minimum divide scale....0
DECFLOAT rounding mode....*HALFEVEN
Compiler options..........TGTCCSID(297)
Source member changed on 07/11/22  16:42:48
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     2
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
    1        h nomain                                                                      000001   07/11/22
    2                                                                                      000002   07/11/22
    3        Fcus301d   CF   E             WORKSTN                                         000003   07/11/22
    4        F                                     INFDS(INFO)                             000004   07/11/22
    5        F                                     SFILE(SFL01:RRN01)                      000005   07/11/22
    6        F                                     indds(indds)                            000006   07/11/22
    7        D INFO            DS                                                          000007   07/11/22
    8        D  LRRN                 378    379B 0                                         000008   07/11/22
    9                                                                                      000009   07/11/22
   10         * /copy qprotosrc/customer                                                   000010   07/11/22
   11         *=============================================                               000001   07/11/22
   12         * Get CUSTOMER NAME                                                          000002   07/11/22
   13         *=============================================                               000003   07/11/22
   14        DGetCusName       PR            30                                            000004   07/11/22
   15        D CUID                           5  0  value                                  000005   07/11/22
   16         *=============================================                               000006   07/11/22
   17         * Get PHONE NUMBER                                                           000007   07/11/22
   18         *=============================================                               000008   07/11/22
   19        DGetCusPhone      PR            15                                            000009   07/11/22
   20        D CUID                           5  0  value                                  000010   07/11/22
   21         *=============================================                               000011   07/11/22
   22         * Get VAT NUMBER                                                             000012   07/11/22
   23         *=============================================                               000013   07/11/22
   24        DGetCusVat        PR            12                                            000014   07/11/22
   25        D CUID                           5  0  value                                  000015   07/11/22
   26         *=============================================                               000016   07/11/22
   27         * Get ADDRESS MAIL                                                           000017   07/11/22
   28         *=============================================                               000018   07/11/22
   29        DGetCusMail       PR            50                                            000019   07/11/22
   30        D CUID                           5  0  value                                  000020   07/11/22
   31         *=============================================                               000021   07/11/22
   32         * Get ADDRESS LINE                                                           000022   07/11/22
   33         *=============================================                               000023   07/11/22
   34        DGetCusAdrline1   PR            50                                            000024   07/11/22
   35        D CUID                           5  0  value                                  000025   07/11/22
   36         *=============================================                               000026   07/11/22
   37         * Get ADDRESS LINE                                                           000027   07/11/22
   38         *=============================================                               000028   07/11/22
   39        DGetCusAdrline2   PR            50                                            000029   07/11/22
   40        D CUID                           5  0  value                                  000030   07/11/22
   41         *=============================================                               000031   07/11/22
   42         * Get ADDRESS LINE                                                           000032   07/11/22
   43         *=============================================                               000033   07/11/22
   44        DGetCusAdrline3   PR            50                                            000034   07/11/22
   45        D CUID                           5  0  value                                  000035   07/11/22
   46         *=============================================                               000036   07/11/22
   47         * Get ZIP CODE                                                               000037   07/11/22
   48         *=============================================                               000038   07/11/22
   49        DGetCusZip        PR            10                                            000039   07/11/22
   50        D CUID                           5  0  value                                  000040   07/11/22
   51         *=============================================                               000041   07/11/22
   52         * Get CITY                                                                   000042   07/11/22
   53         *=============================================                               000043   07/11/22
   54        DGetCusCity       PR            30                                            000044   07/11/22
   55        D CUID                           5  0  value                                  000045   07/11/22
   56         *=============================================                               000046   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     3
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
   57         * Get COUNTRY CODE                                                           000047   07/11/22
   58         *=============================================                               000048   07/11/22
   59        DGetCusCountry    PR             2                                            000049   07/11/22
   60        D CUID                           5  0  value                                  000050   07/11/22
   61         *=============================================                               000051   07/11/22
   62         * Get LIMIT CREDIT                                                           000052   07/11/22
   63         *=============================================                               000053   07/11/22
   64        DGetCusLimCredit  PR             9  2                                         000054   07/11/22
   65        D CUID                           5  0  value                                  000055   07/11/22
   66         *=============================================                               000056   07/11/22
   67         * Get CREDIT                                                                 000057   07/11/22
   68         *=============================================                               000058   07/11/22
   69        DGetCusCredit     PR             9  2                                         000059   07/11/22
   70        D CUID                           5  0  value                                  000060   07/11/22
   71         // Remove the comment (//) to test the addition of a function                000061   07/11/22
   72         // PGetCusLastOrdDate...                                                     000062   07/11/22
   73         // D                 PR           8  0                                       000063   07/11/22
   74         // D CUID                           5  0  value                              000064   07/11/22
   75         *=============================================                               000065   07/11/22
   76         * Check if customer exist                                                    000066   07/11/22
   77         *=============================================                               000067   07/11/22
   78        D ExistCus        Pr              n                                           000068   07/11/22
   79        D P_CUID                         5  0  value                                  000069   07/11/22
   80         *=============================================                               000070   07/11/22
   81         * Get DELETE CODE X=DELETED                                                  000071   07/11/22
   82         *=============================================                               000072   07/11/22
   83        DIsCusDeleted     PR              n                                           000073   07/11/22
   84        D CUID                           5P 0  value                                  000074   07/11/22
   85                                                                                      000075   07/11/22
   86        D sltcustomer     PR             5p 0                                         000076   07/11/22
   87        D CUID                           5P 0  value                                  000077   07/11/22
   88         *=============================================                               000078   07/11/22
   89         * Close CUSTOME1                                                             000079   07/11/22
   90         *=============================================                               000080   07/11/22
   91        D CloseCUSTOME1   PR                                                          000081   07/11/22
   92                                                                                      000011   07/11/22
   93        D indds           ds                                                          000012   07/11/22
   94        D  help                   1      1n                                           000013   07/11/22
   95        D  exit                   3      3n                                           000014   07/11/22
   96        D  prompt                 4      4n                                           000015   07/11/22
   97        D  refresh                5      5n                                           000016   07/11/22
   98        D  create                 6      6n                                           000017   07/11/22
   99        D  cf08                   8      8n                                           000018   07/11/22
  100        D  cancel                12     12n                                           000019   07/11/22
  101        D  morekeys              24     24n                                           000020   07/11/22
  102        D  pagedown              25     25n                                           000021   07/11/22
  103        D  sflclr                30     30n                                           000022   07/11/22
  104        D  sfldsp                31     31n                                           000023   07/11/22
  105        D  sfldspctl             32     32n                                           000024   07/11/22
  106        D  sflnxtchg             33     33n                                           000025   07/11/22
  107        D  dspatrri              34     34n                                           000026   07/11/22
  108        D  InvalidOpt            35     35n                                           000027   07/11/22
  109        D  OneSelect             36     36n                                           000028   07/11/22
  110        D  bydesc                40     40n                                           000029   07/11/22
  111        D  InvalidOptC           41     41n                                           000030   07/11/22
  112        D  NotAvail              42     42n                                           000031   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     4
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  113        D  sflend                80     80n                                           000032   07/11/22
  114                                                                                      000033   07/11/22
  115        d  data           ds                  inz                                     000034   07/11/22
  116        d   cuid                         5  0                                         000035   07/11/22
  117        d   custnm                      30                                            000036   07/11/22
  118        d   cucity                      30                                            000037   07/11/22
  119        d   cucoun                       2                                            000038   07/11/22
  120                                                                                      000039   07/11/22
  121        D rrn01           s              5i 0                                         000040   07/11/22
  122                                                                                      000041   07/11/22
  123        d prp             c                   'prp'                                   000042   07/11/22
  124        d lod             c                   'lod'                                   000043   07/11/22
  125        d dsp             c                   'dsp'                                   000044   07/11/22
  126        d key             c                   'key'                                   000045   07/11/22
  127        d chk             c                   'chk'                                   000046   07/11/22
  128        d act             c                   'act'                                   000047   07/11/22
  129                                                                                      000048   07/11/22
  130                                                                                      000049   07/11/22
  131         *=============================================                               000050   07/11/22
  132        P sltcustomer     B                   export                                  000051   07/11/22
  133        D sltcustomer     PI             5  0                                         000052   07/11/22
  134        d pcod                           5  0 value                                   000053   07/11/22
  135                                                                                      000054   07/11/22
  136        d  savData        ds                  likeds(data)                            000055   07/11/22
  137                                                                                      000056   07/11/22
  138        D dft             S                   like(cuid      )                        000057   07/11/22
  139        D step01          S              3    inz(prp)                                000058   07/11/22
  140        d in08            s               n                                           000059   07/11/22
  141        d sts01           s               n                                           000060   07/11/22
  142        D rrs01           s              5i 0                                         000061   07/11/22
  143        D teller          s              5i 0                                         000062   07/11/22
  144        D err01           s               n                                           000063   07/11/22
  145        D slt01           s               n                                           000064   07/11/22
  146        d savName         s                    like(custnm     )                      000065   07/11/22
  147        d savCity         s                    like(cuCity     )                      000066   07/11/22
  148        d stm             s            500     varying                                000067   07/11/22
  149         /free                                                                        000068   07/11/22
  150          if not %open(cus301d   );                                                   000069   07/11/22
  151            open cus301d    ;                                                         000070   07/11/22
  152          endif;                                                                      000071   07/11/22
  153          dft = pcod;                                                                 000072   07/11/22
  154          dow step01 <> ' ';                                                          000073   07/11/22
  155            select ;                                                                  000074   07/11/22
  156            when step01 = prp ;                                                       000075   07/11/22
  157              exsr s01prp;                                                            000076   07/11/22
  158            when step01 = lod ;                                                       000077   07/11/22
  159              exsr s01lod;                                                            000078   07/11/22
  160            when step01 = dsp ;                                                       000079   07/11/22
  161              exsr s01dsp;                                                            000080   07/11/22
  162            when step01 = key ;                                                       000081   07/11/22
  163              exsr s01key;                                                            000082   07/11/22
  164            when step01 = chk ;                                                       000083   07/11/22
  165              exsr s01chk;                                                            000084   07/11/22
  166            when step01 = act ;                                                       000085   07/11/22
  167              exsr s01act ;                                                           000086   07/11/22
  168            endsl;                                                                    000087   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     5
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  169          enddo;                                                                      000088   07/11/22
  170          exec sql close c1;                                                          000089   07/11/22
  171          return dft;                                                                 000090   07/11/22
  172          //--- Clear Subfile  ----------------------------------------------------   000091   07/11/22   -
  173                                                                                      000092   07/11/22
  174          begsr s01prp;                                                               000093   07/11/22
  175            RRS01 = 0;                                                                000094   07/11/22
  176            sflclr = *on;                                                             000095   07/11/22
  177            sfldsp = *off;                                                            000096   07/11/22
  178            sfldspctl = *off;                                                         000097   07/11/22
  179            write CTL01;                                                              000098   07/11/22
  180            sflclr = *off;                                                            000099   07/11/22
  181            stm =  'SELECT CUID, CUSTNM, CUCITY, CUCOUN FROM CUSTOMER ';              000100   07/11/22
  182            if srchName <> ' '  and srchCity <> ' ' ;                                 000101   07/11/22
  183              stm += 'Where UPPER(CUSTNM) like ''%' + %trim(srchName) +               000102   07/11/22
  184                     '%'' AND UPPER(CUCITY) like ''%' + %trim(srchCity)               000103   07/11/22
  185                    + '%'' ';                                                         000104   07/11/22
  186            elseif srchName <> ' ';                                                   000105   07/11/22
  187              stm += 'Where UPPER(CUSTNM) like ''%' + %trim(srchName) +               000106   07/11/22
  188                     '%'' ';                                                          000107   07/11/22
  189            else;                                                                     000108   07/11/22
  190              stm += 'Where UPPER(CUCITY) like ''%' + %trim(srchCity) +               000109   07/11/22
  191                     '%'' ';                                                          000110   07/11/22
  192            endif;                                                                    000111   07/11/22
  193            stm += ' ORDER BY CUSTNM';                                                000112   07/11/22
  194            SAVName = srchName;                                                       000113   07/11/22
  195            SAVCity = srchCity;                                                       000114   07/11/22
  196            Step01 = lod;                                                             000115   07/11/22
  197            exec sql prepare s1 from :stm;                                            000116   07/11/22
  198            exec sql declare C1 cursor for s1;                                        000117   07/11/22
  199            exec sql open c1;                                                         000118   07/11/22
  200            exec sql fetch c1 into :data;                                             000119   07/11/22
  201            savData = data;                                                           000120   07/11/22
  202          endsr;                                                                      000121   07/11/22
  203          //--- Load Subfile  -----------------------------------------------------   000122   07/11/22
  204          begsr S01lod;                                                               000123   07/11/22
  205            RRN01 = RRS01;                                                            000124   07/11/22
  206            Data = Savdata;                                                           000125   07/11/22
  207            RRB01 = RRS01 + 1;                                                        000126   07/11/22
  208            TELLER = 0;                                                               000127   07/11/22
  209            OPT01 = 0;                                                                000128   07/11/22
  210            SflNxtChg = *OFF;                                                         000129   07/11/22
  211            dow sqlcod = 0                                                            000130   07/11/22
  212                  and TELLER < 14;                                                    000131   07/11/22
  213              RRN01 = RRN01 + 1;                                                      000132   07/11/22
  214              TELLER = TELLER + 1;                                                    000133   07/11/22
  215              write SFL01;                                                            000134   07/11/22
  216              exec sql fetch c1 into :data;                                           000135   07/11/22
  217            enddo;                                                                    000136   07/11/22
  218            sflend = sqlcod <> 0;                                                     000137   07/11/22
  219            savData = data;                                                           000138   07/11/22
  220            RRS01 = RRN01;                                                            000139   07/11/22
  221            Step01 = dsp;                                                             000140   07/11/22
  222          endsr;                                                                      000141   07/11/22
  223          //--- Display Subfile  --------------------------------------------------   000142   07/11/22
  224          begsr S01dsp;                                                               000143   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     6
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  225            sfldsp = rrs01 > 0;                                                       000144   07/11/22
  226            sfldspctl = *on;                                                          000145   07/11/22
  227            write KEY01;                                                              000146   07/11/22
  228            exfmt CTL01;                                                              000147   07/11/22
  229            RRB01 = LRRN;                                                             000148   07/11/22
  230            Step01 = key;                                                             000149   07/11/22
  231          endsr;                                                                      000150   07/11/22
  232          //--- Command Keys  -----------------------------------------------------   000151   07/11/22
  233          begsr S01key;                                                               000152   07/11/22
  234            select;                                                                   000153   07/11/22
  235            when exit;                                                                000154   07/11/22
  236              step01 = ' ';                                                           000155   07/11/22
  237            when cancel ;                                                             000156   07/11/22
  238              Step01 = ' ';                                                           000157   07/11/22
  239            when PageDown;                                                            000158   07/11/22
  240              Step01 = lod;                                                           000159   07/11/22
  241            other;                                                                    000160   07/11/22
  242              Step01 = chk;                                                           000161   07/11/22
  243            endsl;                                                                    000162   07/11/22
  244          endsr;                                                                      000163   07/11/22
  245          //--- Check Subfile  ----------------------------------------------------   000164   07/11/22
  246          begsr S01chk;                                                               000165   07/11/22
  247            // SET FLAG SELECTION MADE OFF                                            000166   07/11/22
  248            SLT01 = *OFF;                                                             000167   07/11/22
  249            // SET FLAG OPTION  MADE OFF                                              000168   07/11/22
  250            STS01 = *OFF;                                                             000169   07/11/22
  251            // SET FLAG ERROR   MADE OFF                                              000170   07/11/22
  252            ERR01 = *OFF;                                                             000171   07/11/22
  253            Step01 = act;                                                             000172   07/11/22
  254            readc(E) SFL01;                                                           000173   07/11/22
  255            SflNxtChg = *ON;                                                          000174   07/11/22
  256            dow not %error and not %eof;                                              000175   07/11/22
  257              select;                                                                 000176   07/11/22
  258              when OPT01 = 0;                                                         000177   07/11/22
  259                // NO ERROR                                                           000178   07/11/22
  260              when OPT01 <>1;                                                         000179   07/11/22
  261                STS01 = *ON;                                                          000180   07/11/22
  262                Step01 = dsp;                                                         000181   07/11/22
  263                dspatrRi = *on;                                                       000182   07/11/22
  264                InvalidOpt= *on;                                                      000183   07/11/22
  265                if ERR01 = *OFF;                                                      000184   07/11/22
  266                  RRB01 = RRN01;                                                      000185   07/11/22
  267                  ERR01 = *ON;                                                        000186   07/11/22
  268                endif;                                                                000187   07/11/22
  269                //OPTION = 1 BUT SELECTION ALREADY MADE                               000188   07/11/22
  270              when SLT01 = *ON;                                                       000189   07/11/22
  271                Step01 = dsp;                                                         000190   07/11/22
  272                dspatrRi = *on;                                                       000191   07/11/22
  273                OneSelect = *on;                                                      000192   07/11/22
  274                if ERR01 = *OFF;                                                      000193   07/11/22
  275                  RRB01 = RRN01;                                                      000194   07/11/22
  276                  ERR01 = *ON;                                                        000195   07/11/22
  277                endif;                                                                000196   07/11/22
  278              other;                                                                  000197   07/11/22
  279                //OPTION = 1                                                          000198   07/11/22
  280                SLT01 = *ON;                                                          000199   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     7
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  281                STS01 = *ON;                                                          000200   07/11/22
  282              endsl;                                                                  000201   07/11/22
  283              update SFL01;                                                           000202   07/11/22
  284              dspatrRi = *off;                                                        000203   07/11/22
  285              readc SFL01;                                                            000204   07/11/22
  286            enddo;                                                                    000205   07/11/22
  287          endsr;                                                                      000206   07/11/22
  288          //--- Write Subfile  ----------------------------------------------------   000207   07/11/22
  289          begsr S01act;                                                               000208   07/11/22
  290            Step01 = dsp;                                                             000209   07/11/22
  291            select;                                                                   000210   07/11/22
  292            when savName <> srchName or savCity <> srchCity;                          000211   07/11/22
  293              Step01 = prp;                                                           000212   07/11/22
  294              exec sql close c1;                                                      000213   07/11/22
  295            other;                                                                    000214   07/11/22
  296              readc(E) SFL01;                                                         000215   07/11/22
  297              dow not %error and not %eof;                                            000216   07/11/22
  298                if OPT01 = 1;                                                         000217   07/11/22
  299                  exec sql close c1;                                                  000218   07/11/22
  300                  return cuid      ;                                                  000219   07/11/22
  301                endif;                                                                000220   07/11/22
  302                readc SFL01;                                                          000221   07/11/22
  303              enddo;                                                                  000222   07/11/22
  304            endsl;                                                                    000223   07/11/22
  305          endsr;                                                                      000224   07/11/22
  306         /end-free                                                                    000225   07/11/22
  307                                                                                      000226   07/11/22
  308        p sltcustomer     e                                                           000227   07/11/22
  309                                                                                      000228   07/11/22
  310                                                                                      000229   07/11/22
                                * * * * *  E N D  O F  S O U R C E  * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     8
                                               CROSS REFERENCE
Data Names                    Define    Reference
ACT                              128      CHARACTER(3) CONSTANT
BYDESC                           110      CHARACTER(1) IN INDDS
CANCEL                           100      CHARACTER(1) IN INDDS
CF08                             99       CHARACTER(1) IN INDDS
CHK                              127      CHARACTER(3) CONSTANT
CLOSECUSTOME1                    91
CREATE                           98       CHARACTER(1) IN INDDS
CUCITY                           118      CHARACTER(30) IN DATA
CUCITY                           136      CHARACTER(30) IN SAVDATA IN RPG PROCEDURE SLTCUSTOMER
CUCOUN                           119      CHARACTER(2) IN DATA
CUCOUN                           136      CHARACTER(2) IN SAVDATA IN RPG PROCEDURE SLTCUSTOMER
CUID                             116      NUMERIC(5,0) IN DATA
CUID                             136      NUMERIC(5,0) IN SAVDATA IN RPG PROCEDURE SLTCUSTOMER
CUSTNM                           117      CHARACTER(30) IN DATA
CUSTNM                           136      CHARACTER(30) IN SAVDATA IN RPG PROCEDURE SLTCUSTOMER
C1                               198      CURSOR FOR S1
                                          170 199 200 216 294 299
DATA                             115      STRUCTURE
                                          200 216
DFT                              138      NUMERIC(5,0) IN RPG PROCEDURE SLTCUSTOMER
DSP                              125      CHARACTER(3) CONSTANT
DSPATRRI                         107      CHARACTER(1) IN INDDS
ERR01                            144      CHARACTER(1) IN RPG PROCEDURE SLTCUSTOMER
EXISTCUS                         78       CHARACTER(1)
EXIT                             95       CHARACTER(1) IN INDDS
GETCUSADRLINE1                   34       CHARACTER(50)
GETCUSADRLINE2                   39       CHARACTER(50)
GETCUSADRLINE3                   44       CHARACTER(50)
GETCUSCITY                       54       CHARACTER(30)
GETCUSCOUNTRY                    59       CHARACTER(2)
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page     9
                                               CROSS REFERENCE
GETCUSCREDIT                     69       DECIMAL(9,2)
GETCUSLIMCREDIT                  64       DECIMAL(9,2)
GETCUSMAIL                       29       CHARACTER(50)
GETCUSNAME                       14       CHARACTER(30)
GETCUSPHONE                      19       CHARACTER(15)
GETCUSVAT                        24       CHARACTER(12)
GETCUSZIP                        49       CHARACTER(10)
HELP                             94       CHARACTER(1) IN INDDS
INDDS                            93       STRUCTURE
INFO                             7        STRUCTURE
INVALIDOPT                       108      CHARACTER(1) IN INDDS
INVALIDOPTC                      111      CHARACTER(1) IN INDDS
IN08                             140      CHARACTER(1) IN RPG PROCEDURE SLTCUSTOMER
ISCUSDELETED                     83       CHARACTER(1)
KEY                              126      CHARACTER(3) CONSTANT
LOD                              124      CHARACTER(3) CONSTANT
LRRN                             8        SMALL INTEGER PRECISION(4,0) IN INFO
MOREKEYS                         101      CHARACTER(1) IN INDDS
NOTAVAIL                         112      CHARACTER(1) IN INDDS
ONESELECT                        109      CHARACTER(1) IN INDDS
PAGEDOWN                         102      CHARACTER(1) IN INDDS
PCOD                             134      DECIMAL(5,0) IN RPG PROCEDURE SLTCUSTOMER
PROMPT                           96       CHARACTER(1) IN INDDS
PRP                              123      CHARACTER(3) CONSTANT
REFRESH                          97       CHARACTER(1) IN INDDS
RRN01                            121      SMALL INTEGER PRECISION(4,0)
RRS01                            142      SMALL INTEGER PRECISION(4,0) IN RPG PROCEDURE SLTCUSTOMER
SAVCITY                          147      CHARACTER(30) IN RPG PROCEDURE SLTCUSTOMER
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page    10
                                               CROSS REFERENCE
SAVDATA                          136      STRUCTURE IN RPG PROCEDURE SLTCUSTOMER
SAVNAME                          146      CHARACTER(30) IN RPG PROCEDURE SLTCUSTOMER
SFLCLR                           103      CHARACTER(1) IN INDDS
SFLDSP                           104      CHARACTER(1) IN INDDS
SFLDSPCTL                        105      CHARACTER(1) IN INDDS
SFLEND                           113      CHARACTER(1) IN INDDS
SFLNXTCHG                        106      CHARACTER(1) IN INDDS
SLTCUSTOMER                      132      RPG PROCEDURE
SLTCUSTOMER                      86       DECIMAL(5,0)
SLT01                            145      CHARACTER(1) IN RPG PROCEDURE SLTCUSTOMER
STEP01                           139      CHARACTER(3) IN RPG PROCEDURE SLTCUSTOMER
STM                              148      VARCHAR(500) IN RPG PROCEDURE SLTCUSTOMER
                                          197
STS01                            141      CHARACTER(1) IN RPG PROCEDURE SLTCUSTOMER
S1                               ****     STATEMENT
                                          197 198
TELLER                           143      SMALL INTEGER PRECISION(4,0) IN RPG PROCEDURE SLTCUSTOMER
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         CUS301                      07/11/22 16:42:48          Page    11
                                             DIAGNOSTIC MESSAGES
MSG ID  SEV  RECORD  TEXT
SQL1001  30       3  External file definition for CUS301D not found.
                    Message Summary
  Total     Info   Warning      Error   Severe  Terminal
      1        0         0          0        1         0
30 level severity errors found in source
  310 Source records processed
                               * * * * *  E N D  O F  L I S T I N G  * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtsqlrpgi obj(TEST/PRO203) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/PRO203.SQLRPGLE') COMMIT(*NONE) OBJTYPE(*MODULE) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTRLS() DBGVIEW(*SOURCE) RPGPPOPT(*LVL2) COMPILEOPT('TGTCCSID(297)')
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.49.410360000

CPD000D: Command QSYS/CRTSQLRPGI not safe for a multithreaded job.
SQL9019: SQL precompile failed.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO203              BENOIT     07/11/22 16:42:49        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   PRO203
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/PRO20
                                       3.SQLRPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R3M0
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NORMVCOMMENT *EXPINCLUDE   *NOSEQSRC
  Output source file . . . . . . . :   QSQLPRE
    Library  . . . . . . . . . . . :     QTEMP
  Output source member . . . . . . :   PRO203
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO203              BENOIT     07/11/22 16:42:49        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h dftactgrp(*no)                                                                                                     000001
     2 fpro202d   cf   e             workstn                                                                                000002
     3                                                                                                                      000003
     4  /copy qprotosrc/Xss                                                                                                 000004
======>       aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
*RNF0273 40 a      000004  Compiler not able to open the /COPY or /INCLUDE file;
                           directive ignored.
     5  /copy qprotosrc/Parameter                                                                                           000005
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  Parameter+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/Parameter.rpgleinc                               *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
     6+ *=============================================                                                                     1000001
     7+ * Get Parameter 1                                                                                                  1000002
     8+ *=============================================                                                                     1000003
     9+DGetPARM1         PR            10A                                                                                 1000004
    10+D PACODE                        10A    value                                                                        1000005
    11+D PASUBCODE                     10A    value                                                                        1000006
    12+ *=============================================                                                                     1000007
    13+ * Get Parameter 2                                                                                                  1000008
    14+ *=============================================                                                                     1000009
    15+DGetPARM2         PR           100A                                                                                 1000010
    16+D PACODE                        10A    value                                                                        1000011
    17+D PASUBCODE                     10A    value                                                                        1000012
    18+ *=============================================                                                                     1000013
    19+ * Get Parameter 3                                                                                                  1000014
    20+ *=============================================                                                                     1000015
    21+DGetPARM3         PR             2A                                                                                 1000016
    22+D PACODE                        10A    value                                                                        1000017
    23+D PASUBCODE                     10A    value                                                                        1000018
    24+ *=============================================                                                                     1000019
    25+ * Get Parameter 4                                                                                                  1000020
    26+ *=============================================                                                                     1000021
    27+DGetPARM4         PR             1P 0                                                                               1000022
    28+D PACODE                        10A    value                                                                        1000023
    29+D PASUBCODE                     10A    value                                                                        1000024
    30+ *=============================================                                                                     1000025
    31+ * Get Parameter 5                                                                                                  1000026
    32+ *=============================================                                                                     1000027
    33+DGetPARM5         PR             3P 0                                                                               1000028
    34+D PACODE                        10A    value                                                                        1000029
    35+D PASUBCODE                     10A    value                                                                        1000030
    36+ *=============================================                                                                     1000031
    37+ * Close PARAMETER                                                                                                  1000032
    38+ *=============================================                                                                     1000033
    39+D ClosePARAMETER  PR                                                                                                1000034
    40                                                                                                                      000006
    41 d data            ds                  inz                                                                            000007
    42 d   ARID                         6                                                                                   000008
    43 d   ARDESC                      50A                                                                                  000009
    44 d   ARSTOCK                      5P 0                                                                                000010
    45 d   ARMINQTY                     5P 0                                                                                000011
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO203              BENOIT     07/11/22 16:42:49        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    46 d   ARCUSQTY                     5P 0                                                                                000012
    47 d   ARPURQTY                     5P 0                                                                                000013
    48 d   PRID                         5P 0                                                                                000014
    49 d   PROVNM                      30A                                                                                  000015
    50 d   APPRICE                      7P 2                                                                                000016
    51 d   APREF                       10A                                                                                  000017
    52 d   TOT                          3  0                                                                                000018
    53                                                                                                                      000019
    54 d r1              s             12                                                                                   000020
    55 d r2              s             12                                                                                   000021
    56 d head            s              3u 0                                                                                000022
    57 d dec2            s              3u 0                                                                                000023
    58 d Yellow          s              3u 0                                                                                000024
    59                                                                                                                      000025
    60  /free                                                                                                               000026
    61    fileName = 'Goods to purchase' + '_' +                                                                            000027
    62                %char(%dec(%date:*YMD)) + '.xml';                                                                     000028
    63    path = GetParm2('PATH':' ');                                                                                      000029
    64    xssopenfile(%trim(path) + fileName);                                                                              000030
    65    XssSetDocProperties('SAMPLE Company':' ':1);                                                                      000031
    66    head = xsscreatestyle();                                                                                          000032
    67    xssSetFontSize(12);                                                                                               000033
    68    XssSetalign(ALIGN_CENTER);                                                                                        000034
    69    Xsssetwrap();                                                                                                     000035
    70    dec2 = xsscreatestyle();                                                                                          000036
    71    XssSetFormat(FORMAT_DEC2);                                                                                        000037
    72    Yellow = xsscreatestyle();                                                                                        000038
    73    XsssetForcolor(COLOR_YELLOW);                                                                                     000039
    74    Xssaddsheet('Purchasing');                                                                                        000040
    75    XssSetColWidth(150 :2);                                                                                           000041
    76    xssaddrow(40);                                                                                                    000042
    77    xssaddcellChar('Art Id':head);                                                                                    000043
    78    r1 = XssGetCellId();                                                                                              000044
    79    xssaddcellChar('Description':head);                                                                               000045
    80    xssaddcellChar('Stock':head);                                                                                     000046
    81    xssaddcellChar('Minimun Stock':head);                                                                             000047
    82    xssaddcellChar('Customer Order Qty':head);                                                                        000048
    83    xssaddcellChar('Purchase Order Qty':head);                                                                        000049
    84    xssaddcellChar('Proposed Order Qty':head);                                                                        000050
    85    xssaddcellChar('Provider Id':head);                                                                               000051
    86    xssaddcellChar('Name':head);                                                                                      000052
    87    xssaddcellChar('Purchase Price':head);                                                                            000053
    88    xssaddcellChar('Provider Reference':head);                                                                        000054
    89                                                                                                                      000055
    90    exec sql declare c1 cursor for                                                                                    000056
    91       SELECT ARID, ARDESC, arstock, ARMINQTY, ARCUSQTY, ARPURQTY, PRID,                                              000057
    92              PROVnm,  APPRICE, apref,                                                                                000058
    93              (select count(*) from artiprov b where a.aparid = b.aparid )                                            000059
    94       FROM article, artiprov a, provider                                                                             000060
    95       WHERE arstock < ARMINQTY - arcusqty + arpurqty                                                                 000061
    96         and Arcusqty > 0                                                                                             000062
    97         and arid = aparid AND apprid = prid                                                                          000063
    98      ORDER BY arid, apprid;                                                                                          000064
    99    exec sql open c1;                                                                                                 000065
   100                                                                                                                      000066
   101    exec sql fetch c1 into :data;                                                                                     000067
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO203              BENOIT     07/11/22 16:42:49        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   102    dow sqlcod = 0;                                                                                                   000068
   103      xssaddrow();                                                                                                    000069
   104      if tot = 1;                                                                                                     000070
   105        XssAddCellChar(ARID);                                                                                         000071
   106        XssAddCellChar(ARDESC);                                                                                       000072
   107      else;                                                                                                           000073
   108        XssAddCellChar(ARID:Yellow);                                                                                  000074
   109        XssAddCellChar(ARDESC:Yellow);                                                                                000075
   110      ENDIF;                                                                                                          000076
   111      xssaddcellNum(ARSTOCK);                                                                                         000077
   112      XssAddCellNum(ARMINQTY);                                                                                        000078
   113      XssAddCellNum(ARCUSQTY);                                                                                        000079
   114      XssAddCellNum(ARPURQTY);                                                                                        000080
   115      XssAddCellNum(ARMINQTY + ARCUSQTY - arpurqty - arstock);                                                        000081
   116      XssAddCellNum(PRID);                                                                                            000082
   117      XssAddCellChar(PROVNM);                                                                                         000083
   118      XssAddCellNum(APPRICE:dec2);                                                                                    000084
   119      XssAddCellChar(APREF);                                                                                          000085
   120      exec sql fetch c1 into :data;                                                                                   000086
   121    ENDDO;                                                                                                            000087
   122    exec sql close c1;                                                                                                000088
   123    r2 = XssGetCellId();                                                                                              000089
   124    XssSetAutoFilter(r1:r2);                                                                                          000090
   125    Xssclosefile();                                                                                                   000091
   126    exfmt fmt03;                                                                                                      000092
   127                                                                                                                      000093
   128    *inlr = *on;                                                                                                      000094
   129  /end-free                                                                                                           000095
   130                                                                                                                      000096
       * * * * *   E N D   O F   S O U R C E   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     5    1 Parameter+ ./qprotosrc/Parameter.rpgleinc     819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO203              BENOIT     07/11/22 16:42:49        Page      5
Line   <---------------------- Data Records -------------------------------------------------------------->      Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Id  Number
                       C o m p i l e   T i m e   D a t a
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO203              BENOIT     07/11/22 16:42:49        Page      6
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF0273 40      1 Compiler not able to open the /COPY or /INCLUDE file;
                   directive ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO203              BENOIT     07/11/22 16:42:49        Page      7
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        1
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        1
  Source Totals:
    Records . . . . . . . . . . . . :      130
    Specifications  . . . . . . . . :      100
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       18
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtsqlrpgi obj(TEST/ART301) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/ART301.SQLRPGLE') COMMIT(*NONE) OBJTYPE(*MODULE) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTRLS() DBGVIEW(*SOURCE) RPGPPOPT(*LVL2) COMPILEOPT('TGTCCSID(297)')
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.50.537889000

CPD000D: Command QSYS/CRTSQLRPGI not safe for a multithreaded job.
SQL9001: SQL precompile failed.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   ART301
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/ART30
                                       1.SQLRPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R3M0
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NORMVCOMMENT *EXPINCLUDE   *NOSEQSRC
  Output source file . . . . . . . :   QSQLPRE
    Library  . . . . . . . . . . . :     QTEMP
  Output source member . . . . . . :   ART301
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 Fart301d   CF   E             WORKSTN                                                                                000003
     4 F                                     INFDS(INFO)                                                                    000004
     5 F                                     SFILE(SFL01:RRN01)                                                             000005
     6 F                                     indds(indds)                                                                   000006
     7 D INFO            DS                                                                                                 000007
     8 D  LRRN                 378    379B 0                                                                                000008
     9                                                                                                                      000009
    10  /copy qprotosrc/article                                                                                             000010
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  article.r+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/article.rpgleinc                                 *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
    11+ *=============================================                                                                     1000001
    12+ * Get ARTICLE DESCRPTION                                                                                           1000002
    13+ *=============================================                                                                     1000003
    14+DGetArtDesc       PR            50A                                                                                 1000004
    15+D ARID                           6A    value                                                                        1000005
    16+ *=============================================                                                                     1000006
    17+ * Get REF SALE PRICE                                                                                               1000007
    18+ *=============================================                                                                     1000008
    19+DGetArtRefSalPrice...                                                                                               1000009
    20+D                 pr             7P 2                                                                               1000010
    21+D ARID                           6A    value                                                                        1000011
    22+ *=============================================                                                                     1000012
    23+ * Get STOCK PRICE                                                                                                  1000013
    24+ *=============================================                                                                     1000014
    25+DGetArtStockPrice...                                                                                                1000015
    26+D                 PR             7P 2                                                                               1000016
    27+D ARID                           6A    value                                                                        1000017
    28+ *=============================================                                                                     1000018
    29+ * Get FAMILLY ID                                                                                                   1000019
    30+ *=============================================                                                                     1000020
    31+DGetArtFam        PR             3A                                                                                 1000021
    32+D ARID                           6A    value                                                                        1000022
    33+ *=============================================                                                                     1000023
    34+ * Get STOCK                                                                                                        1000024
    35+ *=============================================                                                                     1000025
    36+DGetArtStock      PR             5P 0                                                                               1000026
    37+D ARID                           6A    value                                                                        1000027
    38+ *=============================================                                                                     1000028
    39+ * Get MINIMUM STOCK                                                                                                1000029
    40+ *=============================================                                                                     1000030
    41+DGetArtMinStock   PR             5P 0                                                                               1000031
    42+D ARID                           6A    value                                                                        1000032
    43+ *=============================================                                                                     1000033
    44+ * Get VAT code                                                                                                     1000034
    45+ *=============================================                                                                     1000035
    46+DGetArtVatCode    Pr             1A                                                                                 1000036
    47+D P_ARID                         6A    value                                                                        1000037
    48+ *=============================================                                                                     1000038
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    49+ * Check if article exist                                                                                           1000039
    50+ *=============================================                                                                     1000040
    51+D ExistArt        PR              n                                                                                 1000041
    52+D ARID                           6A    value                                                                        1000042
    53+ *=============================================                                                                     1000043
    54+ * Get DELETE CODE X=DELETED                                                                                        1000044
    55+ *=============================================                                                                     1000045
    56+DIsArtDeleted     PR              n                                                                                 1000046
    57+D ARID                           6A    value                                                                        1000047
    58+ *=============================================                                                                     1000048
    59+ * Select an article                                                                                                1000049
    60+ *=============================================                                                                     1000050
    61+D SltArticle      PR             6                                                                                  1000051
    62+D ARID                           6A    value                                                                        1000052
    63+ *=============================================                                                                     1000053
    64+ * Get ARTICLE Info                                                                                                 1000054
    65+ *=============================================                                                                     1000055
    66+DGetArtInfo       PR          1520A                                                                                 1000056
    67+D ARID                           6A    value                                                                        1000057
    68+ *=============================================                                                                     1000058
    69+ * Close ARTICLE1                                                                                                   1000059
    70+ *=============================================                                                                     1000060
    71+D CloseARTICLE1   PR                                                                                                1000061
    72  /copy qprotosrc/familly                                                                                             000011
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  familly.r+                                                   *                     2
        * External name  . . . . . . :  ./qprotosrc/familly.rpgleinc                                 *                     2
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     2
        *--------------------------------------------------------------------------------------------*
    73+ *=============================================                                                                     2000001
    74+ * Get FAMILLY DESCRIPTION                                                                                          2000002
    75+ *=============================================                                                                     2000003
    76+DGetArtFamDesc    PR            50                                                                                  2000004
    77+D FAID                           3     value                                                                        2000005
    78+ *=============================================                                                                     2000006
    79+ * Ckeck if familly exist                                                                                           2000007
    80+ *=============================================                                                                     2000008
    81+D ExistArtFam     PR              n                                                                                 2000009
    82+D P_FAID                         3     value                                                                        2000010
    83+ *=============================================                                                                     2000011
    84+ * Get DELETE CODE X=DELETED                                                                                        2000012
    85+ *=============================================                                                                     2000013
    86+DIsArtFamDeleted  PR              n                                                                                 2000014
    87+D FAID                           3     value                                                                        2000015
    88+ *=============================================                                                                     2000016
    89+ * Close FAMILLY                                                                                                    2000017
    90+ *=============================================                                                                     2000018
    91+D CloseFAMILLY    PR                                                                                                2000019
    92+ *=============================================                                                                     2000020
    93+ * Select a Failly code                                                                                             2000021
    94+ *=============================================                                                                     2000022
    95+d SltArtFam       pr             3                                                                                  2000023
    96+d pcod                           3                                                                                  2000024
    97+                                                                                                                    2000025
    98                                                                                                                      000012
    99 D indds           ds                                                                                                 000013
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   100 D  help                   1      1n                                                                                  000014
   101 D  exit                   3      3n                                                                                  000015
   102 D  prompt                 4      4n                                                                                  000016
   103 D  refresh                5      5n                                                                                  000017
   104 D  create                 6      6n                                                                                  000018
   105 D  cancel                12     12n                                                                                  000019
   106 D  morekeys              24     24n                                                                                  000020
   107 D  pagedown              25     25n                                                                                  000021
   108 D  sflclr                30     30n                                                                                  000022
   109 D  sfldsp                31     31n                                                                                  000023
   110 D  sfldspctl             32     32n                                                                                  000024
   111 D  sflnxtchg             33     33n                                                                                  000025
   112 D  dspatrri              34     34n                                                                                  000026
   113 D  InvalidOpt            35     35n                                                                                  000027
   114 D  OneSelect             36     36n                                                                                  000028
   115 D  bydesc                40     40n                                                                                  000029
   116 D  InvalidOptC           41     41n                                                                                  000030
   117 D  NotAvail              42     42n                                                                                  000031
   118 D  sflend                80     80n                                                                                  000032
   119                                                                                                                      000033
   120 d  data           ds                  inz                                                                            000034
   121 d   arid                         6                                                                                   000035
   122 d   ardesc                      50                                                                                   000036
   123 d   artifa                       3                                                                                   000037
   124 d   arsalePr                     7  2                                                                                000038
   125                                                                                                                      000039
   126 D rrn01           s              5i 0                                                                                000040
   127                                                                                                                      000041
   128 d prp             c                   'prp'                                                                          000042
   129 d lod             c                   'lod'                                                                          000043
   130 d dsp             c                   'dsp'                                                                          000044
   131 d key             c                   'key'                                                                          000045
   132 d chk             c                   'chk'                                                                          000046
   133 d act             c                   'act'                                                                          000047
   134                                                                                                                      000048
   135                                                                                                                      000049
   136  *=============================================                                                                      000050
   137 P sltarticle      B                   export                                                                         000051
   138 D sltarticle      PI             6                                                                                   000052
   139 d pcod                           6    value                                                                          000053
   140                                                                                                                      000054
   141 d  savData        ds                  likeds(data)                                                                   000055
   142                                                                                                                      000056
   143 D dft             S                   like(arid      )                                                               000057
   144 D step01          S              3    inz(prp)                                                                       000058
   145 d in08            s               n                                                                                  000059
   146 d sts01           s               n                                                                                  000060
   147 D rrs01           s              5i 0                                                                                000061
   148 D teller          s              5i 0                                                                                000062
   149 D err01           s               n                                                                                  000063
   150 D slt01           s               n                                                                                  000064
   151 d savDesc         s             10                                                                                   000065
   152 d savFam          s                    like(artifa     )                                                             000066
   153 d stm             s            500     varying                                                                       000067
   154  /free                                                                                                               000068
   155   if not %open(art301d   );                                                                                          000069
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   156     open art301d    ;                                                                                                000070
   157   endif;                                                                                                             000071
   158   dft = pcod;                                                                                                        000072
   159   famdesc = '<F4> to select.';                                                                                       000073
   160   dow step01 <> ' ';                                                                                                 000074
   161     select ;                                                                                                         000075
   162     when step01 = prp ;                                                                                              000076
   163       exsr s01prp;                                                                                                   000077
   164     when step01 = lod ;                                                                                              000078
   165       exsr s01lod;                                                                                                   000079
   166     when step01 = dsp ;                                                                                              000080
   167       exsr s01dsp;                                                                                                   000081
   168     when step01 = key ;                                                                                              000082
   169       exsr s01key;                                                                                                   000083
   170     when step01 = chk ;                                                                                              000084
   171       exsr s01chk;                                                                                                   000085
   172     when step01 = act ;                                                                                              000086
   173       exsr s01act ;                                                                                                  000087
   174     endsl;                                                                                                           000088
   175   enddo;                                                                                                             000089
   176   exec sql close c1;                                                                                                 000090
   177   return dft;                                                                                                        000091
   178   //--- Clear Subfile  -----------------------------------------------------                                         000092
   179                                                                                                                      000093
   180   begsr s01prp;                                                                                                      000094
   181     RRS01 = 0;                                                                                                       000095
   182     sflclr = *on;                                                                                                    000096
   183     sfldsp = *off;                                                                                                   000097
   184     sfldspctl = *off;                                                                                                000098
   185     write CTL01;                                                                                                     000099
   186     sflclr = *off;                                                                                                   000100
   187     stm =  'SELECT arid, ardesc, artifa, arsalepr FROM article ';                                                    000101
   188     if srchDesc <> ' ' and srchFam <> ' ';                                                                           000102
   189       stm +=  ' WHERE artifa = ''' + srchfam +                                                                       000103
   190               ''' AND UPPER(arDesc) like ''%' + %trim(srchDesc) +                                                    000104
   191              '%'' ';                                                                                                 000105
   192     elseif srchDesc <> ' ' ;                                                                                         000106
   193       stm += ' WHERE UPPER(arDesc) like ''%' + %trim(srchDesc) +                                                     000107
   194              '%'' ';                                                                                                 000108
   195     elseif srchFam <> ' ';                                                                                           000109
   196       stm +=  ' WHERE artifa = ''' + srchfam + ''' ';                                                                000110
   197     endif;                                                                                                           000111
   198     stm += ' ORDER BY arDesc';                                                                                       000112
   199     SAVDesc = srchDesc;                                                                                              000113
   200     SAVFam  = srchFam ;                                                                                              000114
   201     Step01 = lod;                                                                                                    000115
   202     exec sql prepare s1 from :stm;                                                                                   000116
   203     exec sql declare C1 cursor for s1;                                                                               000117
   204     exec sql open c1;                                                                                                000118
   205     exec sql fetch c1 into :data;                                                                                    000119
   206     savData = data;                                                                                                  000120
   207   endsr;                                                                                                             000121
   208   //--- Load Subfile  -----------------------------------------------------                                          000122
   209   begsr S01lod;                                                                                                      000123
   210     RRN01 = RRS01;                                                                                                   000124
   211     Data = Savdata;                                                                                                  000125
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   212     RRB01 = RRS01 + 1;                                                                                               000126
   213     TELLER = 0;                                                                                                      000127
   214     OPT01 = 0;                                                                                                       000128
   215     SflNxtChg = *OFF;                                                                                                000129
   216     dow sqlcod = 0                                                                                                   000130
   217           and TELLER < 14;                                                                                           000131
   218       RRN01 = RRN01 + 1;                                                                                             000132
   219       TELLER = TELLER + 1;                                                                                           000133
   220       write SFL01;                                                                                                   000134
   221       exec sql fetch c1 into :data;                                                                                  000135
   222     enddo;                                                                                                           000136
   223     sflend = sqlcod <> 0;                                                                                            000137
   224     savData = data;                                                                                                  000138
   225     RRS01 = RRN01;                                                                                                   000139
   226     Step01 = dsp;                                                                                                    000140
   227   endsr;                                                                                                             000141
   228   //--- Display Subfile  --------------------------------------------------                                          000142
   229   begsr S01dsp;                                                                                                      000143
   230     sfldsp = rrs01 > 0;                                                                                              000144
   231     sfldspctl = *on;                                                                                                 000145
   232     write KEY01;                                                                                                     000146
   233     exfmt CTL01;                                                                                                     000147
   234     RRB01 = LRRN;                                                                                                    000148
   235     Step01 = key;                                                                                                    000149
   236   endsr;                                                                                                             000150
   237   //--- Command Keys  -----------------------------------------------------                                          000151
   238   begsr S01key;                                                                                                      000152
   239     select;                                                                                                          000153
   240     when exit;                                                                                                       000154
   241       step01 = ' ';                                                                                                  000155
   242     when cancel ;                                                                                                    000156
   243       Step01 = ' ';                                                                                                  000157
   244     when PageDown;                                                                                                   000158
   245       Step01 = lod;                                                                                                  000159
   246     when prompt;                                                                                                     000160
   247       srchfam = sltArtFam(SrchFam);                                                                                  000161
   248       famdesc = getArtFamDesc(SrchFam);                                                                              000162
   249       exec sql close c1;                                                                                             000163
   250       step01 = prp;                                                                                                  000164
   251     other;                                                                                                           000165
   252       Step01 = chk;                                                                                                  000166
   253     endsl;                                                                                                           000167
   254   endsr;                                                                                                             000168
   255   //--- Check Subfile  ----------------------------------------------------                                          000169
   256   begsr S01chk;                                                                                                      000170
   257     // SET FLAG SELECTION MADE OFF                                                                                   000171
   258     SLT01 = *OFF;                                                                                                    000172
   259     // SET FLAG OPTION  MADE OFF                                                                                     000173
   260     STS01 = *OFF;                                                                                                    000174
   261     // SET FLAG ERROR   MADE OFF                                                                                     000175
   262     ERR01 = *OFF;                                                                                                    000176
   263     Step01 = act;                                                                                                    000177
   264     readc(E) SFL01;                                                                                                  000178
   265     SflNxtChg = *ON;                                                                                                 000179
   266     dow not %error and not %eof;                                                                                     000180
   267       select;                                                                                                        000181
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   268       when OPT01 = 0;                                                                                                000182
   269         // NO ERROR                                                                                                  000183
   270       when OPT01 <>1;                                                                                                000184
   271         STS01 = *ON;                                                                                                 000185
   272         Step01 = dsp;                                                                                                000186
   273         dspatrRi = *on;                                                                                              000187
   274         InvalidOpt= *on;                                                                                             000188
   275         if ERR01 = *OFF;                                                                                             000189
   276           RRB01 = RRN01;                                                                                             000190
   277           ERR01 = *ON;                                                                                               000191
   278         endif;                                                                                                       000192
   279         //OPTION = 1 BUT SELECTION ALREADY MADE                                                                      000193
   280       when SLT01 = *ON;                                                                                              000194
   281         Step01 = dsp;                                                                                                000195
   282         dspatrRi = *on;                                                                                              000196
   283         OneSelect = *on;                                                                                             000197
   284         if ERR01 = *OFF;                                                                                             000198
   285           RRB01 = RRN01;                                                                                             000199
   286           ERR01 = *ON;                                                                                               000200
   287         endif;                                                                                                       000201
   288       other;                                                                                                         000202
   289         //OPTION = 1                                                                                                 000203
   290         SLT01 = *ON;                                                                                                 000204
   291         STS01 = *ON;                                                                                                 000205
   292       endsl;                                                                                                         000206
   293       update SFL01;                                                                                                  000207
   294       dspatrRi = *off;                                                                                               000208
   295       readc SFL01;                                                                                                   000209
   296     enddo;                                                                                                           000210
   297   endsr;                                                                                                             000211
   298   //--- Write Subfile  ----------------------------------------------------                                          000212
   299   begsr S01act;                                                                                                      000213
   300     Step01 = dsp;                                                                                                    000214
   301     select;                                                                                                          000215
   302     when savDesc <> srchDesc or savfam  <> srchfam ;                                                                 000216
   303       Step01 = prp;                                                                                                  000217
   304       exec sql close c1;                                                                                             000218
   305     other;                                                                                                           000219
   306       readc(E) SFL01;                                                                                                000220
   307       dow not %error and not %eof;                                                                                   000221
   308         if OPT01 = 1;                                                                                                000222
   309           exec sql close c1;                                                                                         000223
   310           return arid      ;                                                                                         000224
   311         endif;                                                                                                       000225
   312         readc SFL01;                                                                                                 000226
   313       enddo;                                                                                                         000227
   314     endsl;                                                                                                           000228
   315   endsr;                                                                                                             000229
   316  /end-free                                                                                                           000230
   317                                                                                                                      000231
   318 p sltarticle      e                                                                                                  000232
   319                                                                                                                      000233
   320                                                                                                                      000234
       * * * * *   E N D   O F   S O U R C E   * * * * *
                            / C o p y   M e m b e r s
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      8
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
    10    1 article.r+ ./qprotosrc/article.rpgleinc       819  07/11/22 15:00:59
    72    2 familly.r+ ./qprotosrc/familly.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page      9
Line   <---------------------- Data Records -------------------------------------------------------------->      Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Id  Number
                       C o m p i l e   T i m e   D a t a
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page     10
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ART301              BENOIT     07/11/22 16:42:50        Page     11
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        0
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        0
  Source Totals:
    Records . . . . . . . . . . . . :      320
    Specifications  . . . . . . . . :      235
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       64
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Diagnostic check of source is complete. Highest severity is 00.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     1
Source type...............RPG
Object name...............TEST/ART301
Source file...............QTEMP/QSQLPRE
Member....................*OBJ
To source file............QTEMP/QSQLTEMP1
Options...................*LSTDBG
RPG preprocessor options..*LVL2
Listing option............*PRINT
Target release............V7R3M0
INCLUDE file..............*LIBL/QRPGLESRC
Commit....................*NONE
Allow copy of data........*OPTIMIZE
Close SQL cursor..........*ENDACTGRP
Allow blocking............*ALLREAD
Delay PREPARE.............*NO
Concurrent access
  resolution..............*DFT
Generation level..........10
Printer file..............*LIBL/QSYSPRT
Date format...............*JOB
Date separator............*JOB
Time format...............*HMS
Time separator ...........*JOB
Replace...................*YES
Relational database.......*LOCAL
User .....................*CURRENT
RDB connect method........*DUW
Default collection........*NONE
Dynamic default
  collection..............*NO
Package name..............*OBJLIB/*OBJ
Path......................*NAMING
SQL rules.................*DB2
Created object type.......*MODULE
Debugging view............*SOURCE
Debugging encryption key..*NONE
User profile .............*NAMING
Dynamic user profile......*USER
Sort sequence.............*JOB
Language ID...............*JOB
IBM SQL flagging..........*NOFLAG
ANS flagging..............*NONE
Text......................
Source file CCSID.........297
Job CCSID.................37
Decimal result options:
  Maximum precision.......31
  Maximum scale...........31
  Minimum divide scale....0
DECFLOAT rounding mode....*HALFEVEN
Compiler options..........TGTCCSID(297)
Source member changed on 07/11/22  16:42:50
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     2
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
    1        h nomain                                                                      000001   07/11/22
    2                                                                                      000002   07/11/22
    3        Fart301d   CF   E             WORKSTN                                         000003   07/11/22
    4        F                                     INFDS(INFO)                             000004   07/11/22
    5        F                                     SFILE(SFL01:RRN01)                      000005   07/11/22
    6        F                                     indds(indds)                            000006   07/11/22
    7        D INFO            DS                                                          000007   07/11/22
    8        D  LRRN                 378    379B 0                                         000008   07/11/22
    9                                                                                      000009   07/11/22
   10         * /copy qprotosrc/article                                                    000010   07/11/22
   11         *=============================================                               000001   07/11/22
   12         * Get ARTICLE DESCRPTION                                                     000002   07/11/22
   13         *=============================================                               000003   07/11/22
   14        DGetArtDesc       PR            50A                                           000004   07/11/22
   15        D ARID                           6A    value                                  000005   07/11/22
   16         *=============================================                               000006   07/11/22
   17         * Get REF SALE PRICE                                                         000007   07/11/22
   18         *=============================================                               000008   07/11/22
   19        DGetArtRefSalPrice...                                                         000009   07/11/22
   20        D                 pr             7P 2                                         000010   07/11/22
   21        D ARID                           6A    value                                  000011   07/11/22
   22         *=============================================                               000012   07/11/22
   23         * Get STOCK PRICE                                                            000013   07/11/22
   24         *=============================================                               000014   07/11/22
   25        DGetArtStockPrice...                                                          000015   07/11/22
   26        D                 PR             7P 2                                         000016   07/11/22
   27        D ARID                           6A    value                                  000017   07/11/22
   28         *=============================================                               000018   07/11/22
   29         * Get FAMILLY ID                                                             000019   07/11/22
   30         *=============================================                               000020   07/11/22
   31        DGetArtFam        PR             3A                                           000021   07/11/22
   32        D ARID                           6A    value                                  000022   07/11/22
   33         *=============================================                               000023   07/11/22
   34         * Get STOCK                                                                  000024   07/11/22
   35         *=============================================                               000025   07/11/22
   36        DGetArtStock      PR             5P 0                                         000026   07/11/22
   37        D ARID                           6A    value                                  000027   07/11/22
   38         *=============================================                               000028   07/11/22
   39         * Get MINIMUM STOCK                                                          000029   07/11/22
   40         *=============================================                               000030   07/11/22
   41        DGetArtMinStock   PR             5P 0                                         000031   07/11/22
   42        D ARID                           6A    value                                  000032   07/11/22
   43         *=============================================                               000033   07/11/22
   44         * Get VAT code                                                               000034   07/11/22
   45         *=============================================                               000035   07/11/22
   46        DGetArtVatCode    Pr             1A                                           000036   07/11/22
   47        D P_ARID                         6A    value                                  000037   07/11/22
   48         *=============================================                               000038   07/11/22
   49         * Check if article exist                                                     000039   07/11/22
   50         *=============================================                               000040   07/11/22
   51        D ExistArt        PR              n                                           000041   07/11/22
   52        D ARID                           6A    value                                  000042   07/11/22
   53         *=============================================                               000043   07/11/22
   54         * Get DELETE CODE X=DELETED                                                  000044   07/11/22
   55         *=============================================                               000045   07/11/22
   56        DIsArtDeleted     PR              n                                           000046   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     3
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
   57        D ARID                           6A    value                                  000047   07/11/22
   58         *=============================================                               000048   07/11/22
   59         * Select an article                                                          000049   07/11/22
   60         *=============================================                               000050   07/11/22
   61        D SltArticle      PR             6                                            000051   07/11/22
   62        D ARID                           6A    value                                  000052   07/11/22
   63         *=============================================                               000053   07/11/22
   64         * Get ARTICLE Info                                                           000054   07/11/22
   65         *=============================================                               000055   07/11/22
   66        DGetArtInfo       PR          1520A                                           000056   07/11/22
   67        D ARID                           6A    value                                  000057   07/11/22
   68         *=============================================                               000058   07/11/22
   69         * Close ARTICLE1                                                             000059   07/11/22
   70         *=============================================                               000060   07/11/22
   71        D CloseARTICLE1   PR                                                          000061   07/11/22
   72         * /copy qprotosrc/familly                                                    000011   07/11/22
   73         *=============================================                               000001   07/11/22
   74         * Get FAMILLY DESCRIPTION                                                    000002   07/11/22
   75         *=============================================                               000003   07/11/22
   76        DGetArtFamDesc    PR            50                                            000004   07/11/22
   77        D FAID                           3     value                                  000005   07/11/22
   78         *=============================================                               000006   07/11/22
   79         * Ckeck if familly exist                                                     000007   07/11/22
   80         *=============================================                               000008   07/11/22
   81        D ExistArtFam     PR              n                                           000009   07/11/22
   82        D P_FAID                         3     value                                  000010   07/11/22
   83         *=============================================                               000011   07/11/22
   84         * Get DELETE CODE X=DELETED                                                  000012   07/11/22
   85         *=============================================                               000013   07/11/22
   86        DIsArtFamDeleted  PR              n                                           000014   07/11/22
   87        D FAID                           3     value                                  000015   07/11/22
   88         *=============================================                               000016   07/11/22
   89         * Close FAMILLY                                                              000017   07/11/22
   90         *=============================================                               000018   07/11/22
   91        D CloseFAMILLY    PR                                                          000019   07/11/22
   92         *=============================================                               000020   07/11/22
   93         * Select a Failly code                                                       000021   07/11/22
   94         *=============================================                               000022   07/11/22
   95        d SltArtFam       pr             3                                            000023   07/11/22
   96        d pcod                           3                                            000024   07/11/22
   97                                                                                      000025   07/11/22
   98                                                                                      000012   07/11/22
   99        D indds           ds                                                          000013   07/11/22
  100        D  help                   1      1n                                           000014   07/11/22
  101        D  exit                   3      3n                                           000015   07/11/22
  102        D  prompt                 4      4n                                           000016   07/11/22
  103        D  refresh                5      5n                                           000017   07/11/22
  104        D  create                 6      6n                                           000018   07/11/22
  105        D  cancel                12     12n                                           000019   07/11/22
  106        D  morekeys              24     24n                                           000020   07/11/22
  107        D  pagedown              25     25n                                           000021   07/11/22
  108        D  sflclr                30     30n                                           000022   07/11/22
  109        D  sfldsp                31     31n                                           000023   07/11/22
  110        D  sfldspctl             32     32n                                           000024   07/11/22
  111        D  sflnxtchg             33     33n                                           000025   07/11/22
  112        D  dspatrri              34     34n                                           000026   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     4
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  113        D  InvalidOpt            35     35n                                           000027   07/11/22
  114        D  OneSelect             36     36n                                           000028   07/11/22
  115        D  bydesc                40     40n                                           000029   07/11/22
  116        D  InvalidOptC           41     41n                                           000030   07/11/22
  117        D  NotAvail              42     42n                                           000031   07/11/22
  118        D  sflend                80     80n                                           000032   07/11/22
  119                                                                                      000033   07/11/22
  120        d  data           ds                  inz                                     000034   07/11/22
  121        d   arid                         6                                            000035   07/11/22
  122        d   ardesc                      50                                            000036   07/11/22
  123        d   artifa                       3                                            000037   07/11/22
  124        d   arsalePr                     7  2                                         000038   07/11/22
  125                                                                                      000039   07/11/22
  126        D rrn01           s              5i 0                                         000040   07/11/22
  127                                                                                      000041   07/11/22
  128        d prp             c                   'prp'                                   000042   07/11/22
  129        d lod             c                   'lod'                                   000043   07/11/22
  130        d dsp             c                   'dsp'                                   000044   07/11/22
  131        d key             c                   'key'                                   000045   07/11/22
  132        d chk             c                   'chk'                                   000046   07/11/22
  133        d act             c                   'act'                                   000047   07/11/22
  134                                                                                      000048   07/11/22
  135                                                                                      000049   07/11/22
  136         *=============================================                               000050   07/11/22
  137        P sltarticle      B                   export                                  000051   07/11/22
  138        D sltarticle      PI             6                                            000052   07/11/22
  139        d pcod                           6    value                                   000053   07/11/22
  140                                                                                      000054   07/11/22
  141        d  savData        ds                  likeds(data)                            000055   07/11/22
  142                                                                                      000056   07/11/22
  143        D dft             S                   like(arid      )                        000057   07/11/22
  144        D step01          S              3    inz(prp)                                000058   07/11/22
  145        d in08            s               n                                           000059   07/11/22
  146        d sts01           s               n                                           000060   07/11/22
  147        D rrs01           s              5i 0                                         000061   07/11/22
  148        D teller          s              5i 0                                         000062   07/11/22
  149        D err01           s               n                                           000063   07/11/22
  150        D slt01           s               n                                           000064   07/11/22
  151        d savDesc         s             10                                            000065   07/11/22
  152        d savFam          s                    like(artifa     )                      000066   07/11/22
  153        d stm             s            500     varying                                000067   07/11/22
  154         /free                                                                        000068   07/11/22
  155          if not %open(art301d   );                                                   000069   07/11/22
  156            open art301d    ;                                                         000070   07/11/22
  157          endif;                                                                      000071   07/11/22
  158          dft = pcod;                                                                 000072   07/11/22
  159          famdesc = '<F4> to select.';                                                000073   07/11/22
  160          dow step01 <> ' ';                                                          000074   07/11/22
  161            select ;                                                                  000075   07/11/22
  162            when step01 = prp ;                                                       000076   07/11/22
  163              exsr s01prp;                                                            000077   07/11/22
  164            when step01 = lod ;                                                       000078   07/11/22
  165              exsr s01lod;                                                            000079   07/11/22
  166            when step01 = dsp ;                                                       000080   07/11/22
  167              exsr s01dsp;                                                            000081   07/11/22
  168            when step01 = key ;                                                       000082   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     5
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  169              exsr s01key;                                                            000083   07/11/22
  170            when step01 = chk ;                                                       000084   07/11/22
  171              exsr s01chk;                                                            000085   07/11/22
  172            when step01 = act ;                                                       000086   07/11/22
  173              exsr s01act ;                                                           000087   07/11/22
  174            endsl;                                                                    000088   07/11/22
  175          enddo;                                                                      000089   07/11/22
  176          exec sql close c1;                                                          000090   07/11/22
  177          return dft;                                                                 000091   07/11/22
  178          //--- Clear Subfile  ----------------------------------------------------   000092   07/11/22   -
  179                                                                                      000093   07/11/22
  180          begsr s01prp;                                                               000094   07/11/22
  181            RRS01 = 0;                                                                000095   07/11/22
  182            sflclr = *on;                                                             000096   07/11/22
  183            sfldsp = *off;                                                            000097   07/11/22
  184            sfldspctl = *off;                                                         000098   07/11/22
  185            write CTL01;                                                              000099   07/11/22
  186            sflclr = *off;                                                            000100   07/11/22
  187            stm =  'SELECT arid, ardesc, artifa, arsalepr FROM article ';             000101   07/11/22
  188            if srchDesc <> ' ' and srchFam <> ' ';                                    000102   07/11/22
  189              stm +=  ' WHERE artifa = ''' + srchfam +                                000103   07/11/22
  190                      ''' AND UPPER(arDesc) like ''%' + %trim(srchDesc) +             000104   07/11/22
  191                     '%'' ';                                                          000105   07/11/22
  192            elseif srchDesc <> ' ' ;                                                  000106   07/11/22
  193              stm += ' WHERE UPPER(arDesc) like ''%' + %trim(srchDesc) +              000107   07/11/22
  194                     '%'' ';                                                          000108   07/11/22
  195            elseif srchFam <> ' ';                                                    000109   07/11/22
  196              stm +=  ' WHERE artifa = ''' + srchfam + ''' ';                         000110   07/11/22
  197            endif;                                                                    000111   07/11/22
  198            stm += ' ORDER BY arDesc';                                                000112   07/11/22
  199            SAVDesc = srchDesc;                                                       000113   07/11/22
  200            SAVFam  = srchFam ;                                                       000114   07/11/22
  201            Step01 = lod;                                                             000115   07/11/22
  202            exec sql prepare s1 from :stm;                                            000116   07/11/22
  203            exec sql declare C1 cursor for s1;                                        000117   07/11/22
  204            exec sql open c1;                                                         000118   07/11/22
  205            exec sql fetch c1 into :data;                                             000119   07/11/22
  206            savData = data;                                                           000120   07/11/22
  207          endsr;                                                                      000121   07/11/22
  208          //--- Load Subfile  -----------------------------------------------------   000122   07/11/22
  209          begsr S01lod;                                                               000123   07/11/22
  210            RRN01 = RRS01;                                                            000124   07/11/22
  211            Data = Savdata;                                                           000125   07/11/22
  212            RRB01 = RRS01 + 1;                                                        000126   07/11/22
  213            TELLER = 0;                                                               000127   07/11/22
  214            OPT01 = 0;                                                                000128   07/11/22
  215            SflNxtChg = *OFF;                                                         000129   07/11/22
  216            dow sqlcod = 0                                                            000130   07/11/22
  217                  and TELLER < 14;                                                    000131   07/11/22
  218              RRN01 = RRN01 + 1;                                                      000132   07/11/22
  219              TELLER = TELLER + 1;                                                    000133   07/11/22
  220              write SFL01;                                                            000134   07/11/22
  221              exec sql fetch c1 into :data;                                           000135   07/11/22
  222            enddo;                                                                    000136   07/11/22
  223            sflend = sqlcod <> 0;                                                     000137   07/11/22
  224            savData = data;                                                           000138   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     6
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  225            RRS01 = RRN01;                                                            000139   07/11/22
  226            Step01 = dsp;                                                             000140   07/11/22
  227          endsr;                                                                      000141   07/11/22
  228          //--- Display Subfile  --------------------------------------------------   000142   07/11/22
  229          begsr S01dsp;                                                               000143   07/11/22
  230            sfldsp = rrs01 > 0;                                                       000144   07/11/22
  231            sfldspctl = *on;                                                          000145   07/11/22
  232            write KEY01;                                                              000146   07/11/22
  233            exfmt CTL01;                                                              000147   07/11/22
  234            RRB01 = LRRN;                                                             000148   07/11/22
  235            Step01 = key;                                                             000149   07/11/22
  236          endsr;                                                                      000150   07/11/22
  237          //--- Command Keys  -----------------------------------------------------   000151   07/11/22
  238          begsr S01key;                                                               000152   07/11/22
  239            select;                                                                   000153   07/11/22
  240            when exit;                                                                000154   07/11/22
  241              step01 = ' ';                                                           000155   07/11/22
  242            when cancel ;                                                             000156   07/11/22
  243              Step01 = ' ';                                                           000157   07/11/22
  244            when PageDown;                                                            000158   07/11/22
  245              Step01 = lod;                                                           000159   07/11/22
  246            when prompt;                                                              000160   07/11/22
  247              srchfam = sltArtFam(SrchFam);                                           000161   07/11/22
  248              famdesc = getArtFamDesc(SrchFam);                                       000162   07/11/22
  249              exec sql close c1;                                                      000163   07/11/22
  250              step01 = prp;                                                           000164   07/11/22
  251            other;                                                                    000165   07/11/22
  252              Step01 = chk;                                                           000166   07/11/22
  253            endsl;                                                                    000167   07/11/22
  254          endsr;                                                                      000168   07/11/22
  255          //--- Check Subfile  ----------------------------------------------------   000169   07/11/22
  256          begsr S01chk;                                                               000170   07/11/22
  257            // SET FLAG SELECTION MADE OFF                                            000171   07/11/22
  258            SLT01 = *OFF;                                                             000172   07/11/22
  259            // SET FLAG OPTION  MADE OFF                                              000173   07/11/22
  260            STS01 = *OFF;                                                             000174   07/11/22
  261            // SET FLAG ERROR   MADE OFF                                              000175   07/11/22
  262            ERR01 = *OFF;                                                             000176   07/11/22
  263            Step01 = act;                                                             000177   07/11/22
  264            readc(E) SFL01;                                                           000178   07/11/22
  265            SflNxtChg = *ON;                                                          000179   07/11/22
  266            dow not %error and not %eof;                                              000180   07/11/22
  267              select;                                                                 000181   07/11/22
  268              when OPT01 = 0;                                                         000182   07/11/22
  269                // NO ERROR                                                           000183   07/11/22
  270              when OPT01 <>1;                                                         000184   07/11/22
  271                STS01 = *ON;                                                          000185   07/11/22
  272                Step01 = dsp;                                                         000186   07/11/22
  273                dspatrRi = *on;                                                       000187   07/11/22
  274                InvalidOpt= *on;                                                      000188   07/11/22
  275                if ERR01 = *OFF;                                                      000189   07/11/22
  276                  RRB01 = RRN01;                                                      000190   07/11/22
  277                  ERR01 = *ON;                                                        000191   07/11/22
  278                endif;                                                                000192   07/11/22
  279                //OPTION = 1 BUT SELECTION ALREADY MADE                               000193   07/11/22
  280              when SLT01 = *ON;                                                       000194   07/11/22
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     7
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
  281                Step01 = dsp;                                                         000195   07/11/22
  282                dspatrRi = *on;                                                       000196   07/11/22
  283                OneSelect = *on;                                                      000197   07/11/22
  284                if ERR01 = *OFF;                                                      000198   07/11/22
  285                  RRB01 = RRN01;                                                      000199   07/11/22
  286                  ERR01 = *ON;                                                        000200   07/11/22
  287                endif;                                                                000201   07/11/22
  288              other;                                                                  000202   07/11/22
  289                //OPTION = 1                                                          000203   07/11/22
  290                SLT01 = *ON;                                                          000204   07/11/22
  291                STS01 = *ON;                                                          000205   07/11/22
  292              endsl;                                                                  000206   07/11/22
  293              update SFL01;                                                           000207   07/11/22
  294              dspatrRi = *off;                                                        000208   07/11/22
  295              readc SFL01;                                                            000209   07/11/22
  296            enddo;                                                                    000210   07/11/22
  297          endsr;                                                                      000211   07/11/22
  298          //--- Write Subfile  ----------------------------------------------------   000212   07/11/22
  299          begsr S01act;                                                               000213   07/11/22
  300            Step01 = dsp;                                                             000214   07/11/22
  301            select;                                                                   000215   07/11/22
  302            when savDesc <> srchDesc or savfam  <> srchfam ;                          000216   07/11/22
  303              Step01 = prp;                                                           000217   07/11/22
  304              exec sql close c1;                                                      000218   07/11/22
  305            other;                                                                    000219   07/11/22
  306              readc(E) SFL01;                                                         000220   07/11/22
  307              dow not %error and not %eof;                                            000221   07/11/22
  308                if OPT01 = 1;                                                         000222   07/11/22
  309                  exec sql close c1;                                                  000223   07/11/22
  310                  return arid      ;                                                  000224   07/11/22
  311                endif;                                                                000225   07/11/22
  312                readc SFL01;                                                          000226   07/11/22
  313              enddo;                                                                  000227   07/11/22
  314            endsl;                                                                    000228   07/11/22
  315          endsr;                                                                      000229   07/11/22
  316         /end-free                                                                    000230   07/11/22
  317                                                                                      000231   07/11/22
  318        p sltarticle      e                                                           000232   07/11/22
  319                                                                                      000233   07/11/22
  320                                                                                      000234   07/11/22
                                * * * * *  E N D  O F  S O U R C E  * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     8
                                               CROSS REFERENCE
Data Names                    Define    Reference
ACT                              133      CHARACTER(3) CONSTANT
ARDESC                           122      CHARACTER(50) IN DATA
ARDESC                           141      CHARACTER(50) IN SAVDATA IN RPG PROCEDURE SLTARTICLE
ARID                             121      CHARACTER(6) IN DATA
ARID                             141      CHARACTER(6) IN SAVDATA IN RPG PROCEDURE SLTARTICLE
ARSALEPR                         124      NUMERIC(7,2) IN DATA
ARSALEPR                         141      NUMERIC(7,2) IN SAVDATA IN RPG PROCEDURE SLTARTICLE
ARTIFA                           123      CHARACTER(3) IN DATA
ARTIFA                           141      CHARACTER(3) IN SAVDATA IN RPG PROCEDURE SLTARTICLE
BYDESC                           115      CHARACTER(1) IN INDDS
CANCEL                           105      CHARACTER(1) IN INDDS
CHK                              132      CHARACTER(3) CONSTANT
CLOSEARTICLE1                    71
CLOSEFAMILLY                     91
CREATE                           104      CHARACTER(1) IN INDDS
C1                               203      CURSOR FOR S1
                                          176 204 205 221 249 304 309
DATA                             120      STRUCTURE
                                          205 221
DFT                              143      CHARACTER(6) IN RPG PROCEDURE SLTARTICLE
DSP                              130      CHARACTER(3) CONSTANT
DSPATRRI                         112      CHARACTER(1) IN INDDS
ERR01                            149      CHARACTER(1) IN RPG PROCEDURE SLTARTICLE
EXISTART                         51       CHARACTER(1)
EXISTARTFAM                      81       CHARACTER(1)
EXIT                             101      CHARACTER(1) IN INDDS
GETARTDESC                       14       CHARACTER(50)
GETARTFAM                        31       CHARACTER(3)
GETARTFAMDESC                    76       CHARACTER(50)
GETARTINFO                       66       CHARACTER(1520)
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page     9
                                               CROSS REFERENCE
GETARTMINSTOCK                   41       DECIMAL(5,0)
GETARTREFSALPRICE                19       DECIMAL(7,2)
GETARTSTOCK                      36       DECIMAL(5,0)
GETARTSTOCKPRICE                 25       DECIMAL(7,2)
GETARTVATCODE                    46       CHARACTER(1)
HELP                             100      CHARACTER(1) IN INDDS
INDDS                            99       STRUCTURE
INFO                             7        STRUCTURE
INVALIDOPT                       113      CHARACTER(1) IN INDDS
INVALIDOPTC                      116      CHARACTER(1) IN INDDS
IN08                             145      CHARACTER(1) IN RPG PROCEDURE SLTARTICLE
ISARTDELETED                     56       CHARACTER(1)
ISARTFAMDELETED                  86       CHARACTER(1)
KEY                              131      CHARACTER(3) CONSTANT
LOD                              129      CHARACTER(3) CONSTANT
LRRN                             8        SMALL INTEGER PRECISION(4,0) IN INFO
MOREKEYS                         106      CHARACTER(1) IN INDDS
NOTAVAIL                         117      CHARACTER(1) IN INDDS
ONESELECT                        114      CHARACTER(1) IN INDDS
PAGEDOWN                         107      CHARACTER(1) IN INDDS
PCOD                             139      CHARACTER(6) IN RPG PROCEDURE SLTARTICLE
PROMPT                           102      CHARACTER(1) IN INDDS
PRP                              128      CHARACTER(3) CONSTANT
REFRESH                          103      CHARACTER(1) IN INDDS
RRN01                            126      SMALL INTEGER PRECISION(4,0)
RRS01                            147      SMALL INTEGER PRECISION(4,0) IN RPG PROCEDURE SLTARTICLE
SAVDATA                          141      STRUCTURE IN RPG PROCEDURE SLTARTICLE
SAVDESC                          151      CHARACTER(10) IN RPG PROCEDURE SLTARTICLE
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page    10
                                               CROSS REFERENCE
SAVFAM                           152      CHARACTER(3) IN RPG PROCEDURE SLTARTICLE
SFLCLR                           108      CHARACTER(1) IN INDDS
SFLDSP                           109      CHARACTER(1) IN INDDS
SFLDSPCTL                        110      CHARACTER(1) IN INDDS
SFLEND                           118      CHARACTER(1) IN INDDS
SFLNXTCHG                        111      CHARACTER(1) IN INDDS
SLTARTFAM                        95       CHARACTER(3)
SLTARTICLE                       137      RPG PROCEDURE
SLTARTICLE                       61       CHARACTER(6)
SLT01                            150      CHARACTER(1) IN RPG PROCEDURE SLTARTICLE
STEP01                           144      CHARACTER(3) IN RPG PROCEDURE SLTARTICLE
STM                              153      VARCHAR(500) IN RPG PROCEDURE SLTARTICLE
                                          202
STS01                            146      CHARACTER(1) IN RPG PROCEDURE SLTARTICLE
S1                               ****     STATEMENT
                                          202 203
TELLER                           148      SMALL INTEGER PRECISION(4,0) IN RPG PROCEDURE SLTARTICLE
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ART301                      07/11/22 16:42:50          Page    11
                                             DIAGNOSTIC MESSAGES
MSG ID  SEV  RECORD  TEXT
SQL1001  30       3  External file definition for ART301D not found.
                    Message Summary
  Total     Info   Warning      Error   Severe  Terminal
      1        0         0          0        1         0
30 level severity errors found in source
  320 Source records processed
                               * * * * *  E N D  O F  L I S T I N G  * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/ORD900) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/ORD900.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.51.796161000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module ORD900 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD900              BENOIT     07/11/22 16:42:51        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   ORD900
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/ORD90
                                       0.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD900              BENOIT     07/11/22 16:42:51        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 forder1    if   e           k disk                                                                                   000001
======> aaaaaa
*RNF2120 40 a      000001  External descriptions for file ORDER1 not found; file is
                           ignored.
     2 d next            s              6s 0 DTAARA('LASTORDNO')                                                            000002
     3 c     *hival        setgt     order1                                                                                 000003
     4 c                   readp     order1                                                                                 000004
     5 c     *lock         in        next                                                                                   000005
     6 c                   z-add     orid          next                                                                     000006
     7 c                   out       next                                                                                   000007
     8 c                   seton                                        lr----                                              000008
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD900              BENOIT     07/11/22 16:42:51        Page      3
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30      6 000006  The name or indicator ORID is not defined.
*RNF7044 30      6 000006  The field ORID on the C specification is not numeric; the
                           specification is ignored.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD900              BENOIT     07/11/22 16:42:51        Page      4
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         ORDER1            DISK                    1D      3       4
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         NEXT              S(6,0)                  2D      5       6M      7
*RNF7030 ORID              **UNDEF**               6
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
         LR                                        8D
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD900              BENOIT     07/11/22 16:42:51        Page      5
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         No references in the source.
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD900              BENOIT     07/11/22 16:42:51        Page      6
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7030 30      1 The name or indicator is not defined.
*RNF7044 30      1 The field on the C specification is not numeric; the
                   specification is ignored.
*RNF2120 40      1 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD900              BENOIT     07/11/22 16:42:51        Page      7
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        3
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        3
  Source Totals:
    Records . . . . . . . . . . . . :        8
    Specifications  . . . . . . . . :        8
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :        0
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/PRO300) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/PRO300.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.52.891315000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module PRO300 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   PRO300
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/PRO30
                                       0.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 FPROVIDE1  if   e           k disk    usropn                                                                         000003
     4                                                                                                                      000004
     5  /copy qprotosrc/PROVIDER                                                                                            000005
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  PROVIDER.+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/PROVIDER.rpgleinc                                *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
     6+ *=============================================                                                                     1000001
     7+ * Get PROVIDER NAME                                                                                                1000002
     8+ *=============================================                                                                     1000003
*RNF2120 40      3 000003  External descriptions for file PROVIDE1 not found; file is
                           ignored.
     9+DGetProName       PR            30A                                                                                 1000004
    10+D PRID                           5P 0  value                                                                        1000005
    11+ *=============================================                                                                     1000006
    12+ * Get CONTACT PERSON                                                                                               1000007
    13+ *=============================================                                                                     1000008
    14+DGetProCONT       PR            30A                                                                                 1000009
    15+D PRID                           5P 0  value                                                                        1000010
    16+ *=============================================                                                                     1000011
    17+ * Get PHONE NUMBER                                                                                                 1000012
    18+ *=============================================                                                                     1000013
    19+DGetProPHONE      PR            15A                                                                                 1000014
    20+D PRID                           5P 0  value                                                                        1000015
    21+ *=============================================                                                                     1000016
    22+ * Get VAT NUMBER                                                                                                   1000017
    23+ *=============================================                                                                     1000018
    24+DGetProVAT        PR            12A                                                                                 1000019
    25+D PRID                           5P 0  value                                                                        1000020
    26+ *=============================================                                                                     1000021
    27+ * Get ADDRESS MAIL                                                                                                 1000022
    28+ *=============================================                                                                     1000023
    29+DGetProMAIL       PR            50A                                                                                 1000024
    30+D PRID                           5P 0  value                                                                        1000025
    31+ *=============================================                                                                     1000026
    32+ * Get ADDRESS LINE                                                                                                 1000027
    33+ *=============================================                                                                     1000028
    34+DGetProAdr1       PR            50A                                                                                 1000029
    35+D PRID                           5P 0  value                                                                        1000030
    36+ *=============================================                                                                     1000031
    37+ * Get ADDRESS LINE                                                                                                 1000032
    38+ *=============================================                                                                     1000033
    39+DGetProAdr2       PR            50A                                                                                 1000034
    40+D PRID                           5P 0  value                                                                        1000035
    41+ *=============================================                                                                     1000036
    42+ * Get ADDRESS LINE                                                                                                 1000037
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    43+ *=============================================                                                                     1000038
    44+DGetProAdr3       PR            50A                                                                                 1000039
    45+D PRID                           5P 0  value                                                                        1000040
    46+ *=============================================                                                                     1000041
    47+ * Get ZIP CODE                                                                                                     1000042
    48+ *=============================================                                                                     1000043
    49+DGetProZip        PR            10A                                                                                 1000044
    50+D PRID                           5P 0  value                                                                        1000045
    51+ *=============================================                                                                     1000046
    52+ * Get CITY                                                                                                         1000047
    53+ *=============================================                                                                     1000048
    54+DGetProCity       PR            30A                                                                                 1000049
    55+D PRID                           5P 0  value                                                                        1000050
    56+ *=============================================                                                                     1000051
    57+ * Get COUNTRY CODE                                                                                                 1000052
    58+ *=============================================                                                                     1000053
    59+DGetProCountry    PR             2A                                                                                 1000054
    60+D PRID                           5P 0  value                                                                        1000055
    61+ *=============================================                                                                     1000056
    62+ * Get DELETE CODE X=DELETED                                                                                        1000057
    63+ *=============================================                                                                     1000058
    64+DIsProDeleted     PR              n                                                                                 1000059
    65+D PRID                           5P 0  value                                                                        1000060
    66+ *=============================================                                                                     1000061
    67+ * Check if provider exist                                                                                          1000062
    68+ *=============================================                                                                     1000063
    69+D ExistProvider   PR              n                                                                                 1000064
    70+D PRID                           5P 0  value                                                                        1000065
    71+ *=============================================                                                                     1000066
    72+ * Close PROVIDE1                                                                                                   1000067
    73+ *=============================================                                                                     1000068
    74+D ClosePROVIDE1   PR                                                                                                1000069
    75                                                                                                                      000006
    76 d chainPROVIDE1   pr                                                                                                 000007
    77 D P_PRID                         5P 0  value                                                                         000008
    78                                                                                                                      000009
    79 D K_PRID          S                   LIKE(PRID)                                                                     000010
    80                                                                                                                      000011
    81 C     kf            klist                                                                                            000012
    82 C                   KFLD                    K_PRID                                                                   000013
    83                                                                                                                      000014
    84  *=============================================                                                                      000015
    85 PGetProName       B                     export                                                                       000016
    86 DGetProName       PI                  like(provnm)                                                                   000017
    87 D P_PRID                         5P 0  value                                                                         000018
    88  /free                                                                                                               000019
    89     chainPROVIDE1(P_PRID                                                                                             000020
    90           );                                                                                                         000021
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    91     return PROVNM;                                                                                                   000022
    92  /end-free                                                                                                           000023
    93 pGetProName       e                                                                                                  000024
    94  *=============================================                                                                      000025
    95 PGetProCONT       B                     export                                                                       000026
    96 DGetProCONT       PI                  like(prcont)                                                                   000027
    97 D P_PRID                         5P 0  value                                                                         000028
    98  /free                                                                                                               000029
    99     chainPROVIDE1(P_PRID                                                                                             000030
   100           );                                                                                                         000031
   101     return PRCONT;                                                                                                   000032
   102  /end-free                                                                                                           000033
   103 pGetProCONT       e                                                                                                  000034
   104  *=============================================                                                                      000035
   105 PGetProPHONE      B                     export                                                                       000036
   106 DGetProPHONE      PI                  like(prphone)                                                                  000037
   107 D P_PRID                         5P 0  value                                                                         000038
   108  /free                                                                                                               000039
   109     chainPROVIDE1(P_PRID                                                                                             000040
   110           );                                                                                                         000041
   111     return PRPHONE;                                                                                                  000042
   112  /end-free                                                                                                           000043
   113 pGetProPHONE      e                                                                                                  000044
   114  *=============================================                                                                      000045
   115 PGetProVAT        B                     export                                                                       000046
   116 DGetProVAT        PI                  like(prvat)                                                                    000047
   117 D P_PRID                         5P 0  value                                                                         000048
   118  /free                                                                                                               000049
   119     chainPROVIDE1(P_PRID                                                                                             000050
   120           );                                                                                                         000051
   121     return PRVAT;                                                                                                    000052
   122  /end-free                                                                                                           000053
   123 pGetProVAT        e                                                                                                  000054
   124  *=============================================                                                                      000055
   125 PGetProMAIL       B                     export                                                                       000056
   126 DGetProMAIL       PI                  like(prmail)                                                                   000057
   127 D P_PRID                         5P 0  value                                                                         000058
   128  /free                                                                                                               000059
   129     chainPROVIDE1(P_PRID                                                                                             000060
   130           );                                                                                                         000061
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      5
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   131     return PRMAIL;                                                                                                   000062
   132  /end-free                                                                                                           000063
   133 pGetProMAIL       e                                                                                                  000064
   134  *=============================================                                                                      000065
   135 PGetProAdr1       B                     export                                                                       000066
   136 DGetProAdr1       PI                  like(prline1)                                                                  000067
   137 D P_PRID                         5P 0  value                                                                         000068
   138  /free                                                                                                               000069
   139     chainPROVIDE1(P_PRID                                                                                             000070
   140           );                                                                                                         000071
   141     return PRLINE1;                                                                                                  000072
   142  /end-free                                                                                                           000073
   143 pGetProAdr1       e                                                                                                  000074
   144  *=============================================                                                                      000075
   145 PGetProAdr2       B                     export                                                                       000076
   146 DGetProAdr2       PI                  like(prline2)                                                                  000077
   147 D P_PRID                         5P 0  value                                                                         000078
   148  /free                                                                                                               000079
   149     chainPROVIDE1(P_PRID                                                                                             000080
   150           );                                                                                                         000081
   151     return PRLINE2;                                                                                                  000082
   152  /end-free                                                                                                           000083
   153 pGetProAdr2       e                                                                                                  000084
   154  *=============================================                                                                      000085
   155 PGetProAdr3       B                     export                                                                       000086
   156 DGetProAdr3       PI                  like(prline3)                                                                  000087
   157 D P_PRID                         5P 0  value                                                                         000088
   158  /free                                                                                                               000089
   159     chainPROVIDE1(P_PRID                                                                                             000090
   160           );                                                                                                         000091
   161     return PRLINE3;                                                                                                  000092
   162  /end-free                                                                                                           000093
   163 pGetProAdr3       e                                                                                                  000094
   164  *=============================================                                                                      000095
   165 PGetProZip        B                     export                                                                       000096
   166 DGetProZip        PI                  like(przip)                                                                    000097
   167 D P_PRID                         5P 0  value                                                                         000098
   168  /free                                                                                                               000099
   169     chainPROVIDE1(P_PRID                                                                                             000100
   170           );                                                                                                         000101
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      6
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   171     return PRZIP;                                                                                                    000102
   172  /end-free                                                                                                           000103
   173 pGetProZip        e                                                                                                  000104
   174  *=============================================                                                                      000105
   175 PGetProCity       B                     export                                                                       000106
   176 DGetProCity       PI                  like(prcity)                                                                   000107
   177 D P_PRID                         5P 0  value                                                                         000108
   178  /free                                                                                                               000109
   179     chainPROVIDE1(P_PRID                                                                                             000110
   180           );                                                                                                         000111
   181     return PRCITY;                                                                                                   000112
   182  /end-free                                                                                                           000113
   183 pGetProCity       e                                                                                                  000114
   184  *=============================================                                                                      000115
   185 PGetProCountry    B                     export                                                                       000116
   186 DGetProCountry    PI                  like(prcoun)                                                                   000117
   187 D P_PRID                         5P 0  value                                                                         000118
   188  /free                                                                                                               000119
   189     chainPROVIDE1(P_PRID                                                                                             000120
   190           );                                                                                                         000121
   191     return PRCOUN;                                                                                                   000122
   192  /end-free                                                                                                           000123
   193 pGetProCountry    e                                                                                                  000124
   194  *=============================================                                                                      000125
   195 P ExistProvider   B                     export                                                                       000126
   196 D ExistProvider   PI              n                                                                                  000127
   197 D P_PRID                         5P 0  value                                                                         000128
   198  /free                                                                                                               000129
   199     chainPROVIDE1(P_PRID                                                                                             000130
   200           );                                                                                                         000131
   201     return %found(provide1) and prdel <> 'X';                                                                        000132
   202  /end-free                                                                                                           000133
   203 p ExistProvider   e                                                                                                  000134
   204                                                                                                                      000135
   205  *=============================================                                                                      000136
   206 PIsProDeleted     B                     export                                                                       000137
   207 DIsProDeleted     PI              n                                                                                  000138
   208 D P_PRID                         5P 0  value                                                                         000139
   209  /free                                                                                                               000140
   210     chainPROVIDE1(P_PRID                                                                                             000141
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      7
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   211           );                                                                                                         000142
   212     return PRDEL = 'X';                                                                                              000143
   213  /end-free                                                                                                           000144
   214 pIsProDeleted     e                                                                                                  000145
   215                                                                                                                      000146
   216 p chainPROVIDE1   b                                                                                                  000147
   217 d chainPROVIDE1   pi                                                                                                 000148
   218 D P_PRID                         5P 0  value                                                                         000149
   219  /free                                                                                                               000150
   220    if not %open(PROVIDE1);                                                                      B01                  000151
   221      open PROVIDE1;                                                                              01                  000152
   222    endif;                                                                                       E01                  000153
   223     if P_PRID <> PRID;                                                                          B01                  000154
   224       K_PRID =  P_PRID;                                                                          01                  000155
   225       clear *all FPROV;                                                                          01                  000156
   226       chain kf PROVIDE1;                                                                         01                  000157
   227     endif;                                                                                      E01                  000158
   228  /end-free                                                                                                           000159
   229 p chainPROVIDE1   e                                                                                                  000160
   230                                                                                                                      000161
   231 p closePROVIDE1   b                                                                                                  000162
   232 d closePROVIDE1   pi                                                                                                 000163
   233  /free                                                                                                               000164
   234    if %open(PROVIDE1);                                                                          B01                  000165
   235      close PROVIDE1;                                                                             01                  000166
   236    endif;                                                                                       E01                  000167
   237  /end-free                                                                                                           000168
   238 p closePROVIDE1   e                                                                                                  000169
   239                                                                                                                      000170
   240                                                                                                                      000171
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      8
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30    225 000156  The name or indicator FPROV is not defined.
*RNF7030 30     79 000010  The name or indicator K_PRID is not defined.
*RNF7030 30    176 000107  The name or indicator PRCITY is not defined.
*RNF7030 30     96 000027  The name or indicator PRCONT is not defined.
*RNF7030 30    186 000117  The name or indicator PRCOUN is not defined.
*RNF7030 30    201 000132  The name or indicator PRDEL is not defined.
*RNF7030 30     79 000010  The name or indicator PRID is not defined.
*RNF7030 30    136 000067  The name or indicator PRLINE1 is not defined.
*RNF7030 30    146 000077  The name or indicator PRLINE2 is not defined.
*RNF7030 30    156 000087  The name or indicator PRLINE3 is not defined.
*RNF7030 30    126 000057  The name or indicator PRMAIL is not defined.
*RNF7030 30     86 000017  The name or indicator PROVNM is not defined.
*RNF7030 30    106 000037  The name or indicator PRPHONE is not defined.
*RNF7030 30    116 000047  The name or indicator PRVAT is not defined.
*RNF7030 30    166 000097  The name or indicator PRZIP is not defined.
*RNF7503 30     91 000022  Expression contains an operand that is not defined.
*RNF7503 30    101 000032  Expression contains an operand that is not defined.
*RNF7503 30    111 000042  Expression contains an operand that is not defined.
*RNF7503 30    121 000052  Expression contains an operand that is not defined.
*RNF7503 30    131 000062  Expression contains an operand that is not defined.
*RNF7503 30    141 000072  Expression contains an operand that is not defined.
*RNF7503 30    151 000082  Expression contains an operand that is not defined.
*RNF7503 30    161 000092  Expression contains an operand that is not defined.
*RNF7503 30    171 000102  Expression contains an operand that is not defined.
*RNF7503 30    181 000112  Expression contains an operand that is not defined.
*RNF7503 30    191 000122  Expression contains an operand that is not defined.
*RNF7503 30    201 000132  Expression contains an operand that is not defined.
*RNF7503 30    212 000143  Expression contains an operand that is not defined.
*RNF7503 30    223 000154  Expression contains an operand that is not defined.
*RNF7503 30    224 000155  Expression contains an operand that is not defined.
*RNF7503 30    225 000156  Expression contains an operand that is not defined.
*RNF7503 30    226 000157  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     5    1 PROVIDER.+ ./qprotosrc/PROVIDER.rpgleinc      819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page      9
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         PROVIDE1          DISK                    3D    201     220     221
                                                 226     234     235
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         CHAINPROVIDE1     PROTOTYPE              76D     89M     99M    109M
                                                 119M    129M    139M    149M
                                                 159M    169M    179M    189M
                                                 199M    210M    216     217
                                                 229
         CLOSEPROVIDE1     PROTOTYPE              74D    231     232     238
         EXISTPROVIDER     N(1)                   69D    195     196     203
                           PROTOTYPE
*RNF7030 FPROV             **UNDEF**             225M
         GETPROADR1        A(50)                  34D    135     136     143
                           PROTOTYPE
         GETPROADR2        A(50)                  39D    145     146     153
                           PROTOTYPE
         GETPROADR3        A(50)                  44D    155     156     163
                           PROTOTYPE
         GETPROCITY        A(30)                  54D    175     176     183
                           PROTOTYPE
         GETPROCONT        A(30)                  14D     95      96     103
                           PROTOTYPE
         GETPROCOUNTRY     A(2)                   59D    185     186     193
                           PROTOTYPE
         GETPROMAIL        A(50)                  29D    125     126     133
                           PROTOTYPE
         GETPRONAME        A(30)                   9D     85      86      93
                           PROTOTYPE
         GETPROPHONE       A(15)                  19D    105     106     113
                           PROTOTYPE
         GETPROVAT         A(12)                  24D    115     116     123
                           PROTOTYPE
         GETPROZIP         A(10)                  49D    165     166     173
                           PROTOTYPE
         ISPRODELETED      N(1)                   64D    206     207     214
                           PROTOTYPE
*RNF7030 K_PRID            **UNDEF**              79D     82     224M
         KF                KLIST                  81D    226
*RNF7030 PRCITY            **UNDEF**             176     181
*RNF7030 PRCONT            **UNDEF**              96     101
*RNF7030 PRCOUN            **UNDEF**             186     191
*RNF7030 PRDEL             **UNDEF**             201     212
*RNF7030 PRID              **UNDEF**              79     223
*RNF7030 PRLINE1           **UNDEF**             136     141
*RNF7030 PRLINE2           **UNDEF**             146     151
*RNF7030 PRLINE3           **UNDEF**             156     161
*RNF7030 PRMAIL            **UNDEF**             126     131
*RNF7030 PROVNM            **UNDEF**              86      91
*RNF7030 PRPHONE           **UNDEF**             106     111
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page     10
*RNF7030 PRVAT             **UNDEF**             116     121
*RNF7030 PRZIP             **UNDEF**             166     171
      Field References for subprocedure GETPRONAME
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                 87D     89
      Field References for subprocedure GETPROCONT
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                 97D     99
      Field References for subprocedure GETPROPHONE
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                107D    109
      Field References for subprocedure GETPROVAT
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                117D    119
      Field References for subprocedure GETPROMAIL
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                127D    129
      Field References for subprocedure GETPROADR1
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                137D    139
      Field References for subprocedure GETPROADR2
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                147D    149
      Field References for subprocedure GETPROADR3
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                157D    159
      Field References for subprocedure GETPROZIP
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                167D    169
      Field References for subprocedure GETPROCITY
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                177D    179
      Field References for subprocedure GETPROCOUNTRY
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                187D    189
      Field References for subprocedure EXISTPROVIDER
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                197D    199
      Field References for subprocedure ISPRODELETED
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                208D    210
      Field References for subprocedure CHAINPROVIDE1
         Field             Attributes         References (D=Defined M=Modified)
         P_PRID            P(5,0)                218D    223     224
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page     11
      Field References for subprocedure CLOSEPROVIDE1
         Field             Attributes         References (D=Defined M=Modified)
         No references in the source.
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page     12
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         No references in the source.
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page     13
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7030 30     15 The name or indicator is not defined.
*RNF7503 30     17 Expression contains an operand that is not defined.
*RNF2120 40      1 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/PRO300              BENOIT     07/11/22 16:42:52        Page     14
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :       33
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       33
  Source Totals:
    Records . . . . . . . . . . . . :      240
    Specifications  . . . . . . . . :      113
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       55
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtsqlrpgi obj(TEST/ORD901) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/ORD901.SQLRPGLE') COMMIT(*NONE) OBJTYPE(*MODULE) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTRLS() DBGVIEW(*SOURCE) RPGPPOPT(*LVL2) COMPILEOPT('TGTCCSID(297)')
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.54.076060000

CPD000D: Command QSYS/CRTSQLRPGI not safe for a multithreaded job.
SQL9001: SQL precompile failed.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD901              BENOIT     07/11/22 16:42:54        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   ORD901
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/ORD90
                                       1.SQLRPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R3M0
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NORMVCOMMENT *EXPINCLUDE   *NOSEQSRC
  Output source file . . . . . . . :   QSQLPRE
    Library  . . . . . . . . . . . :     QTEMP
  Output source member . . . . . . :   ORD901
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD901              BENOIT     07/11/22 16:42:54        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 forder     UF   E             DISK                                                                                   000001
     2                                                                                                                      000002
     3 d lastdate        s              8  0                                                                                000003
     4 d today           s              8  0                                                                                000004
     5 d days            s              5  0                                                                                000005
     6                                                                                                                      000006
     7  /free                                                                                                               000007
     8     exec sql select max(ordate)  into :LastDate from order;                                                          000008
     9     if lastdate = 0;                                                                                                 000009
    10       *inlr = *on;                                                                                                   000010
    11       return;                                                                                                        000011
    12     ENDIF;                                                                                                           000012
    13     today = %dec(%date():*iso);                                                                                      000013
    14     days = %diff(%date():%date(lastdate:*iso):*d);                                                                   000014
    15     lastdate = %dec(%date() - %days(10):*iso);                                                                       000015
    16     read order;                                                                                                      000016
    17     dow not %eof;                                                                                                    000017
    18       ordate = %dec(%date(ordate:*iso) + %days(days):*iso);                                                          000018
    19       if ordatdel > 0;                                                                                               000019
    20          ordatdel = %dec(%date(ordatdel:*iso) + %days(days):*iso);                                                   000020
    21          if  ordatdel > today;                                                                                       000021
    22            ordatdel = 0;                                                                                             000022
    23          ENDIF;                                                                                                      000023
    24       ENDIF;                                                                                                         000024
    25       if ordatclo > 0;                                                                                               000025
    26          ordatclo = %dec(%date(ordatclo:*iso) + %days(days):*iso);                                                   000026
    27          if  ordatclo > today ;                                                                                      000027
    28            ordatclo = 0;                                                                                             000028
    29          ENDIF;                                                                                                      000029
    30       else;                                                                                                          000030
    31          if ordatdel > 0 and ordatdel < lastdate ;                                                                   000031
    32            ordatclo =  %dec(%date(ordatdel:*iso) + %days(10):*iso);                                                  000032
    33          ENDIF;                                                                                                      000033
    34       ENDIF;                                                                                                         000034
    35       oryear = %subdt(%date(ordate:*iso):*Y);                                                                        000035
    36       update forde;                                                                                                  000036
    37       read order;                                                                                                    000037
    38     ENDDO;                                                                                                           000038
    39     exec sql Update detord d set odyear = (select oryear                                                             000039
    40            from order where d.odorid = orid)                                                                         000040
    41            where odyear <> (select oryear                                                                            000041
    42            from order where d.odorid = orid) ;                                                                       000042
    43     exec sql  UPDATE CUSTOMER  C SET CULASTORD =                                                                     000043
    44          ( SELECT MAX ( ORDATE ) FROM "ORDER"                                                                        000044
    45                  WHERE C.CUID = ORCUID )                                                                             000045
    46            WHERE EXISTS ( SELECT ORCUID FROM "ORDER"                                                                 000046
    47                  WHERE C.CUID = ORCUID );                                                                            000047
    48     *inlr = *on;                                                                                                     000048
    49  /end-free                                                                                                           000049
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD901              BENOIT     07/11/22 16:42:54        Page      3
Line   <---------------------- Data Records -------------------------------------------------------------->      Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Id  Number
                       C o m p i l e   T i m e   D a t a
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD901              BENOIT     07/11/22 16:42:54        Page      4
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/ORD901              BENOIT     07/11/22 16:42:54        Page      5
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        0
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        0
  Source Totals:
    Records . . . . . . . . . . . . :       49
    Specifications  . . . . . . . . :       45
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :        0
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Diagnostic check of source is complete. Highest severity is 00.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ORD901                      07/11/22 16:42:54          Page     1
Source type...............RPG
Object name...............TEST/ORD901
Source file...............QTEMP/QSQLPRE
Member....................*OBJ
To source file............QTEMP/QSQLTEMP1
Options...................*LSTDBG
RPG preprocessor options..*LVL2
Listing option............*PRINT
Target release............V7R3M0
INCLUDE file..............*LIBL/QRPGLESRC
Commit....................*NONE
Allow copy of data........*OPTIMIZE
Close SQL cursor..........*ENDACTGRP
Allow blocking............*ALLREAD
Delay PREPARE.............*NO
Concurrent access
  resolution..............*DFT
Generation level..........10
Printer file..............*LIBL/QSYSPRT
Date format...............*JOB
Date separator............*JOB
Time format...............*HMS
Time separator ...........*JOB
Replace...................*YES
Relational database.......*LOCAL
User .....................*CURRENT
RDB connect method........*DUW
Default collection........*NONE
Dynamic default
  collection..............*NO
Package name..............*OBJLIB/*OBJ
Path......................*NAMING
SQL rules.................*DB2
Created object type.......*MODULE
Debugging view............*SOURCE
Debugging encryption key..*NONE
User profile .............*NAMING
Dynamic user profile......*USER
Sort sequence.............*JOB
Language ID...............*JOB
IBM SQL flagging..........*NOFLAG
ANS flagging..............*NONE
Text......................
Source file CCSID.........297
Job CCSID.................37
Decimal result options:
  Maximum precision.......31
  Maximum scale...........31
  Minimum divide scale....0
DECFLOAT rounding mode....*HALFEVEN
Compiler options..........TGTCCSID(297)
Source member changed on 07/11/22  16:42:54
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ORD901                      07/11/22 16:42:54          Page     2
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
    1        forder     UF   E             DISK                                            000001   07/11/22
    2                                                                                      000002   07/11/22
    3        d lastdate        s              8  0                                         000003   07/11/22
    4        d today           s              8  0                                         000004   07/11/22
    5        d days            s              5  0                                         000005   07/11/22
    6                                                                                      000006   07/11/22
    7         /free                                                                        000007   07/11/22
    8            exec sql select max(ordate)  into :LastDate from order;                   000008   07/11/22
    9            if lastdate = 0;                                                          000009   07/11/22
   10              *inlr = *on;                                                            000010   07/11/22
   11              return;                                                                 000011   07/11/22
   12            ENDIF;                                                                    000012   07/11/22
   13            today = %dec(%date():*iso);                                               000013   07/11/22
   14            days = %diff(%date():%date(lastdate:*iso):*d);                            000014   07/11/22
   15            lastdate = %dec(%date() - %days(10):*iso);                                000015   07/11/22
   16            read order;                                                               000016   07/11/22
   17            dow not %eof;                                                             000017   07/11/22
   18              ordate = %dec(%date(ordate:*iso) + %days(days):*iso);                   000018   07/11/22
   19              if ordatdel > 0;                                                        000019   07/11/22
   20                 ordatdel = %dec(%date(ordatdel:*iso) + %days(days):*iso);            000020   07/11/22
   21                 if  ordatdel > today;                                                000021   07/11/22
   22                   ordatdel = 0;                                                      000022   07/11/22
   23                 ENDIF;                                                               000023   07/11/22
   24              ENDIF;                                                                  000024   07/11/22
   25              if ordatclo > 0;                                                        000025   07/11/22
   26                 ordatclo = %dec(%date(ordatclo:*iso) + %days(days):*iso);            000026   07/11/22
   27                 if  ordatclo > today ;                                               000027   07/11/22
   28                   ordatclo = 0;                                                      000028   07/11/22
   29                 ENDIF;                                                               000029   07/11/22
   30              else;                                                                   000030   07/11/22
   31                 if ordatdel > 0 and ordatdel < lastdate ;                            000031   07/11/22
   32                   ordatclo =  %dec(%date(ordatdel:*iso) + %days(10):*iso);           000032   07/11/22
   33                 ENDIF;                                                               000033   07/11/22
   34              ENDIF;                                                                  000034   07/11/22
   35              oryear = %subdt(%date(ordate:*iso):*Y);                                 000035   07/11/22
   36              update forde;                                                           000036   07/11/22
   37              read order;                                                             000037   07/11/22
   38            ENDDO;                                                                    000038   07/11/22
   39            exec sql Update detord d set odyear = (select oryear                      000039   07/11/22
   40                   from order where d.odorid = orid)                                  000040   07/11/22
   41                   where odyear <> (select oryear                                     000041   07/11/22
   42                   from order where d.odorid = orid) ;                                000042   07/11/22
   43            exec sql  UPDATE CUSTOMER  C SET CULASTORD =                              000043   07/11/22
   44                 ( SELECT MAX ( ORDATE ) FROM "ORDER"                                 000044   07/11/22
   45                         WHERE C.CUID = ORCUID )                                      000045   07/11/22
   46                   WHERE EXISTS ( SELECT ORCUID FROM "ORDER"                          000046   07/11/22
   47                         WHERE C.CUID = ORCUID );                                     000047   07/11/22
   48            *inlr = *on;                                                              000048   07/11/22
   49         /end-free                                                                    000049   07/11/22
                                * * * * *  E N D  O F  S O U R C E  * * * * *
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ORD901                      07/11/22 16:42:54          Page     3
                                               CROSS REFERENCE
Data Names                    Define    Reference
"ORDER"                          ****     TABLE
                                          44 46
C                                ****     TABLE
                                          43 45 47
CITY                             43       VARCHAR(20) CCSID 37 COLUMN IN CUSTOMER
COUNTRY                          43       VARCHAR(20) CCSID 37 COLUMN IN CUSTOMER
CUID                             ****     COLUMN IN C
                                          45 47
CULASTORD                        ****     COLUMN
                                          43
CUSTOMER                         ****     TABLE
                                          43
D                                ****     TABLE
                                          39 40 42
DAYS                             5        DECIMAL(5,0)
DETORD                           ****     TABLE
                                          39
ID                               43       VARCHAR(20) CCSID 37 COLUMN (NOT NULL) IN CUSTOMER
LASTDATE                         3        DECIMAL(8,0)
                                          8
MILES_YTD                        43       INTEGER PRECISION(9,0) COLUMN IN CUSTOMER
ODORID                           ****     COLUMN IN D
                                          40 42
ODYEAR                           ****     COLUMN
                                          39 41
ORCUID                           ****     COLUMN
                                          45 46 47
ORDATE                           ****     COLUMN
                                          8 44
ORDER                            ****     TABLE
                                          8 40 42
ORID                             ****     COLUMN
                                          40 42
ORYEAR                           ****     COLUMN
                                          39 41
PASSWORD                         43       VARCHAR(20) CCSID 37 COLUMN IN CUSTOMER
PHONENUMBER                      43       COLUMN FOR PHONE00001 IN CUSTOMER
PHONENUMBERTYPE                  43       COLUMN FOR PHONE00002 IN CUSTOMER
PHONE00001                       43       VARCHAR(15) CCSID 37 COLUMN IN CUSTOMER
PHONE00002                       43       VARCHAR(10) CCSID 37 COLUMN IN CUSTOMER
POSTALCODE                       43       VARCHAR(10) CCSID 37 COLUMN IN CUSTOMER
STATEPROVINCE                    43       COLUMN FOR STATE00001 IN CUSTOMER
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ORD901                      07/11/22 16:42:54          Page     4
                                               CROSS REFERENCE
STATE00001                       43       VARCHAR(20) CCSID 37 COLUMN IN CUSTOMER
STATUS                           43       VARCHAR(10) CCSID 37 COLUMN IN CUSTOMER
STREETADDRESS1                   43       COLUMN FOR STREE00001 IN CUSTOMER
STREETADDRESS2                   43       COLUMN FOR STREE00002 IN CUSTOMER
STREE00001                       43       VARCHAR(20) CCSID 37 COLUMN IN CUSTOMER
STREE00002                       43       VARCHAR(20) CCSID 37 COLUMN IN CUSTOMER
TODAY                            4        DECIMAL(8,0)
TOTAL_MILES                      43       COLUMN FOR TOTAL00001 IN CUSTOMER
TOTAL00001                       43       INTEGER PRECISION(9,0) COLUMN IN CUSTOMER
5770ST1 V7R3M0 160422            Create SQL ILE RPG Object         ORD901                      07/11/22 16:42:54          Page     5
                                             DIAGNOSTIC MESSAGES
MSG ID  SEV  RECORD  TEXT
SQL1001  30       1  External file definition for ORDER not found.
SQL1103  10       8  Position 59 Column definitions for table ORDER in *LIBL
                     not found.
SQL1103  10      39  Position 26 Column definitions for table DETORD in *LIBL
                     not found.
SQL1103  10      40  Position 22 Column definitions for table ORDER in *LIBL
                     not found.
SQL1103  10      40  Position 22 Column definitions for table ORDER in *LIBL
                     not found.
SQL1103  10      42  Position 22 Column definitions for table ORDER in *LIBL
                     not found.
SQL0205  30      43  Position 43 Column CULASTORD not in table CUSTOMER in
                     ACMEAIR.
SQL0205  30      43  Position 43 Column CULASTORD not in table CUSTOMER in
                     ACMEAIR.
SQL1103  10      44  Position 44 Column definitions for table ORDER in *LIBL
                     not found.
SQL1103  10      44  Position 44 Column definitions for table ORDER in *LIBL
                     not found.
SQL1103  10      46  Position 51 Column definitions for table ORDER in *LIBL
                     not found.
                    Message Summary
  Total     Info   Warning      Error   Severe  Terminal
     11        0         8          0        3         0
30 level severity errors found in source
   49 Source records processed
                               * * * * *  E N D  O F  L I S T I N G  * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/COU300) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/COU300.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.55.276306000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module COU300 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   COU300
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/COU30
                                       0.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 FCOUNTRY   if   e           k disk    usropn                                                                         000003
     4                                                                                                                      000004
     5  /copy qprotosrc/COUNTRY-Functions                                                                                   000005
======>       aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
*RNF0273 40 a      000005  Compiler not able to open the /COPY or /INCLUDE file;
                           directive ignored.
     6                                                                                                                      000006
*RNF2120 40      3 000003  External descriptions for file COUNTRY not found; file is
                           ignored.
     7 d chainCOUNTRY    pr                                                                                                 000007
     8 D P_COID                         2A    value                                                                         000008
     9                                                                                                                      000009
    10 D K_COID          S                   LIKE(COID)                                                                     000010
    11                                                                                                                      000011
    12 C     kf            klist                                                                                            000012
    13 C                   KFLD                    K_COID                                                                   000013
    14                                                                                                                      000014
    15  *=============================================                                                                      000015
    16 PGetCountryName   B                     export                                                                       000016
    17 DGetCountryName   PI                   like(countr)                                                                  000017
    18 D P_COID                         2A    value                                                                         000018
    19  /free                                                                                                               000019
    20     chainCOUNTRY(P_COID                                                                                              000020
    21           );                                                                                                         000021
    22     return COUNTR;                                                                                                   000022
    23  /end-free                                                                                                           000023
    24 pGetCountryName   e                                                                                                  000024
    25  *=============================================                                                                      000025
    26 PGetCountryIso3   B                     export                                                                       000026
    27 DGetCountryIso3   PI                   like(coiso)                                                                   000027
    28 D P_COID                         2A    value                                                                         000028
    29  /free                                                                                                               000029
    30     chainCOUNTRY(P_COID                                                                                              000030
    31           );                                                                                                         000031
    32     return COISO;                                                                                                    000032
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    33  /end-free                                                                                                           000033
    34 pGetCountryIso3   e                                                                                                  000034
    35                                                                                                                      000035
    36  *=============================================                                                                      000036
    37 P ExistCountry    B                     export                                                                       000037
    38 D ExistCountry    PI              n                                                                                  000038
    39 D P_COID                         2A    value                                                                         000039
    40  /free                                                                                                               000040
    41     chainCOUNTRY(P_COID                                                                                              000041
    42           );                                                                                                         000042
    43     return %found(country);                                                                                          000043
    44  /end-free                                                                                                           000044
    45 p ExistCountry    e                                                                                                  000045
    46                                                                                                                      000046
    47 p chainCOUNTRY    b                                                                                                  000047
    48 d chainCOUNTRY    pi                                                                                                 000048
    49 D P_COID                         2A    value                                                                         000049
    50  /free                                                                                                               000050
    51    if not %open(COUNTRY);                                                                       B01                  000051
    52      open COUNTRY;                                                                               01                  000052
    53    endif;                                                                                       E01                  000053
    54     if P_COID <> COID;                                                                          B01                  000054
    55       K_COID =  P_COID;                                                                          01                  000055
    56       clear *all FCOUN;                                                                          01                  000056
    57       chain kf COUNTRY;                                                                          01                  000057
    58     endif;                                                                                      E01                  000058
    59  /end-free                                                                                                           000059
    60 p chainCOUNTRY    e                                                                                                  000060
    61                                                                                                                      000061
    62 p closeCOUNTRY    b                                                                                                  000062
    63 d closeCOUNTRY    pi                                                                                                 000063
    64  /free                                                                                                               000064
    65    if %open(COUNTRY);                                                                           B01                  000065
    66      close COUNTRY;                                                                              01                  000066
    67    endif;                                                                                       E01                  000067
    68  /end-free                                                                                                           000068
    69 p closeCOUNTRY    e                                                                                                  000069
    70                                                                                                                      000070
    71                                                                                                                      000071
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      4
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30     10 000010  The name or indicator COID is not defined.
*RNF7030 30     27 000027  The name or indicator COISO is not defined.
*RNF7030 30     17 000017  The name or indicator COUNTR is not defined.
*RNF7030 30     56 000056  The name or indicator FCOUN is not defined.
*RNF7030 30     10 000010  The name or indicator K_COID is not defined.
*RNF7503 30     54 000054  Expression contains an operand that is not defined.
*RNF7503 30     55 000055  Expression contains an operand that is not defined.
*RNF7503 30     56 000056  Expression contains an operand that is not defined.
*RNF7503 30     57 000057  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      5
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         COUNTRY           DISK                    3D     43      51      52
                                                  57      65      66
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         CHAINCOUNTRY      PROTOTYPE               7D     20M     30M     41M
                                                  47      48      60
         CLOSECOUNTRY      PROTOTYPE              62      63      69
*RNF7030 COID              **UNDEF**              10      54
*RNF7030 COISO             **UNDEF**              27      32
*RNF7030 COUNTR            **UNDEF**              17      22
         EXISTCOUNTRY      N(1)                   37      38      45
                           PROTOTYPE
*RNF7030 FCOUN             **UNDEF**              56M
         GETCOUNTRYISO3                           26      27      34
                           PROTOTYPE
         GETCOUNTRYNAME                           16      17      24
                           PROTOTYPE
*RNF7030 K_COID            **UNDEF**              10D     13      55M
         KF                KLIST                  12D     57
      Field References for subprocedure GETCOUNTRYNAME
         Field             Attributes         References (D=Defined M=Modified)
         P_COID            A(2)                   18D     20
      Field References for subprocedure GETCOUNTRYISO3
         Field             Attributes         References (D=Defined M=Modified)
         P_COID            A(2)                   28D     30
      Field References for subprocedure EXISTCOUNTRY
         Field             Attributes         References (D=Defined M=Modified)
         P_COID            A(2)                   39D     41
      Field References for subprocedure CHAINCOUNTRY
         Field             Attributes         References (D=Defined M=Modified)
         P_COID            A(2)                   49D     54      55
      Field References for subprocedure CLOSECOUNTRY
         Field             Attributes         References (D=Defined M=Modified)
         No references in the source.
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      6
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         No references in the source.
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      7
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7030 30      5 The name or indicator is not defined.
*RNF7503 30      4 Expression contains an operand that is not defined.
*RNF0273 40      1 Compiler not able to open the /COPY or /INCLUDE file;
                   directive ignored.
*RNF2120 40      1 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/COU300              BENOIT     07/11/22 16:42:55        Page      8
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :       11
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       11
  Source Totals:
    Records . . . . . . . . . . . . :       71
    Specifications  . . . . . . . . :       36
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :        3
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to TEST.
CPC2196: Library TEST added to library list.

>> executing command: crtrpgmod module(TEST/FAM300) srcstmf('/home/BENOIT/bob-recursive-example/QRPGLESRC/FAM300.RPGLE') AUT() DBGVIEW(*ALL) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTCCSID(297) TGTRLS()
>> liblist: QSYS QSYS2 QHLPSYS QUSRSYS QSHELL TEST TEST QGPL QTEMP ACMEAIR
>> executing time: 2022-07-11-16.42.56.354527000

CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9308: Compilation stopped. Severity 40 errors found in program.
RNS9309: Compilation failed. Module FAM300 not created in library TEST.
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     BENOIT
  Module . . . . . . . . . . . . . :   FAM300
    Library  . . . . . . . . . . . :     TEST
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/BENOIT/bob-recursive-example/QRPGLESRC/FAM30
                                       0.RPGLE
    CCSID  . . . . . . . . . . . . :     1208
  TARGET CCSID . . . . . . . . . . :   297
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   07/11/22  15:00:59
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE
  REQUIRE PROTOTYPE FOR EXPORT . . :   *NO
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      2
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                          S o u r c e   L i s t i n g
     1 h nomain                                                                                                             000001
     2                                                                                                                      000002
     3 FFAMILLY   if   e           k disk    usropn                                                                         000003
     4                                                                                                                      000004
     5  /copy qprotosrc/FAMILLY                                                                                             000005
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  FAMILLY.r+                                                   *                     1
        * External name  . . . . . . :  ./qprotosrc/FAMILLY.rpgleinc                                 *                     1
        * Last change  . . . . . . . :  07/11/22  15:00:59                                           *                     1
        *--------------------------------------------------------------------------------------------*
     6+ *=============================================                                                                     1000001
     7+ * Get FAMILLY DESCRIPTION                                                                                          1000002
     8+ *=============================================                                                                     1000003
*RNF2120 40      3 000003  External descriptions for file FAMILLY not found; file is
                           ignored.
     9+DGetArtFamDesc    PR            50                                                                                  1000004
    10+D FAID                           3     value                                                                        1000005
    11+ *=============================================                                                                     1000006
    12+ * Ckeck if familly exist                                                                                           1000007
    13+ *=============================================                                                                     1000008
    14+D ExistArtFam     PR              n                                                                                 1000009
    15+D P_FAID                         3     value                                                                        1000010
    16+ *=============================================                                                                     1000011
    17+ * Get DELETE CODE X=DELETED                                                                                        1000012
    18+ *=============================================                                                                     1000013
    19+DIsArtFamDeleted  PR              n                                                                                 1000014
    20+D FAID                           3     value                                                                        1000015
    21+ *=============================================                                                                     1000016
    22+ * Close FAMILLY                                                                                                    1000017
    23+ *=============================================                                                                     1000018
    24+D CloseFAMILLY    PR                                                                                                1000019
    25+ *=============================================                                                                     1000020
    26+ * Select a Failly code                                                                                             1000021
    27+ *=============================================                                                                     1000022
    28+d SltArtFam       pr             3                                                                                  1000023
    29+d pcod                           3                                                                                  1000024
    30+                                                                                                                    1000025
    31                                                                                                                      000006
    32 d chainFAMILLY    pr                                                                                                 000007
    33 D P_FAID                         3     value                                                                         000008
    34                                                                                                                      000009
    35 D K_FAID          S                   LIKE(FAID)                                                                     000010
    36                                                                                                                      000011
    37 C     kf            klist                                                                                            000012
    38 C                   KFLD                    K_FAID                                                                   000013
    39                                                                                                                      000014
    40  *=============================================                                                                      000015
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    41 PGetArtFamDesc    B                     export                                                                       000016
    42 DGetArtFamDesc    PI                   like(fadesc)                                                                  000017
    43 D P_FAID                         3     value                                                                         000018
    44  /free                                                                                                               000019
    45     chainFAMILLY(P_FAID                                                                                              000020
    46           );                                                                                                         000021
    47     return FADESC;                                                                                                   000022
    48  /end-free                                                                                                           000023
    49 pGetArtFamDesc    e                                                                                                  000024
    50  *=============================================                                                                      000025
    51 P ExistArtFam     B                     export                                                                       000026
    52 D ExistArtFam     PI              n                                                                                  000027
    53 D P_FAID                         3     value                                                                         000028
    54  /free                                                                                                               000029
    55     chainFAMILLY(P_FAID                                                                                              000030
    56           );                                                                                                         000031
    57     return %found(familly) AND FADEL<>'D';                                                                           000032
    58  /end-free                                                                                                           000033
    59 p ExistArtFam     e                                                                                                  000034
    60                                                                                                                      000035
    61  *=============================================                                                                      000036
    62 PIsArtFamDeleted  B                     export                                                                       000037
    63 DIsArtFamDeleted  PI              n                                                                                  000038
    64 D P_FAID                         3     value                                                                         000039
    65  /free                                                                                                               000040
    66     chainFAMILLY(P_FAID                                                                                              000041
    67           );                                                                                                         000042
    68     return FADEL = 'X';                                                                                              000043
    69  /end-free                                                                                                           000044
    70 pIsArtFamDeleted  e                                                                                                  000045
    71                                                                                                                      000046
    72 p chainFAMILLY    b                                                                                                  000047
    73 d chainFAMILLY    pi                                                                                                 000048
    74 D P_FAID                         3     value                                                                         000049
    75  /free                                                                                                               000050
    76    if not %open(FAMILLY);                                                                       B01                  000051
    77      open FAMILLY;                                                                               01                  000052
    78    endif;                                                                                       E01                  000053
    79     if P_FAID <> FAID;                                                                          B01                  000054
    80       K_FAID =  P_FAID;                                                                          01                  000055
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      4
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    81       clear *all FFAMI;                                                                          01                  000056
    82       chain kf FAMILLY;                                                                          01                  000057
    83     endif;                                                                                      E01                  000058
    84  /end-free                                                                                                           000059
    85 p chainFAMILLY    e                                                                                                  000060
    86                                                                                                                      000061
    87 p closeFAMILLY    b                                                                                                  000062
    88 d closeFAMILLY    pi                                                                                                 000063
    89  /free                                                                                                               000064
    90    if %open(FAMILLY);                                                                           B01                  000065
    91      close FAMILLY;                                                                              01                  000066
    92    endif;                                                                                       E01                  000067
    93  /end-free                                                                                                           000068
    94 p closeFAMILLY    e                                                                                                  000069
    95                                                                                                                      000070
    96                                                                                                                      000071
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      5
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7030 30     57 000032  The name or indicator FADEL is not defined.
*RNF7030 30     42 000017  The name or indicator FADESC is not defined.
*RNF7030 30     35 000010  The name or indicator FAID is not defined.
*RNF7030 30     81 000056  The name or indicator FFAMI is not defined.
*RNF7030 30     35 000010  The name or indicator K_FAID is not defined.
*RNF7503 30     47 000022  Expression contains an operand that is not defined.
*RNF7503 30     57 000032  Expression contains an operand that is not defined.
*RNF7503 30     68 000043  Expression contains an operand that is not defined.
*RNF7503 30     79 000054  Expression contains an operand that is not defined.
*RNF7503 30     80 000055  Expression contains an operand that is not defined.
*RNF7503 30     81 000056  Expression contains an operand that is not defined.
*RNF7503 30     82 000057  Expression contains an operand that is not defined.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     5    1 FAMILLY.r+ ./qprotosrc/FAMILLY.rpgleinc       819  07/11/22 15:00:59
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      6
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         FAMILLY           DISK                    3D     57      76      77
                                                  82      90      91
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         CHAINFAMILLY      PROTOTYPE              32D     45M     55M     66M
                                                  72      73      85
         CLOSEFAMILLY      PROTOTYPE              24D     87      88      94
         EXISTARTFAM       N(1)                   14D     51      52      59
                           PROTOTYPE
*RNF7030 FADEL             **UNDEF**              57      68
*RNF7030 FADESC            **UNDEF**              42      47
*RNF7030 FAID              **UNDEF**              35      79
*RNF7030 FFAMI             **UNDEF**              81M
         GETARTFAMDESC     A(50)                   9D     41      42      49
                           PROTOTYPE
         ISARTFAMDELETED   N(1)                   19D     62      63      70
                           PROTOTYPE
*RNF7030 K_FAID            **UNDEF**              35D     38      80M
         KF                KLIST                  37D     82
*RNF7031 SLTARTFAM         A(3)                   28D
                           PROTOTYPE
      Field References for subprocedure GETARTFAMDESC
         Field             Attributes         References (D=Defined M=Modified)
         P_FAID            A(3)                   43D     45
      Field References for subprocedure EXISTARTFAM
         Field             Attributes         References (D=Defined M=Modified)
         P_FAID            A(3)                   53D     55
      Field References for subprocedure ISARTFAMDELETED
         Field             Attributes         References (D=Defined M=Modified)
         P_FAID            A(3)                   64D     66
      Field References for subprocedure CHAINFAMILLY
         Field             Attributes         References (D=Defined M=Modified)
         P_FAID            A(3)                   74D     79      80
      Field References for subprocedure CLOSEFAMILLY
         Field             Attributes         References (D=Defined M=Modified)
         No references in the source.
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      7
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         SLTARTFAM                                28
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      8
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00      1 The name or indicator is not referenced.
*RNF7030 30      5 The name or indicator is not defined.
*RNF7503 30      7 Expression contains an operand that is not defined.
*RNF2120 40      1 External description not found for file specified as
                   externally described; file ignored.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R3M0  160422 RN        IBM ILE RPG             TEST/FAM300              BENOIT     07/11/22 16:42:56        Page      9
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        1
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :       13
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       14
  Source Totals:
    Records . . . . . . . . . . . . :       96
    Specifications  . . . . . . . . :       45
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       18
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 40 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

